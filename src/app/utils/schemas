CREATE TABLE IF NOT EXISTS `tontine` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `actif` bit(1) NOT NULL,
  `created_at` date DEFAULT NULL,
  `frequence` bigint(20) NOT NULL,
  `nb_seances` int(11) DEFAULT NULL,
  `nom` varchar(255) NOT NULL,
  `taux_echec` double DEFAULT NULL,
  `taux_echec_b` double DEFAULT NULL,
  `taux_retard` double DEFAULT NULL,
  `taux_tontine` double DEFAULT NULL,
  `updated_at` date DEFAULT NULL,
  `type_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `FKm39f3q6maayxxhexuaa4jndf9` (`type_id`),
  CONSTRAINT `FKm39f3q6maayxxhexuaa4jndf9` FOREIGN KEY (`type_id`) REFERENCES `type_tontine` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=22 DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS `membres` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `nom` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `ddn` date NOT NULL,
  `ldn` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `sexe` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `profession` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `cni` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `dcni` date NOT NULL,
  `tel` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `adresse` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `image` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `actif` tinyint(1) NOT NULL DEFAULT '1',
  `p1` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `p2` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `p3` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `p4` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `p5` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` date DEFAULT NULL,
  `updated_at` date DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=245 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS `enregistrements` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `created_at` date DEFAULT NULL,
  `rang` bigint(20) NOT NULL,
  `updated_at` date DEFAULT NULL,
  `membre_id` bigint(20) DEFAULT NULL,
  `tontine_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `FKhjmivapx45mtu9h867oqjite7` (`membre_id`),
  KEY `FKcwtvcava47tqfgt4bhqago75w` (`tontine_id`),
  CONSTRAINT `FKcwtvcava47tqfgt4bhqago75w` FOREIGN KEY (`tontine_id`) REFERENCES `tontine` (`id`),
  CONSTRAINT `FKhjmivapx45mtu9h867oqjite7` FOREIGN KEY (`membre_id`) REFERENCES `membres` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1120 DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS `cotisations` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `complement` double DEFAULT NULL,
  `created_at` date DEFAULT NULL,
  `gratuit` bigint(20) NOT NULL,
  `nom` varchar(255) NOT NULL,
  `rang` bigint(20) NOT NULL,
  `statut` bigint(20) NOT NULL,
  `taux_echec` double DEFAULT NULL,
  `taux_tontine` double DEFAULT NULL,
  `supplement` double DEFAULT NULL,
  `taux_vente` double DEFAULT NULL,
  `tauxretard` double DEFAULT NULL,
  `updated_at` date DEFAULT NULL,
  `beneficiaire_id` bigint(20) DEFAULT NULL,
  `tontine_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `FKm2qv54f5ddcrp5re24gip3lfe` (`beneficiaire_id`),
  KEY `FKcpm2po97yv19ie3liklr0v9hl` (`tontine_id`),
  CONSTRAINT `FKcpm2po97yv19ie3liklr0v9hl` FOREIGN KEY (`tontine_id`) REFERENCES `tontine` (`id`),
  CONSTRAINT `FKm2qv54f5ddcrp5re24gip3lfe` FOREIGN KEY (`beneficiaire_id`) REFERENCES `beneficiaires` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=966 DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS `participations` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `retard` tinyint(1) NOT NULL DEFAULT '0',
  `echec` tinyint(1) NOT NULL DEFAULT '1',
  `tontine` tinyint(1) NOT NULL DEFAULT '0',
  `cotisation_id` bigint(20) NOT NULL,
  `enregistrement_id` bigint(20) NOT NULL,
  `created_at` date DEFAULT NULL,
  `updated_at` date DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `participations_cotisation_id_index` (`cotisation_id`),
  KEY `participations_enregistrement_id_index` (`enregistrement_id`),
  CONSTRAINT `FKhqixgf5ge9vxqv64frh0e1we2` FOREIGN KEY (`cotisation_id`) REFERENCES `cotisations` (`id`),
  CONSTRAINT `FKpkki21rryldw41t74o4yedsym` FOREIGN KEY (`enregistrement_id`) REFERENCES `enregistrements` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=50979 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS `beneficiaires` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `created_at` date DEFAULT NULL,
  `taux_cotise` double DEFAULT NULL,
  `taux_du` double DEFAULT NULL,
  `taux_remis` double DEFAULT NULL,
  `taux_retranche` double DEFAULT NULL,
  `updated_at` date DEFAULT NULL,
  `avaliste` bigint(20) DEFAULT NULL,
  `enregistrement_id` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `FKocw3kbucht2b4im21oaavbyye` (`avaliste`),
  KEY `FKe3xu4tuqauy3eb0735w8voyix` (`enregistrement_id`),
  CONSTRAINT `FKe3xu4tuqauy3eb0735w8voyix` FOREIGN KEY (`enregistrement_id`) REFERENCES `enregistrements` (`id`),
  CONSTRAINT `FKocw3kbucht2b4im21oaavbyye` FOREIGN KEY (`avaliste`) REFERENCES `enregistrements` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=922 DEFAULT CHARSET=utf8mb4;