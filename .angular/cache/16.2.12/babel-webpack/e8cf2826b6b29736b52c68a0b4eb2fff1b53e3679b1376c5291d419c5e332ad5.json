{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Services/tontine-service.service\";\nimport * as i2 from \"../../Services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/table\";\nimport * as i5 from \"../../money.pipe\";\nfunction EtatComponent_th_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" No. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EtatComponent_td_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13)(1, \"span\", 14);\n    i0.ɵɵtext(2, \" No :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r12 = ctx.$implicit;\n    const i_r13 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r1.getClass(element_r12));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i_r13 + 1, \" \");\n  }\n}\nfunction EtatComponent_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Tontine \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EtatComponent_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13)(1, \"span\", 14);\n    i0.ɵɵtext(2, \" Tontine :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r14 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r3.getClass(element_r14));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", element_r14.cotisation.nom, \" \");\n  }\n}\nfunction EtatComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Seance \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EtatComponent_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13)(1, \"span\", 14);\n    i0.ɵɵtext(2, \" Seance :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r15 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r5.getClass(element_r15));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", element_r15.cotisation.rang, \" \");\n  }\n}\nfunction EtatComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Participation \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EtatComponent_td_14_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1, \" Echec non payer \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EtatComponent_td_14_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Retard\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EtatComponent_td_14_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Echec payer le : \", element_r17.updatedAt, \"\");\n  }\n}\nfunction EtatComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13)(1, \"span\", 14);\n    i0.ɵɵtext(2, \" Participation :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, EtatComponent_td_14_span_3_Template, 2, 0, \"span\", 15);\n    i0.ɵɵtemplate(4, EtatComponent_td_14_span_4_Template, 2, 0, \"span\", 16);\n    i0.ɵɵtemplate(5, EtatComponent_td_14_span_5_Template, 2, 1, \"span\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r17 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r7.getClass(element_r17));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", element_r17.echec);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r17.retard);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !element_r17.tontine && !element_r17.echec);\n  }\n}\nfunction EtatComponent_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Montant \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EtatComponent_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13)(1, \"span\", 14);\n    i0.ɵɵtext(2, \" Montant :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"money\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r23 = ctx.$implicit;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r9.getClass(element_r23));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 3, ctx_r9.checkMontant(element_r23)), \" \");\n  }\n}\nfunction EtatComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 18);\n  }\n}\nfunction EtatComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 19);\n  }\n}\nclass EtatComponent {\n  constructor(tontineService, authService) {\n    this.tontineService = tontineService;\n    this.authService = authService;\n    this.displayedColumns = ['No', 'Tontine', 'Seance', \"Etat\", \"Montant\"];\n    this.dataSource = [];\n    this.echecs = [];\n    this.retards = [];\n    this.montants = [];\n    this.ben = [];\n    this.tontines = [];\n    this.tontid = [];\n    this.id = 0;\n  }\n  ngOnInit() {\n    this.id = Number(this.authService.appUser?.membre.id);\n    console.log(\"id\", this.id);\n    this.tontineService.getMyEchecs(this.id).subscribe(data => {\n      this.echecs = data;\n      for (let echec of data) {\n        this.dataSource.push(echec);\n      }\n      console.log(\"Echecs\", data);\n    });\n    this.tontineService.getMyRetards(this.id).subscribe(data => {\n      this.retards = data;\n      for (let retard of data) {\n        this.dataSource.push(retard);\n      }\n      console.log(\"Retard\", data);\n    });\n    this.tontineService.getben(this.id).subscribe(data => {\n      this.ben = data;\n      for (let benef of data) {\n        if (benef.enregistrement?.tontine) {\n          this.tontines.push(benef.enregistrement.tontine);\n          this.tontid.push(benef.enregistrement.tontine.id);\n        }\n      }\n      console.log(\"ben\", data);\n    });\n  }\n  checkMontant(part) {\n    let ton = part.enregistrement.tontine;\n    if (ton) return ton.tauxTontine + part.cotisation.tauxEchec;\n    return 0;\n  }\n  getClass(part) {\n    if (part.echec) return \"echec\";\n    if (part.retard) return \"retard\";\n    return \"echecP\";\n  }\n  static #_ = this.ɵfac = function EtatComponent_Factory(t) {\n    return new (t || EtatComponent)(i0.ɵɵdirectiveInject(i1.TontineServiceService), i0.ɵɵdirectiveInject(i2.AuthService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EtatComponent,\n    selectors: [[\"app-etat\"]],\n    decls: 20,\n    vars: 3,\n    consts: [[1, \"content\"], [1, \"tab\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"No\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 3, \"class\", 4, \"matCellDef\"], [\"matColumnDef\", \"Tontine\"], [\"matColumnDef\", \"Seance\"], [\"matColumnDef\", \"Etat\"], [\"matColumnDef\", \"Montant\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [1, \"mobile-label\"], [\"class\", \"lab\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"lab\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function EtatComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"table\", 2);\n        i0.ɵɵelementContainerStart(3, 3);\n        i0.ɵɵtemplate(4, EtatComponent_th_4_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(5, EtatComponent_td_5_Template, 4, 3, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(6, 6);\n        i0.ɵɵtemplate(7, EtatComponent_th_7_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(8, EtatComponent_td_8_Template, 4, 3, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(9, 7);\n        i0.ɵɵtemplate(10, EtatComponent_th_10_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(11, EtatComponent_td_11_Template, 4, 3, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(12, 8);\n        i0.ɵɵtemplate(13, EtatComponent_th_13_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(14, EtatComponent_td_14_Template, 6, 5, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(15, 9);\n        i0.ɵɵtemplate(16, EtatComponent_th_16_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(17, EtatComponent_td_17_Template, 5, 5, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(18, EtatComponent_tr_18_Template, 1, 0, \"tr\", 10);\n        i0.ɵɵtemplate(19, EtatComponent_tr_19_Template, 1, 0, \"tr\", 11);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource.slice());\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n      }\n    },\n    dependencies: [i3.NgIf, i4.MatTable, i4.MatHeaderCellDef, i4.MatHeaderRowDef, i4.MatColumnDef, i4.MatCellDef, i4.MatRowDef, i4.MatHeaderCell, i4.MatCell, i4.MatHeaderRow, i4.MatRow, i5.MoneyPipe],\n    styles: [\".content[_ngcontent-%COMP%] {\\n  width: 99vw;\\n  height: auto;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n}\\n\\n.tab[_ngcontent-%COMP%] {\\n  width: 70%;\\n  margin: 45px 0 75px 0;\\n  background-color: rgba(255, 255, 255, 0.2);\\n  -webkit-backdrop-filter: blur(10px);\\n          backdrop-filter: blur(10px);\\n  color: #efefef;\\n  border: 1px solid rgba(255, 255, 255, 0.7);\\n  border-radius: 1%;\\n  box-shadow: 0 25px 35px rgba(38, 38, 38, 0.8);\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  position: relative;\\n  background-color: rgba(255, 255, 255, 0.2);\\n  -webkit-backdrop-filter: blur(10px);\\n          backdrop-filter: blur(10px);\\n  color: #efefef;\\n  border: 1px solid rgba(255, 255, 255, 0.7);\\n  border-radius: 1%;\\n  box-shadow: 0 25px 35px rgba(38, 38, 38, 0.8);\\n  background: transparent;\\n}\\n\\n.echec[_ngcontent-%COMP%] {\\n  background: rgba(255, 18, 2, 0.3);\\n  width: 100%;\\n}\\n\\n.echecP[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 0, 0.3);\\n  width: 100%;\\n}\\n\\n.lab[_ngcontent-%COMP%] {\\n  color: #3f51b5;\\n}\\n\\n.mat-column-No[_ngcontent-%COMP%] {\\n  width: 32px;\\n  padding-right: 24px;\\n  text-align: center;\\n}\\n\\n.mobile-label[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n\\n@media (max-width: 600px) {\\n  .tab[_ngcontent-%COMP%] {\\n    width: 95%;\\n  }\\n  .mobile-label[_ngcontent-%COMP%] {\\n    width: 80px !important;\\n    display: inline-block;\\n    font-weight: bold !important;\\n    margin-right: 2em;\\n  }\\n  .mat-mdc-header-row[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n  .mat-mdc-row[_ngcontent-%COMP%] {\\n    width: 100%;\\n    display: flex !important;\\n    flex-direction: column !important;\\n    align-items: flex-start;\\n    padding: 8px 24px;\\n    height: auto;\\n    border-bottom: 1px solid #464646;\\n  }\\n  .mdc-data-table__cell[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: row;\\n    padding: 0.7em;\\n    border: none;\\n    width: 100%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJpdmF0ZS9ldGF0L2V0YXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb0JBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0FBbkJGOztBQXNCQTtFQUNFLFVBQUE7RUFDQSxxQkFBQTtFQXBCRSwwQ0FBQTtFQUNBLG1DQUFBO1VBQUEsMkJBQUE7RUFDQSxjQUFBO0VBQ0EsMENBQUE7RUFDQSxpQkFBQTtFQUNBLDZDQUFBO0FBRUo7O0FBZ0JBO0VBQ0Usa0JBQUE7RUF4QkUsMENBQUE7RUFDQSxtQ0FBQTtVQUFBLDJCQUFBO0VBQ0EsY0FBQTtFQUNBLDBDQUFBO0VBQ0EsaUJBQUE7RUFDQSw2Q0FBQTtFQXFCRix1QkFBQTtBQVJGOztBQVVBO0VBQ0UsaUNBQUE7RUFDQSxXQUFBO0FBUEY7O0FBU0E7RUFDRSxrQ0FBQTtFQUNBLFdBQUE7QUFORjs7QUFTQTtFQUNFLGNBQUE7QUFORjs7QUFRQTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FBTEY7O0FBUUE7RUFDRSxhQUFBO0FBTEY7O0FBUUE7RUFFRTtJQUNFLFVBQUE7RUFORjtFQVVBO0lBQ0Usc0JBQUE7SUFDQSxxQkFBQTtJQUNBLDRCQUFBO0lBQ0EsaUJBQUE7RUFSRjtFQVlBO0lBQ0UsYUFBQTtFQVZGO0VBY0E7SUFDRSxXQUFBO0lBQ0Esd0JBQUE7SUFDQSxpQ0FBQTtJQUNBLHVCQUFBO0lBQ0EsaUJBQUE7SUFDQSxZQUFBO0lBQ0EsZ0NBQUE7RUFaRjtFQWNBO0lBQ0UsYUFBQTtJQUNBLG1CQUFBO0lBQ0EsY0FBQTtJQUNBLFlBQUE7SUFDQSxXQUFBO0VBWkY7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIkBtaXhpbiBnbGFzcy1tb3JwaCgkdHlwZSl7XHJcbiAgQGlmICR0eXBlID09IDF7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7XHJcbiAgICBjb2xvcjogI2VmZWZlZjtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDElO1xyXG4gICAgYm94LXNoYWRvdzogMCAyNXB4IDM1cHggIzI2MjYyNmNjO1xyXG5cclxuICB9XHJcbiAgQGlmICR0eXBlID09IDJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XHJcbiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7XHJcbiAgICBjb2xvcjogI2VmZWZlZjtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDElO1xyXG4gICAgYm94LXNoYWRvdzogMCAyNXB4IDM1cHggIzI2MjYyNmNjO1xyXG5cclxuICB9XHJcbn1cclxuLmNvbnRlbnR7XHJcbiAgd2lkdGg6IDk5dnc7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIC8vYmFja2dyb3VuZDogIzE3YTJiODtcclxufVxyXG4udGFie1xyXG4gIHdpZHRoOiA3MCU7XHJcbiAgbWFyZ2luOiA0NXB4IDAgNzVweCAwO1xyXG4gIEBpbmNsdWRlIGdsYXNzLW1vcnBoKDIpXHJcbn1cclxudGFibGV7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIEBpbmNsdWRlIGdsYXNzLW1vcnBoKDIpO1xyXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG59XHJcbi5lY2hlY3tcclxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMTgsIDIsIDAuMyk7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuLmVjaGVjUHtcclxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAwLCAwLjMpO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG5cclxufVxyXG4ubGFie1xyXG4gIGNvbG9yOiAjM2Y1MWI1O1xyXG59XHJcbi5tYXQtY29sdW1uLU5vIHtcclxuICB3aWR0aDogMzJweDtcclxuICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLm1vYmlsZS1sYWJlbCB7XHJcbiAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuQG1lZGlhKG1heC13aWR0aDogNjAwcHgpIHtcclxuXHJcbiAgLnRhYiB7XHJcbiAgICB3aWR0aDogOTUlO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3VzdG9tIGhlYWRlciBsYWJlbCB0aGF0IHNob3dzIGluIGVhY2ggY29sdW1uLCB3aXRoIGEgc2V0IHdpZHRoIGFuZCBib2xkIGZvbnRcclxuICAubW9iaWxlLWxhYmVsIHtcclxuICAgIHdpZHRoOiA4MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyZW07XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdGhlIGhlYWRlciByb3cgYWx0b2dldGhlclxyXG4gIC5tYXQtbWRjLWhlYWRlci1yb3cge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICB9XHJcblxyXG4gIC8vIFRoZSByb3cgY2VsbHMgc2hvdWxkIGRpc3BsYXkgYXMgYSBjb2x1bW4sIGp1c3RpZmllZCBsZWZ0LCB3aXRoIGEgYml0IG9mIGV4dHJhIHBhZGRpbmdcclxuICAubWF0LW1kYy1yb3cge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uICFpbXBvcnRhbnQ7XHJcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxuICAgIHBhZGRpbmc6IDhweCAyNHB4O1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM0NjQ2NDY7XHJcbiAgfVxyXG4gIC5tZGMtZGF0YS10YWJsZV9fY2VsbHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgcGFkZGluZzogMC43ZW07XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n    changeDetection: 0\n  });\n}\nexport { EtatComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵclassMap","ctx_r1","getClass","element_r12","ɵɵadvance","ɵɵtextInterpolate1","i_r13","ctx_r3","element_r14","cotisation","nom","ctx_r5","element_r15","rang","element_r17","updatedAt","ɵɵtemplate","EtatComponent_td_14_span_3_Template","EtatComponent_td_14_span_4_Template","EtatComponent_td_14_span_5_Template","ctx_r7","ɵɵproperty","echec","retard","tontine","ctx_r9","element_r23","ɵɵpipeBind1","checkMontant","ɵɵelement","EtatComponent","constructor","tontineService","authService","displayedColumns","dataSource","echecs","retards","montants","ben","tontines","tontid","id","ngOnInit","Number","appUser","membre","console","log","getMyEchecs","subscribe","data","push","getMyRetards","getben","benef","enregistrement","part","ton","tauxTontine","tauxEchec","_","ɵɵdirectiveInject","i1","TontineServiceService","i2","AuthService","_2","selectors","decls","vars","consts","template","EtatComponent_Template","rf","ctx","ɵɵelementContainerStart","EtatComponent_th_4_Template","EtatComponent_td_5_Template","ɵɵelementContainerEnd","EtatComponent_th_7_Template","EtatComponent_td_8_Template","EtatComponent_th_10_Template","EtatComponent_td_11_Template","EtatComponent_th_13_Template","EtatComponent_td_14_Template","EtatComponent_th_16_Template","EtatComponent_td_17_Template","EtatComponent_tr_18_Template","EtatComponent_tr_19_Template","slice"],"sources":["/home/ked/backups/Angular/DanguiUi/src/app/private/etat/etat.component.ts","/home/ked/backups/Angular/DanguiUi/src/app/private/etat/etat.component.html"],"sourcesContent":["import {ChangeDetectionStrategy, Component, OnInit} from '@angular/core';\nimport {TontineServiceService} from \"../../Services/tontine-service.service\";\nimport {Participation} from \"../../../Models/Entitys/Participation\";\nimport {AuthService} from \"../../Services/auth.service\";\nimport {Beneficiaire} from \"../../../Models/Entitys/Beneficiaire\";\nimport {Tontine} from \"../../../Models/Abstracts/Tontine\";\n\n@Component({\n  selector: 'app-etat',\n  templateUrl: './etat.component.html',\n  styleUrls: ['./etat.component.scss'],\n    changeDetection:ChangeDetectionStrategy.OnPush\n})\nexport class EtatComponent implements OnInit{\n\n  displayedColumns: string[] = ['No', 'Tontine', 'Seance' ,\"Etat\",\"Montant\"];\n  dataSource:Participation[]=[];\n  echecs:Participation[]=[];\n  retards:Participation[]=[];\n  montants:number[]=[];\n  ben:Beneficiaire[]=[];\n  tontines:Tontine[]=[];\n  tontid:number[]=[];\n  id:number=0;\n  destroys\n\n  constructor(private tontineService:TontineServiceService,private authService:AuthService) {\n  }\n  ngOnInit() {\n    this.id=Number(this.authService.appUser?.membre.id);\n    console.log(\"id\",this.id);\n    this.tontineService.getMyEchecs(this.id).subscribe(\n      data=>{\n        this.echecs=data;\n        for(let echec of data){\n          this.dataSource.push(echec);\n        }\n        console.log(\"Echecs\",data);\n      }\n    );\n\n    this.tontineService.getMyRetards(this.id).subscribe(\n      data=>{\n        this.retards=data;\n        for(let retard of data){\n          this.dataSource.push(retard);\n        }\n        console.log(\"Retard\",data);\n      }\n    );\n    this.tontineService.getben(this.id).subscribe(\n      data=>{\n        this.ben=data;\n        for (let benef of data){\n          if(benef.enregistrement?.tontine){\n            this.tontines.push(benef.enregistrement.tontine);\n            this.tontid.push(benef.enregistrement.tontine.id);\n          }\n        }\n        console.log(\"ben\" ,data);\n      }\n    )\n\n  }\n\n  checkMontant(part:Participation) {\n    let ton = part.enregistrement.tontine\n    if (ton)\n      return ton.tauxTontine + part.cotisation.tauxEchec;\n    return 0;\n  }\n\n  getClass(part:Participation){\n    if(part.echec)\n      return \"echec\";\n    if (part.retard)\n      return \"retard\";\n\n    return \"echecP\"\n  };\n}\n","<div class=\"content\">\n  <div class=\"tab\">\n    <table mat-table [dataSource]=\"dataSource.slice()\" class=\"mat-elevation-z8\">\n\n      <!--- Note that these columns can be defined in any order.\n            The actual rendered columns are set as a property on the row definition\" -->\n\n      <!-- Position Column -->\n      <ng-container matColumnDef=\"No\">\n        <th mat-header-cell *matHeaderCellDef> No. </th>\n        <td mat-cell *matCellDef=\"let element,let i = index\" [class]=\"getClass(element)\">\n          <span class=\"mobile-label\"> No :</span>\n          {{i+1}} </td>\n      </ng-container>\n\n      <!-- Name Column -->\n      <ng-container matColumnDef=\"Tontine\">\n        <th mat-header-cell *matHeaderCellDef> Tontine </th>\n        <td mat-cell *matCellDef=\"let element\" [class]=\"getClass(element)\">\n          <span class=\"mobile-label\"> Tontine :</span>\n          {{element.cotisation.nom}} </td>\n      </ng-container>\n\n      <!-- Weight Column -->\n      <ng-container matColumnDef=\"Seance\">\n        <th mat-header-cell *matHeaderCellDef> Seance </th>\n        <td mat-cell *matCellDef=\"let element,let i=index\" [class]=\"getClass(element)\">\n          <span class=\"mobile-label\"> Seance :</span>\n          {{element.cotisation.rang}} </td>\n      </ng-container>\n\n      <ng-container matColumnDef=\"Etat\">\n        <th mat-header-cell *matHeaderCellDef> Participation </th>\n        <td mat-cell *matCellDef=\"let element,let i=index\" [class]=\"getClass(element)\">\n\n          <span class=\"mobile-label\"> Participation :</span>\n          <span *ngIf=\"element.echec\" class=\"lab\"> Echec non payer </span>\n          <span *ngIf=\"element.retard\">Retard</span>\n          <span *ngIf=\"!element.tontine && !element.echec\" class=\"lab\">Echec payer le : {{element.updatedAt}}</span>\n        </td>\n      </ng-container>\n\n      <ng-container matColumnDef=\"Montant\">\n        <th mat-header-cell *matHeaderCellDef> Montant </th>\n        <td mat-cell *matCellDef=\"let element,let i=index\" [class]=\"getClass(element)\">\n          <span class=\"mobile-label\"> Montant :</span>\n          {{checkMontant(element)|money}} </td>\n      </ng-container>\n\n\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n    </table>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}