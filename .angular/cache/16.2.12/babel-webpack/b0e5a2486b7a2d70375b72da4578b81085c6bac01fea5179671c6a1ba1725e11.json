{"ast":null,"code":"import { MatCardModule } from \"@angular/material/card\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { MatTableModule } from \"@angular/material/table\";\nimport { MatListModule } from \"@angular/material/list\";\nimport { MatFormFieldModule } from \"@angular/material/form-field\";\nimport { MatInputModule } from \"@angular/material/input\";\nimport { MatSelectModule } from \"@angular/material/select\";\nimport { MatTabsModule } from \"@angular/material/tabs\";\nimport { MatGridListModule } from \"@angular/material/grid-list\";\nimport { DatePipe, NgForOf, NgIf } from \"@angular/common\";\nimport { MatAutocompleteModule } from \"@angular/material/autocomplete\";\nimport { FormControl, FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { RouterModule } from \"@angular/router\";\nimport { Epargnant } from \"../../../../Models/Entitys/Epargnant\";\nimport { Depot } from \"../../../../Models/Entitys/Depot\";\nimport { MatRadioModule } from \"@angular/material/radio\";\nimport { Garrantie } from \"../../../../Models/Entitys/Garrantie\";\nimport { Pret } from \"../../../../Models/Entitys/Pret\";\nimport { countNbDimanche } from \"../utils/countNbDimanche\";\nimport { buildTableColums } from \"../utils/buildTableColums\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../Services/membre-service.service\";\nimport * as i2 from \"../../../Services/epargne.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../../Services/tontine-service.service\";\nimport * as i6 from \"../../../Services/auth.service\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/table\";\nimport * as i10 from \"@angular/material/divider\";\nimport * as i11 from \"@angular/material/form-field\";\nimport * as i12 from \"@angular/material/input\";\nimport * as i13 from \"@angular/material/select\";\nimport * as i14 from \"@angular/material/core\";\nimport * as i15 from \"@angular/material/tabs\";\nimport * as i16 from \"@angular/material/grid-list\";\nimport * as i17 from \"@angular/material/autocomplete\";\nimport * as i18 from \"@angular/material/radio\";\nfunction CaisseEtatComponent_th_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \" No. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CaisseEtatComponent_td_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r11 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i_r11 + 1, \" \");\n  }\n}\nfunction CaisseEtatComponent_th_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \" Epargnants \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CaisseEtatComponent_td_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r12.epargnant == null ? null : element_r12.epargnant.membre.nom, \" \");\n  }\n}\nfunction CaisseEtatComponent_ng_container_46_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 25)(1, \"span\", 26);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const columns_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(columns_r13);\n  }\n}\nfunction CaisseEtatComponent_ng_container_46_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"td\", 27);\n  }\n}\nfunction CaisseEtatComponent_ng_container_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 22);\n    i0.ɵɵtemplate(1, CaisseEtatComponent_ng_container_46_th_1_Template, 3, 1, \"th\", 23);\n    i0.ɵɵtemplate(2, CaisseEtatComponent_ng_container_46_td_2_Template, 1, 0, \"td\", 24);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const columns_r13 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"matColumnDef\", columns_r13);\n  }\n}\nfunction CaisseEtatComponent_th_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \" Total \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CaisseEtatComponent_td_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r18.capital);\n  }\n}\nfunction CaisseEtatComponent_tr_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 28);\n  }\n}\nfunction CaisseEtatComponent_tr_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 29);\n  }\n}\nfunction CaisseEtatComponent_div_52_mat_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const epargnant_r26 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", epargnant_r26.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(epargnant_r26.membre == null ? null : epargnant_r26.membre.nom);\n  }\n}\nfunction CaisseEtatComponent_div_52_mat_grid_tile_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 37)(1, \"mat-form-field\", 52)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"delais\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 53);\n    i0.ɵɵelementStart(5, \"span\", 54);\n    i0.ɵɵtext(6, \"Mois\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_11_mat_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tontine_r32 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", tontine_r32.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(tontine_r32.nom.slice(15));\n  }\n}\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\nfunction CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-form-field\", 38)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Tontine\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-select\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_11_Template_mat_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const gage_r27 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(gage_r27.tontineId = $event);\n    });\n    i0.ɵɵtemplate(4, CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_11_mat_option_4_Template, 2, 2, \"mat-option\", 40);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const gage_r27 = i0.ɵɵnextContext().$implicit;\n    const ctx_r28 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", gage_r27.tontineId)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r28.tontinesGageble);\n  }\n}\nfunction CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_12_mat_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const epargnant_r38 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", epargnant_r38.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(epargnant_r38.membre == null ? null : epargnant_r38.membre.nom);\n  }\n}\nfunction CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-form-field\", 38)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Membre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-select\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_12_Template_mat_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const gage_r27 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(gage_r27.epargnantId = $event);\n    });\n    i0.ɵɵtemplate(4, CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_12_mat_option_4_Template, 2, 2, \"mat-option\", 40);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const gage_r27 = i0.ɵɵnextContext().$implicit;\n    const ctx_r29 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", gage_r27.epargnantId)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r29.dataSource);\n  }\n}\nfunction CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-form-field\", 63)(1, \"mat-label\");\n    i0.ɵɵtext(2, \"Autre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 64);\n    i0.ɵɵlistener(\"ngModelChange\", function CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_13_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r45);\n      const gage_r27 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(gage_r27.autres = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const gage_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", gage_r27.autres)(\"ngModelOptions\", i0.ɵɵpureFunction0(2, _c0));\n  }\n}\nfunction CaisseEtatComponent_div_52_mat_grid_tile_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 55)(1, \"div\", 56)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"type garrantie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-radio-group\", 57);\n    i0.ɵɵlistener(\"ngModelChange\", function CaisseEtatComponent_div_52_mat_grid_tile_25_Template_mat_radio_group_ngModelChange_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r48);\n      const gage_r27 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(gage_r27.type = $event);\n    });\n    i0.ɵɵelementStart(5, \"mat-radio-button\", 58);\n    i0.ɵɵtext(6, \"Tontine\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"mat-radio-button\", 59);\n    i0.ɵɵtext(8, \"Membre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"mat-radio-button\", 60);\n    i0.ɵɵtext(10, \"Autre\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_11_Template, 5, 4, \"mat-form-field\", 61);\n    i0.ɵɵtemplate(12, CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_12_Template, 5, 4, \"mat-form-field\", 61);\n    i0.ɵɵtemplate(13, CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_13_Template, 4, 3, \"mat-form-field\", 62);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const gage_r27 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", gage_r27.type)(\"ngModelOptions\", i0.ɵɵpureFunction0(5, _c0));\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", gage_r27.type == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", gage_r27.type == 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", gage_r27.type == 3);\n  }\n}\nfunction CaisseEtatComponent_div_52_mat_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const member_r49 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", member_r49.nom);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(member_r49.nom);\n  }\n}\nfunction CaisseEtatComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r51 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"mat-card\", 31)(2, \"mat-card-header\")(3, \"mat-card-subtitle\");\n    i0.ɵɵtext(4, \"Effectuer une Operation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-card-title\");\n    i0.ɵɵtext(6, \"Operation\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"mat-card-content\")(8, \"mat-form\", 32);\n    i0.ɵɵlistener(\"submit\", function CaisseEtatComponent_div_52_Template_mat_form_submit_8_listener() {\n      i0.ɵɵrestoreView(_r51);\n      const ctx_r50 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r50.deposit());\n    });\n    i0.ɵɵelementStart(9, \"mat-tab-group\", 33);\n    i0.ɵɵlistener(\"selectedIndexChange\", function CaisseEtatComponent_div_52_Template_mat_tab_group_selectedIndexChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r51);\n      const ctx_r52 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r52.index = $event);\n    });\n    i0.ɵɵelementStart(10, \"mat-tab\", 34)(11, \"div\", 35)(12, \"mat-grid-list\", 36)(13, \"mat-grid-tile\", 37)(14, \"mat-form-field\", 38)(15, \"mat-label\");\n    i0.ɵɵtext(16, \"Membre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"mat-select\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function CaisseEtatComponent_div_52_Template_mat_select_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r51);\n      const ctx_r53 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r53.emprunteurId = $event);\n    })(\"ngModelChange\", function CaisseEtatComponent_div_52_Template_mat_select_ngModelChange_17_listener() {\n      i0.ɵɵrestoreView(_r51);\n      const ctx_r54 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r54.checkTontine());\n    });\n    i0.ɵɵtemplate(18, CaisseEtatComponent_div_52_mat_option_18_Template, 2, 2, \"mat-option\", 40);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"mat-grid-tile\", 37)(20, \"mat-form-field\", 38)(21, \"mat-label\");\n    i0.ɵɵtext(22, \"Montant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"input\", 41);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(24, CaisseEtatComponent_div_52_mat_grid_tile_24_Template, 7, 0, \"mat-grid-tile\", 42);\n    i0.ɵɵtemplate(25, CaisseEtatComponent_div_52_mat_grid_tile_25_Template, 14, 6, \"mat-grid-tile\", 43);\n    i0.ɵɵelementStart(26, \"mat-grid-tile\", 37)(27, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function CaisseEtatComponent_div_52_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r51);\n      const ctx_r55 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r55.addGage());\n    });\n    i0.ɵɵtext(28, \" Ajouter une garrantie\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(29, \"mat-tab\", 45)(30, \"mat-grid-list\", 36)(31, \"mat-grid-tile\", 37)(32, \"mat-form-field\", 46)(33, \"mat-label\");\n    i0.ɵɵtext(34, \"Membre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"input\", 47);\n    i0.ɵɵlistener(\"keyup\", function CaisseEtatComponent_div_52_Template_input_keyup_35_listener($event) {\n      i0.ɵɵrestoreView(_r51);\n      const ctx_r56 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r56.applyFilter($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"mat-autocomplete\", null, 48);\n    i0.ɵɵtemplate(38, CaisseEtatComponent_div_52_mat_option_38_Template, 2, 2, \"mat-option\", 40);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(39, \"mat-grid-tile\", 37)(40, \"mat-form-field\", 38)(41, \"mat-label\");\n    i0.ɵɵtext(42, \"Montant\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(43, \"input\", 49);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelement(44, \"mat-divider\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"mat-card-actions\")(46, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function CaisseEtatComponent_div_52_Template_button_click_46_listener() {\n      i0.ɵɵrestoreView(_r51);\n      const ctx_r57 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r57.deposit());\n    });\n    i0.ɵɵtext(47, \"Confirmer\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(48, \"mat-card-footer\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const _r24 = i0.ɵɵreference(37);\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"formGroup\", ctx_r9.formDep);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"selectedIndex\", ctx_r9.index);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r9.emprunteurId)(\"ngModelOptions\", i0.ɵɵpureFunction0(10, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.dataSource);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r9.epargne.type == null ? null : ctx_r9.epargne.type.code) == 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.garranties);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"matAutocomplete\", _r24);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.dataS);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"disabled\", !ctx_r9.btnIsDiable());\n  }\n}\nclass CaisseEtatComponent {\n  constructor(memberService, epargneServ, formBuilder, activatedRoute, tontineService, authService, cdr) {\n    this.memberService = memberService;\n    this.epargneServ = epargneServ;\n    this.formBuilder = formBuilder;\n    this.activatedRoute = activatedRoute;\n    this.tontineService = tontineService;\n    this.authService = authService;\n    this.cdr = cdr;\n    this.displayedColumns = ['position', 'name', 'weight', 'symbol'];\n    this.dataSource = [];\n    this.associationMembers = [];\n    this.dataS = [];\n    this.table = [];\n    this.capitales = [];\n    this.nbrowSpan = 0;\n    this.montantPret = 0;\n    this.delais = 0;\n    this.tontinesGageble = [];\n    this.garranties = [{\n      type: 2,\n      epargnantId: null,\n      tontineId: null,\n      autres: \"\"\n    }];\n    this.capitaux = [];\n    this.formDep = this.formBuilder.group({\n      membre: new FormControl(),\n      montant: new FormControl(0),\n      montantPret: new FormControl(0),\n      delais: new FormControl(0)\n    });\n    this.index = 0;\n  }\n  ngOnInit() {\n    var snapshot = this.activatedRoute.snapshot;\n    this.epargne = JSON.parse(snapshot.params[\"ep\"]);\n    console.log(\"ep\", this.epargne);\n    this.capitaux = [];\n    this.nbDimanche = countNbDimanche(new Date(String(this.epargne.dateCreation?.toString())), new Date(String(this.epargne.dateCassation?.toString())));\n    this.displayedColumns = buildTableColums(this.nbDimanche);\n    this.daysColumns = this.displayedColumns.slice(2, this.displayedColumns.length - 1);\n    this.memberService.LoadMembres().subscribe(data => {\n      this.associationMembers = data;\n      this.dataS = data;\n    });\n    let prets = [];\n    if (this.epargne.id) {\n      this.epargneServ.getAllDepoByEpargnes(this.epargne.id).subscribe(data => {\n        this.epargneServ.getAllEmpruntByEpargnes(Number(this.epargne.id)).subscribe(dataP => {\n          console.log(\"prets\", dataP);\n          prets = dataP;\n          console.log(\"data\", data);\n          let isAdd = false;\n          let tabLength = 0,\n            tabJLength = 0;\n          console.log(this.table);\n          // Construction d'un tableau a deux dimention groupant les depot d'un meme epargnant sur une meme ligne\n          for (let i = 0; i < data.length; i++) {\n            for (let j = 0; j < this.table.length; j++) {\n              tabJLength = this.table[j].length;\n              for (let k = 0; k < tabJLength; k++) {\n                if (data[i].epargnant && data[i].epargnant?.id == this.table[j][k].epargnant?.id) {\n                  if (!this.table[j]) this.table[j] = [];\n                  this.table[j].push(data[i]);\n                  isAdd = true;\n                }\n              }\n            }\n            if (!isAdd) {\n              this.table.push([data[i]]);\n            }\n            isAdd = false;\n          }\n          let montant = 0;\n          let k = 0,\n            n = 1,\n            m = 0;\n          // for(let i=0 ;i<200;i++)\n          for (let tab of this.table) {\n            k++;\n            this.dataSource.push(tab[0].epargnant);\n            for (let dep of tab) {\n              montant += Number(dep.montant);\n            }\n            this.capitales.push(montant);\n            this.capitaux.push({\n              epargnant: tab[0].epargnant,\n              capital: montant,\n              dette: 0\n            });\n            montant = 0;\n            if (k == 10) {\n              k = 0;\n              n++;\n              n % 5 == 0 ? m++ : m += 0;\n            }\n          }\n          for (let prt of prets) {\n            for (let i = 0; i < this.capitaux.length; i++) {\n              if (prt.epargnant?.id == this.capitaux[i].epargnant?.id) {\n                console.log(\"ep\", prt);\n                this.capitaux[i].dette += Number(prt.montant) * this.epargne.tauxInteretPret / 100 + Number(prt.montant);\n              }\n            }\n          }\n          console.log(\"dataSource:\", this.dataSource);\n          console.log(\"tab:\", this.table);\n          console.log(\"cap:\", this.capitaux);\n          this.nbrowSpan = this.dataSource.length + 7 * n - 7 * m;\n          this.cdr.markForCheck();\n        });\n        this.cdr.markForCheck();\n      });\n    }\n  }\n  deposit() {\n    if (this.index == 1) {\n      let epargnant = new Epargnant();\n      let depo = new Depot();\n      let Membre;\n      epargnant.dateEnregistrement = new Date();\n      epargnant.epargne = this.epargne;\n      Membre = String(this.formDep.value.membre);\n      console.log(\"membre\", Membre);\n      for (let membre of this.dataS) {\n        if (membre.nom == Membre) epargnant.membre = membre;\n      }\n      for (let ep of this.dataSource) {\n        if (Membre == ep.membre?.nom) {\n          epargnant = ep;\n        }\n      }\n      depo.epargnant = epargnant;\n      depo.montant = Number(this.formDep.value.montant);\n      depo.dateDepot = new Date();\n      console.log(\"depot\", depo);\n      this.epargneServ.Deposit(depo).subscribe(data => {\n        console.log(\"save\", data);\n        this.dataSource = [];\n        this.associationMembers = [];\n        this.dataS = [];\n        this.table = [];\n        this.capitales = [];\n        this.nbrowSpan = 0;\n        this.ngOnInit();\n      });\n    }\n    // save emprunt\n    else {\n      let garrantie = new Garrantie();\n      let tontines = [];\n      console.log(\"gage\", this.garranties);\n      this.tontineService.LoadTontine().subscribe(data => {\n        tontines = data;\n        for (let gage of this.garranties) {\n          if (gage.epargnantId) garrantie.epargnants.push(this.emprunteur);\n          if (gage.tontineId) for (let ton of tontines) if (ton.id == gage.tontineId) garrantie.tontines.push(ton);\n          if (gage.autres != \"\") garrantie.autres += \"/new/\" + gage.autres;\n        }\n        let emprunt = new Pret();\n        emprunt.garrantie = garrantie;\n        emprunt.montant = Number(this.formDep.value.montantPret);\n        let type = this.epargne.type;\n        emprunt.echeanche = type.code == 2 ? Number(this.formDep.value.delais) : Number(this.epargne.delaisRemboursement);\n        emprunt.datePret = new Date();\n        emprunt.motif = \"\";\n        emprunt.epargnant = this.emprunteur;\n        this.epargneServ.Emprunt(emprunt).subscribe(data => {\n          console.log(\"emprunt\", data);\n          this.ngOnInit();\n        });\n      });\n    }\n  }\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    console.log(filterValue.trim().toLowerCase());\n    this.dataS = this.associationMembers;\n    this.dataS = this.dataS.filter(obj => {\n      if (filterValue.trim().toLowerCase().length == 0) return obj.nom.length != 0;\n      return obj.nom.toLowerCase().includes(filterValue.trim().toLowerCase());\n    });\n  }\n  getCaisseMontant() {\n    let total = 0;\n    for (let montant of this.capitales) {\n      total += montant;\n    }\n    return total - this.getPretMontant();\n  }\n  getPretMontant() {\n    let total = 0;\n    for (let montant of this.capitaux) {\n      total += montant.dette;\n    }\n    return total;\n  }\n  addGage() {\n    this.garranties.push({\n      type: 2,\n      epargnantId: null,\n      tontineId: null,\n      autres: \"\"\n    });\n  }\n  btnIsDiable() {\n    if (this.index == 0) {\n      let i = 0,\n        j = 0;\n      for (i = 0; i < this.capitaux.length; i++) {\n        if (this.capitaux[i].epargnant == this.emprunteur) j = i;\n      }\n      if (this.emprunteur && Number(this.formDep.value.montantPret) <= this.epargne.coefPret * this.capitaux[j].capital && Number(this.formDep.value.montantPret) <= this.getCaisseMontant()) {\n        if (this.garranties[0].tontineId || this.garranties[0].epargnantId || this.garranties[0].autres != \"\") return true;\n      }\n      return false;\n    } else {\n      if (this.formDep.value.membre && this.formDep.value.montant && this.formDep.value.montant > 0) return true;\n      return false;\n    }\n  }\n  checkTontine() {\n    this.garranties = [{\n      type: 2,\n      epargnantId: null,\n      tontineId: null,\n      autres: \"\"\n    }];\n    if (this.emprunteurId) {\n      for (let ep of this.dataSource) {\n        if (this.emprunteurId == ep.id) this.emprunteur = ep;\n      }\n      console.log(this.emprunteur);\n      if (this.emprunteur.membre) this.tontineService.MyTontine(this.emprunteur.membre.id).subscribe(data => {\n        this.tontinesGageble = data;\n      });\n    }\n  }\n  static #_ = this.ɵfac = function CaisseEtatComponent_Factory(t) {\n    return new (t || CaisseEtatComponent)(i0.ɵɵdirectiveInject(i1.MembreServiceService), i0.ɵɵdirectiveInject(i2.EpargneService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i5.TontineServiceService), i0.ɵɵdirectiveInject(i6.AuthService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CaisseEtatComponent,\n    selectors: [[\"app-etat\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 53,\n    vars: 19,\n    consts: [[1, \"content\"], [\"cols\", \"10\", \"rowHeight\", \"5vh\", 1, \"main\"], [\"colspan\", \"7\", \"rowspan\", \"5\", 1, \"main--wrapper\"], [1, \"main--card\"], [\"cols\", \"3\", \"rowHeight\", \"6vh\", 1, \"info\"], [\"colspan\", \"3\"], [\"colspan\", \"3\", \"rowspan\", \"13\", 1, \"rigth--form--wapper\"], [\"colspan\", \"7\", 1, \"table--wrapper\", 3, \"rowspan\"], [1, \"table--card\"], [1, \"table--card--content\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"no\", \"sticky\", \"\"], [\"mat-header-cell\", \"\", \"class\", \"sticky--columns\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"sticky--columns\", 4, \"matCellDef\"], [\"matColumnDef\", \"epargnants\", \"sticky\", \"\"], [3, \"matColumnDef\", 4, \"ngFor\", \"ngForOf\"], [\"matColumnDef\", \"total\", \"stickyEnd\", \"\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"pan\", 4, \"ngIf\"], [\"mat-header-cell\", \"\", 1, \"sticky--columns\"], [\"mat-cell\", \"\", 1, \"sticky--columns\"], [3, \"matColumnDef\"], [\"mat-header-cell\", \"\", \"class\", \"D--columns\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"D--columns\", 4, \"matCellDef\"], [\"mat-header-cell\", \"\", 1, \"D--columns\"], [1, \"header\"], [\"mat-cell\", \"\", 1, \"D--columns\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [1, \"pan\"], [1, \"pret--card\"], [3, \"formGroup\", \"submit\"], [3, \"selectedIndex\", \"selectedIndexChange\"], [\"label\", \"Pret\"], [1, \"pret--wrapper\"], [\"cols\", \"4\", \"rowHeight\", \"85px\"], [\"colspan\", \"4\"], [\"floatLabel\", \"always\", \"appearance\", \"outline\"], [\"required\", \"\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"matInput\", \"\", \"type\", \"number\", \"placeholder\", \"0\", \"formControlName\", \"montantPret\", 1, \"example-right-align\"], [\"colspan\", \"4\", 4, \"ngIf\"], [\"colspan\", \"4\", \"rowspan\", \"2\", 4, \"ngFor\", \"ngForOf\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"label\", \"Depot\"], [\"appearance\", \"outline\", 1, \"example-full-width\"], [\"type\", \"text\", \"placeholder\", \"Membre\", \"aria-label\", \"Number\", \"matInput\", \"\", \"formControlName\", \"membre\", 3, \"matAutocomplete\", \"keyup\"], [\"auto\", \"matAutocomplete\"], [\"matInput\", \"\", \"type\", \"number\", \"placeholder\", \"0\", \"formControlName\", \"montant\", 1, \"example-right-align\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [3, \"value\"], [\"appearance\", \"outline\", \"floatLabel\", \"always\"], [\"matInput\", \"\", \"type\", \"number\", \"placeholder\", \"\", \"formControlName\", \"delais\", \"required\", \"\", 1, \"example-right-align\"], [\"matTextSuffix\", \"\"], [\"colspan\", \"4\", \"rowspan\", \"2\"], [1, \"garrantie--element\"], [\"aria-label\", \"Select an option\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"floatLabel\", \"always\", \"appearance\", \"outline\", 4, \"ngIf\"], [\"appearance\", \"outline\", 4, \"ngIf\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Garrantie\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"]],\n    template: function CaisseEtatComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-grid-list\", 1)(2, \"mat-grid-tile\", 2)(3, \"mat-card\", 3)(4, \"mat-card-header\")(5, \"mat-grid-list\", 4)(6, \"mat-grid-tile\", 5)(7, \"mat-card-title\");\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"mat-grid-tile\")(10, \"mat-card-subtitle\");\n        i0.ɵɵtext(11);\n        i0.ɵɵpipe(12, \"date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"mat-grid-tile\")(14, \"mat-card-subtitle\");\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"mat-grid-tile\")(17, \"mat-card-subtitle\");\n        i0.ɵɵtext(18);\n        i0.ɵɵpipe(19, \"date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"mat-grid-tile\");\n        i0.ɵɵtext(21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"mat-grid-tile\")(23, \"mat-card-title\");\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"mat-grid-tile\")(26, \"mat-card-title\");\n        i0.ɵɵtext(27);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(28, \"mat-card-subtitle\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"mat-card-content\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(30, \"mat-grid-tile\", 6);\n        i0.ɵɵelementStart(31, \"mat-grid-tile\", 7)(32, \"mat-card\", 8)(33, \"mat-card-header\")(34, \"mat-card-title\");\n        i0.ɵɵtext(35, \"Liste des epargnants\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"mat-card-subtitle\");\n        i0.ɵɵtext(37, \"...\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(38, \"mat-card-content\", 9)(39, \"table\", 10);\n        i0.ɵɵelementContainerStart(40, 11);\n        i0.ɵɵtemplate(41, CaisseEtatComponent_th_41_Template, 2, 0, \"th\", 12);\n        i0.ɵɵtemplate(42, CaisseEtatComponent_td_42_Template, 2, 1, \"td\", 13);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(43, 14);\n        i0.ɵɵtemplate(44, CaisseEtatComponent_th_44_Template, 2, 0, \"th\", 12);\n        i0.ɵɵtemplate(45, CaisseEtatComponent_td_45_Template, 2, 1, \"td\", 13);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(46, CaisseEtatComponent_ng_container_46_Template, 3, 1, \"ng-container\", 15);\n        i0.ɵɵelementContainerStart(47, 16);\n        i0.ɵɵtemplate(48, CaisseEtatComponent_th_48_Template, 2, 0, \"th\", 12);\n        i0.ɵɵtemplate(49, CaisseEtatComponent_td_49_Template, 2, 1, \"td\", 13);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(50, CaisseEtatComponent_tr_50_Template, 1, 0, \"tr\", 17);\n        i0.ɵɵtemplate(51, CaisseEtatComponent_tr_51_Template, 1, 0, \"tr\", 18);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵtemplate(52, CaisseEtatComponent_div_52_Template, 49, 11, \"div\", 19);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(ctx.epargne.nom);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Cassation le \", i0.ɵɵpipeBind2(12, 13, ctx.epargne.dateCassation, \"yyyy-MM-dd\"), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Plafond de pret: capital X\", ctx.epargne.coefPret, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Cree le \", i0.ɵɵpipeBind2(19, 16, ctx.epargne.dateCreation, \"yyyy-MM-dd\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Taux d'intert sur pret : \", ctx.epargne.tauxInteretPret, \"%\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Caisse: \", ctx.getCaisseMontant(), \" F \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Dettes: \", ctx.getPretMontant(), \" F \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"rowspan\", ctx.nbrowSpan);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"dataSource\", ctx.capitaux.slice());\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.daysColumns);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.authService.role.includes(\"BUREAU\"));\n      }\n    },\n    dependencies: [MatCardModule, i7.MatCard, i7.MatCardActions, i7.MatCardContent, i7.MatCardFooter, i7.MatCardHeader, i7.MatCardSubtitle, i7.MatCardTitle, MatButtonModule, i8.MatButton, MatTableModule, i9.MatTable, i9.MatHeaderCellDef, i9.MatHeaderRowDef, i9.MatColumnDef, i9.MatCellDef, i9.MatRowDef, i9.MatHeaderCell, i9.MatCell, i9.MatHeaderRow, i9.MatRow, MatListModule, i10.MatDivider, MatFormFieldModule, i11.MatFormField, i11.MatLabel, i11.MatSuffix, MatInputModule, i12.MatInput, MatSelectModule, i13.MatSelect, i14.MatOption, MatTabsModule, i15.MatTab, i15.MatTabGroup, MatGridListModule, i16.MatGridList, i16.MatGridTile, NgForOf, MatAutocompleteModule, i17.MatAutocomplete, i17.MatAutocompleteTrigger, FormsModule, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, NgIf, ReactiveFormsModule, i3.FormGroupDirective, i3.FormControlName, RouterModule, DatePipe, MatRadioModule, i18.MatRadioGroup, i18.MatRadioButton],\n    styles: [\".content[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nmat-form-field[_ngcontent-%COMP%] {\\n  min-width: 250px;\\n}\\n\\n.main--wrapper[_ngcontent-%COMP%] {\\n  position: sticky !important;\\n  top: 20vh;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.main[_ngcontent-%COMP%] {\\n  height: 100%;\\n  width: 100%;\\n}\\n\\n.main--card[_ngcontent-%COMP%] {\\n  width: 90%;\\n}\\n\\n.table--wrapper[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.table--card[_ngcontent-%COMP%] {\\n  width: 90%;\\n}\\n\\n.table--card--content[_ngcontent-%COMP%] {\\n  width: 98% !important;\\n  overflow: auto;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  background: #f5f5f5;\\n  box-shadow: none;\\n}\\n\\n.mat-mdc-table-sticky-border-elem-right[_ngcontent-%COMP%] {\\n  border-left: 1px solid #e0e0e0;\\n}\\n\\n.mat-mdc-table-sticky-border-elem-left[_ngcontent-%COMP%] {\\n  border-right: 1px solid #e0e0e0;\\n}\\n\\n.mat-mdc-table-sticky-border-elem-bottom[_ngcontent-%COMP%] {\\n  border-left: 1px solid #e0e0e0;\\n}\\n\\n.mat-mdc-table-sticky-border-elem-top[_ngcontent-%COMP%] {\\n  border-right: 1px solid #e0e0e0;\\n}\\n\\n.D--columns[_ngcontent-%COMP%] {\\n  min-width: 90px !important;\\n  padding: 20px !important;\\n  border: 1px solid #e0e0e0 !important;\\n}\\n\\n.sticky--columns[_ngcontent-%COMP%] {\\n  border: 1px solid #e0e0e0 !important;\\n  z-index: 0 !important;\\n}\\n\\n.pan[_ngcontent-%COMP%] {\\n  height: 200vh;\\n  width: 30vw;\\n  position: absolute;\\n  top: 10vh;\\n  right: 1vw;\\n}\\n\\n.pret--card[_ngcontent-%COMP%] {\\n  width: 100%;\\n  position: sticky !important;\\n  top: 12vh;\\n  margin-top: 30vh;\\n  right: 5%;\\n}\\n\\n.pret--card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%] {\\n  max-height: 45vh;\\n  overflow-y: scroll;\\n}\\n\\n.info[_ngcontent-%COMP%] {\\n  height: 100%;\\n  width: 100%;\\n}\\n.garrantie--element[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-evenly;\\n  align-items: center;\\n  background: #f5f5f5;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvdGVjdGVkL0NhaXNzZS9ldGF0L2NhaXNzZS1ldGF0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUFDRjs7QUFHQTtFQUNFLGdCQUFBO0FBQUY7O0FBRUE7RUFDRSwyQkFBQTtFQUNBLFNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtBQUNGOztBQUNBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7QUFFRjs7QUFBQTtFQUNFLFVBQUE7QUFHRjs7QUFEQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBSUY7O0FBRkE7RUFDRSxVQUFBO0FBS0Y7O0FBSEE7RUFDRSxxQkFBQTtFQUNBLGNBQUE7QUFNRjs7QUFKQTtFQUNFLG1CQUFBO0VBQ0EsZ0JBQUE7QUFPRjs7QUFKQTtFQUNFLDhCQUFBO0FBT0Y7O0FBSkE7RUFDRSwrQkFBQTtBQU9GOztBQUxBO0VBQ0UsOEJBQUE7QUFRRjs7QUFMQTtFQUNFLCtCQUFBO0FBUUY7O0FBTkE7RUFDRSwwQkFBQTtFQUNBLHdCQUFBO0VBQ0Esb0NBQUE7QUFTRjs7QUFQQTtFQUNFLG9DQUFBO0VBQ0EscUJBQUE7QUFVRjs7QUFOQTtFQUNFLGFBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtBQVNGOztBQU5BO0VBQ0UsV0FBQTtFQUNBLDJCQUFBO0VBQ0EsU0FBQTtFQUNBLGdCQUFBO0VBQ0EsU0FBQTtBQVNGOztBQU5BO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtBQVNGOztBQVBBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7QUFVRjtBQUpBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSw2QkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7QUFNRiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250ZW50e1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuXHJcbm1hdC1mb3JtLWZpZWxke1xyXG4gIG1pbi13aWR0aDogMjUwcHg7XHJcbn1cclxuLm1haW4tLXdyYXBwZXJ7XHJcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xyXG4gIHRvcDogMjB2aDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuLm1haW57XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcbi5tYWluLS1jYXJke1xyXG4gIHdpZHRoOiA5MCU7XHJcbn1cclxuLnRhYmxlLS13cmFwcGVye1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG4udGFibGUtLWNhcmR7XHJcbiAgd2lkdGg6IDkwJTtcclxufVxyXG4udGFibGUtLWNhcmQtLWNvbnRlbnR7XHJcbiAgd2lkdGg6IDk4JSAhaW1wb3J0YW50O1xyXG4gIG92ZXJmbG93OiBhdXRvO1xyXG59XHJcbnRhYmxle1xyXG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XHJcbiAgYm94LXNoYWRvdzogbm9uZTtcclxufVxyXG5cclxuLm1hdC1tZGMtdGFibGUtc3RpY2t5LWJvcmRlci1lbGVtLXJpZ2h0IHtcclxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNlMGUwZTA7XHJcbn1cclxuXHJcbi5tYXQtbWRjLXRhYmxlLXN0aWNreS1ib3JkZXItZWxlbS1sZWZ0IHtcclxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZTBlMGUwO1xyXG59XHJcbi5tYXQtbWRjLXRhYmxlLXN0aWNreS1ib3JkZXItZWxlbS1ib3R0b20ge1xyXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2UwZTBlMDtcclxufVxyXG5cclxuLm1hdC1tZGMtdGFibGUtc3RpY2t5LWJvcmRlci1lbGVtLXRvcCB7XHJcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2UwZTBlMDtcclxufVxyXG4uRC0tY29sdW1uc3tcclxuICBtaW4td2lkdGg6IDkwcHggIWltcG9ydGFudDtcclxuICBwYWRkaW5nOiAyMHB4ICFpbXBvcnRhbnQ7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMCAhaW1wb3J0YW50O1xyXG59XHJcbi5zdGlja3ktLWNvbHVtbnN7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMCAhaW1wb3J0YW50O1xyXG4gIHotaW5kZXg6IDAgIWltcG9ydGFudDtcclxufVxyXG4ucmlndGgtLWZvcm0tLXdhcHBlcntcclxufVxyXG4ucGFue1xyXG4gIGhlaWdodDogMjAwdmg7XHJcbiAgd2lkdGg6IDMwdnc7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogMTB2aDtcclxuICByaWdodDogMXZ3O1xyXG4gIC8vYmFja2dyb3VuZDogY29ybmZsb3dlcmJsdWU7XHJcbn1cclxuLnByZXQtLWNhcmR7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xyXG4gIHRvcDogMTJ2aDtcclxuICBtYXJnaW4tdG9wOiAzMHZoO1xyXG4gIHJpZ2h0OiA1JTtcclxuXHJcbn1cclxuLnByZXQtLWNhcmQgbWF0LWNhcmQtY29udGVudHtcclxuICBtYXgtaGVpZ2h0OiA0NXZoO1xyXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcclxufVxyXG4uaW5mb3tcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcblxyXG4gIG1hdC1ncmlkLXRpbGV7XHJcbiAgICAvL2JhY2tncm91bmQ6ICMxN2EyYjg7XHJcbiAgfVxyXG59XHJcbi5nYXJyYW50aWUtLWVsZW1lbnR7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGJhY2tncm91bmQ6ICNmNWY1ZjU7XHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}\nexport { CaisseEtatComponent };","map":{"version":3,"names":["MatCardModule","MatButtonModule","MatTableModule","MatListModule","MatFormFieldModule","MatInputModule","MatSelectModule","MatTabsModule","MatGridListModule","DatePipe","NgForOf","NgIf","MatAutocompleteModule","FormControl","FormsModule","ReactiveFormsModule","RouterModule","Epargnant","Depot","MatRadioModule","Garrantie","Pret","countNbDimanche","buildTableColums","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","i_r11","element_r12","epargnant","membre","nom","ɵɵtextInterpolate","columns_r13","ɵɵelement","ɵɵelementContainerStart","ɵɵtemplate","CaisseEtatComponent_ng_container_46_th_1_Template","CaisseEtatComponent_ng_container_46_td_2_Template","ɵɵelementContainerEnd","ɵɵpropertyInterpolate","element_r18","capital","epargnant_r26","id","tontine_r32","slice","ɵɵlistener","CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_11_Template_mat_select_ngModelChange_3_listener","$event","ɵɵrestoreView","_r35","gage_r27","ɵɵnextContext","$implicit","ɵɵresetView","tontineId","CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_11_mat_option_4_Template","ɵɵproperty","ɵɵpureFunction0","_c0","ctx_r28","tontinesGageble","epargnant_r38","CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_12_Template_mat_select_ngModelChange_3_listener","_r41","epargnantId","CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_12_mat_option_4_Template","ctx_r29","dataSource","CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_13_Template_input_ngModelChange_3_listener","_r45","autres","CaisseEtatComponent_div_52_mat_grid_tile_25_Template_mat_radio_group_ngModelChange_4_listener","restoredCtx","_r48","type","CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_11_Template","CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_12_Template","CaisseEtatComponent_div_52_mat_grid_tile_25_mat_form_field_13_Template","member_r49","CaisseEtatComponent_div_52_Template_mat_form_submit_8_listener","_r51","ctx_r50","deposit","CaisseEtatComponent_div_52_Template_mat_tab_group_selectedIndexChange_9_listener","ctx_r52","index","CaisseEtatComponent_div_52_Template_mat_select_ngModelChange_17_listener","ctx_r53","emprunteurId","ctx_r54","checkTontine","CaisseEtatComponent_div_52_mat_option_18_Template","CaisseEtatComponent_div_52_mat_grid_tile_24_Template","CaisseEtatComponent_div_52_mat_grid_tile_25_Template","CaisseEtatComponent_div_52_Template_button_click_27_listener","ctx_r55","addGage","CaisseEtatComponent_div_52_Template_input_keyup_35_listener","ctx_r56","applyFilter","CaisseEtatComponent_div_52_mat_option_38_Template","CaisseEtatComponent_div_52_Template_button_click_46_listener","ctx_r57","ctx_r9","formDep","epargne","code","garranties","_r24","dataS","btnIsDiable","CaisseEtatComponent","constructor","memberService","epargneServ","formBuilder","activatedRoute","tontineService","authService","cdr","displayedColumns","associationMembers","table","capitales","nbrowSpan","montantPret","delais","capitaux","group","montant","ngOnInit","snapshot","JSON","parse","params","console","log","nbDimanche","Date","String","dateCreation","toString","dateCassation","daysColumns","length","LoadMembres","subscribe","data","prets","getAllDepoByEpargnes","getAllEmpruntByEpargnes","Number","dataP","isAdd","tabLength","tabJLength","i","j","k","push","n","m","tab","dep","dette","prt","tauxInteretPret","markForCheck","depo","Membre","dateEnregistrement","value","ep","dateDepot","Deposit","garrantie","tontines","LoadTontine","gage","epargnants","emprunteur","ton","emprunt","echeanche","delaisRemboursement","datePret","motif","Emprunt","event","filterValue","target","trim","toLowerCase","filter","obj","includes","getCaisseMontant","total","getPretMontant","coefPret","MyTontine","_","ɵɵdirectiveInject","i1","MembreServiceService","i2","EpargneService","i3","FormBuilder","i4","ActivatedRoute","i5","TontineServiceService","i6","AuthService","ChangeDetectorRef","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","CaisseEtatComponent_Template","rf","ctx","CaisseEtatComponent_th_41_Template","CaisseEtatComponent_td_42_Template","CaisseEtatComponent_th_44_Template","CaisseEtatComponent_td_45_Template","CaisseEtatComponent_ng_container_46_Template","CaisseEtatComponent_th_48_Template","CaisseEtatComponent_td_49_Template","CaisseEtatComponent_tr_50_Template","CaisseEtatComponent_tr_51_Template","CaisseEtatComponent_div_52_Template","ɵɵpipeBind2","role","i7","MatCard","MatCardActions","MatCardContent","MatCardFooter","MatCardHeader","MatCardSubtitle","MatCardTitle","i8","MatButton","i9","MatTable","MatHeaderCellDef","MatHeaderRowDef","MatColumnDef","MatCellDef","MatRowDef","MatHeaderCell","MatCell","MatHeaderRow","MatRow","i10","MatDivider","i11","MatFormField","MatLabel","MatSuffix","i12","MatInput","i13","MatSelect","i14","MatOption","i15","MatTab","MatTabGroup","i16","MatGridList","MatGridTile","i17","MatAutocomplete","MatAutocompleteTrigger","DefaultValueAccessor","NumberValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","NgModel","FormGroupDirective","FormControlName","i18","MatRadioGroup","MatRadioButton","styles"],"sources":["/home/ked/backups/Angular/DanguiUi/src/app/protected/Caisse/etat/caisse-etat.component.ts","/home/ked/backups/Angular/DanguiUi/src/app/protected/Caisse/etat/caisse-etat.component.html"],"sourcesContent":["import {ChangeDetectorRef, Component, CUSTOM_ELEMENTS_SCHEMA, OnInit} from '@angular/core';\nimport {MatCardModule} from \"@angular/material/card\";\nimport {MatButtonModule} from \"@angular/material/button\";\nimport {MatTableModule} from \"@angular/material/table\";\nimport {MatListModule} from \"@angular/material/list\";\nimport {MatFormFieldModule} from \"@angular/material/form-field\";\nimport {MatInputModule} from \"@angular/material/input\";\nimport {MatSelectModule} from \"@angular/material/select\";\nimport {MatTabsModule} from \"@angular/material/tabs\";\nimport {MatGridListModule} from \"@angular/material/grid-list\";\nimport {MembreServiceService} from \"../../../Services/membre-service.service\";\nimport {Membre} from \"../../../../Models/Entitys/Membre\";\nimport {DatePipe, NgForOf, NgIf} from \"@angular/common\";\nimport {MatAutocompleteModule} from \"@angular/material/autocomplete\";\nimport {FormBuilder, FormControl, FormsModule, ReactiveFormsModule} from \"@angular/forms\";\nimport {ActivatedRoute, RouterModule} from \"@angular/router\";\nimport {Epargne} from \"../../../../Models/Entitys/Epargne\";\nimport {EpargneService} from \"../../../Services/epargne.service\";\nimport {Epargnant} from \"../../../../Models/Entitys/Epargnant\";\nimport {Depot} from \"../../../../Models/Entitys/Depot\";\nimport {MatRadioModule} from \"@angular/material/radio\";\nimport {Tontine} from \"../../../../Models/Abstracts/Tontine\";\nimport {TontineServiceService} from \"../../../Services/tontine-service.service\";\nimport {Garrantie} from \"../../../../Models/Entitys/Garrantie\";\nimport {Pret} from \"../../../../Models/Entitys/Pret\";\nimport {TypeEpargne} from \"../../../../Models/Entitys/TypeEpargne\";\nimport {AuthService} from \"../../../Services/auth.service\";\nimport {countNbDimanche} from \"../utils/countNbDimanche\";\nimport {buildTableColums} from \"../utils/buildTableColums\";\n\n\nexport interface gage{\n  type:number;\n  epargnantId:number|null;\n  tontineId:number|null;\n  autres:string;\n}\nexport interface epar{\n  epargnant:Epargnant|null;\n  capital:number;\n  dette:number;\n}\n\n\n\n@Component({\n  selector: 'app-etat',\n  templateUrl: './caisse-etat.component.html',\n  styleUrls: ['./caisse-etat.component.scss'],\n  standalone: true,\n\n  imports: [\n    MatCardModule,\n    MatButtonModule,\n    MatTableModule,\n    MatListModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSelectModule,\n    MatTabsModule,\n    MatGridListModule,\n    NgForOf,\n    MatAutocompleteModule,\n    FormsModule,\n    NgIf,\n    ReactiveFormsModule,\n    RouterModule,\n    DatePipe,\n    MatRadioModule,\n  ],\n  schemas:[CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class CaisseEtatComponent implements OnInit{\n  displayedColumns: string[] = ['position', 'name', 'weight', 'symbol'];\n  dataSource:Epargnant[] = [];\n  associationMembers:Membre[]=[];\n  dataS:Membre[]=[];\n  epargne!:Epargne;\n  table:Depot[][]=[]\n  capitales:number[]=[];\n  nbrowSpan=0;\n  emprunteur!:Epargnant;\n  emprunteurId!:number;\n  montantPret:number=0;\n  delais:number=0;\n  tontinesGageble:Tontine[]=[];\n  garranties:gage[]=[\n    {type:2,epargnantId:null,tontineId:null,autres:\"\"}\n  ];\n  capitaux:epar[]=[];\n  daysColumns!:string[];\n  nbDimanche!:number;\n\n\n  formDep=this.formBuilder.group({\n    membre:new FormControl(),\n    montant:new FormControl<number>(0),\n    montantPret:new FormControl<number>(0),\n    delais:new FormControl<number>(0),\n  })\n  index:number =0;\n\n\n  constructor(private memberService :MembreServiceService,\n              private epargneServ:EpargneService,\n              private formBuilder:FormBuilder,\n              private activatedRoute: ActivatedRoute,\n              private tontineService:TontineServiceService,\n              public authService:AuthService,\n              private cdr:ChangeDetectorRef) {\n  }\n\n  ngOnInit() {\n    var  snapshot = this.activatedRoute.snapshot;\n    this.epargne = JSON.parse(snapshot.params[\"ep\"]);\n    console.log(\"ep\",this.epargne);\n    this.capitaux=[];\n    this.nbDimanche = countNbDimanche(new Date(String(this.epargne.dateCreation?.toString())),new Date(String(this.epargne.dateCassation?.toString())));\n    this.displayedColumns = buildTableColums(this.nbDimanche);\n    this.daysColumns = this.displayedColumns.slice(2,this.displayedColumns.length-1);\n    this.memberService.LoadMembres().subscribe(\n      data=>{\n        this.associationMembers = data;\n        this.dataS=data;\n      }\n    );\n    let prets:Pret[]=[];\n    if (this.epargne.id){\n      this.epargneServ.getAllDepoByEpargnes(this.epargne.id).subscribe(\n        data=>{\n\n          this.epargneServ.getAllEmpruntByEpargnes(Number(this.epargne.id)).subscribe(\n            dataP=>{\n              console.log(\"prets\",dataP);\n              prets=dataP;\n\n\n              console.log(\"data\",data);\n              let isAdd=false;\n              let tabLength=0,tabJLength=0;\n\n              console.log(this.table);\n              // Construction d'un tableau a deux dimention groupant les depot d'un meme epargnant sur une meme ligne\n              for (let i=0;i<data.length;i++){\n                for (let j=0;j<this.table.length;j++){\n                  tabJLength=this.table[j].length;\n                  for (let k=0;k<tabJLength;k++){\n                    if(data[i].epargnant && data[i].epargnant?.id == this.table[j][k].epargnant?.id){\n                      if(!this.table[j])\n                        this.table[j]=[];\n                      this.table[j].push(data[i]);\n                      isAdd=true;\n                    }\n                  }\n                }\n                if(!isAdd){\n                  this.table.push([data[i]]);\n                }\n                isAdd=false;\n              }\n\n              let montant=0;\n              let k=0,n=1,m=0;\n              // for(let i=0 ;i<200;i++)\n              for (let tab of this.table){\n                k++;\n                this.dataSource.push(<Epargnant>tab[0].epargnant);\n                for (let dep of tab){\n                  montant+=Number(dep.montant);\n                }\n                this.capitales.push(montant);\n                this.capitaux.push({epargnant:<Epargnant>tab[0].epargnant,capital:montant,dette:0})\n                montant=0;\n                if (k==10){\n                  k=0;\n                  n++;\n                  n%5==0?m++:m+=0;\n                }\n              }\n\n              for(let prt of prets){\n                for (let i=0;i<this.capitaux.length;i++){\n                  if(prt.epargnant?.id==this.capitaux[i].epargnant?.id){\n                    console.log(\"ep\",prt);\n                    this.capitaux[i].dette+=(Number(prt.montant)*this.epargne.tauxInteretPret/100)+Number(prt.montant);\n                  }\n                }\n              }\n              console.log(\"dataSource:\",this.dataSource);\n\n\n              console.log(\"tab:\",this.table);\n              console.log(\"cap:\",this.capitaux);\n\n\n\n              this.nbrowSpan = this.dataSource.length+(7*n)-(7*m);\n\n\n              this.cdr.markForCheck();\n            }\n          );\n\n          this.cdr.markForCheck();\n        }\n      );\n\n\n    }\n\n\n  }\n\n  deposit(){\n\n    if(this.index==1){\n      let epargnant = new Epargnant();\n      let depo = new Depot();\n      let Membre:string\n      epargnant.dateEnregistrement=new Date();\n      epargnant.epargne=this.epargne;\n      Membre=String(this.formDep.value.membre);\n\n      console.log(\"membre\",Membre);\n      for (let membre of this.dataS){\n        if(membre.nom==Membre)\n          epargnant.membre=membre;\n      }\n      for(let ep of this.dataSource){\n        if(Membre==ep.membre?.nom){\n          epargnant=ep;\n        }\n      }\n\n      depo.epargnant=epargnant;\n      depo.montant=Number(this.formDep.value.montant);\n      depo.dateDepot=new Date();\n\n      console.log(\"depot\",depo);\n\n      this.epargneServ.Deposit(depo).subscribe(\n        data=>{\n          console.log(\"save\",data);\n\n          this.dataSource = [];\n          this.associationMembers=[];\n          this.dataS=[];\n          this.table=[]\n          this.capitales=[];\n          this.nbrowSpan=0;\n\n          this.ngOnInit();\n        }\n      )\n\n    }\n    // save emprunt\n    else{\n      let garrantie:Garrantie = new Garrantie();\n      let tontines:Tontine[]=[];\n      console.log(\"gage\", this.garranties);\n      this.tontineService.LoadTontine().subscribe(data=>{\n        tontines = data;\n\n        for(let gage of this.garranties){\n          if(gage.epargnantId)\n             garrantie.epargnants.push(this.emprunteur);\n          if(gage.tontineId)\n            for (let ton of tontines)\n              if(ton.id==gage.tontineId)\n                garrantie.tontines.push(ton);\n          if(gage.autres!=\"\")\n            garrantie.autres+=\"/new/\"+gage.autres;\n        }\n        let emprunt:Pret = new Pret();\n\n        emprunt.garrantie=garrantie;\n        emprunt.montant=Number(this.formDep.value.montantPret);\n        let type =<TypeEpargne>this.epargne.type;\n        emprunt.echeanche=type.code==2?Number(this.formDep.value.delais):Number(this.epargne.delaisRemboursement);\n        emprunt.datePret=new Date();\n        emprunt.motif=\"\";\n        emprunt.epargnant=this.emprunteur;\n\n\n        this.epargneServ.Emprunt(emprunt).subscribe(data=>{\n          console.log(\"emprunt\",data);\n\n          this.ngOnInit();\n\n        });\n\n      });\n\n\n    }\n\n  }\n\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value;\n    console.log(filterValue.trim().toLowerCase());\n    this.dataS=this.associationMembers;\n    this.dataS = this.dataS.filter((obj)=>{\n\n      if(filterValue.trim().toLowerCase().length==0)\n        return obj.nom.length!=0;\n      return obj.nom.toLowerCase().includes(filterValue.trim().toLowerCase());\n    })\n  }\n\n\n  getCaisseMontant(){\n    let total=0;\n    for(let montant of this.capitales){\n      total+=montant;\n    }\n    return total-this.getPretMontant();\n  }\n  getPretMontant(){\n    let total=0;\n    for(let montant of this.capitaux){\n      total+=montant.dette;\n    }\n    return total;\n  }\n\n  addGage(){\n    this.garranties.push({type:2,epargnantId:null,tontineId:null,autres:\"\"});\n  }\n\n\n  btnIsDiable(){\n    if(this.index==0){\n      let i=0,j=0;\n      for (i=0;i<this.capitaux.length;i++){\n        if(<Epargnant>this.capitaux[i].epargnant==this.emprunteur)\n          j=i;\n      }\n      if(this.emprunteur && Number(this.formDep.value.montantPret)<=(this.epargne.coefPret*this.capitaux[j].capital) && Number(this.formDep.value.montantPret)<=this.getCaisseMontant()){\n        if(this.garranties[0].tontineId||this.garranties[0].epargnantId||this.garranties[0].autres!=\"\")\n          return true;\n      }\n      return false;\n    }else {\n      if (this.formDep.value.membre && this.formDep.value.montant && this.formDep.value.montant>0)\n        return true;\n\n      return false;\n    }\n  }\n\n\n  checkTontine(){\n    this.garranties=[\n      {type:2,epargnantId:null,tontineId:null,autres:\"\"}\n    ];\n    if(this.emprunteurId){\n      for (let ep of this.dataSource){\n        if(this.emprunteurId==ep.id)\n          this.emprunteur=ep;\n      }\n      console.log(this.emprunteur);\n      if(this.emprunteur.membre)\n      this.tontineService.MyTontine(this.emprunteur.membre.id).subscribe(data=>{\n        this.tontinesGageble=data;\n      });\n    }\n  }\n}\n","<div class=\"content\">\n  <mat-grid-list cols=\"10\" class=\"main\" rowHeight=\"5vh\">\n\n    <mat-grid-tile colspan=\"7\" rowspan=\"5\" class=\"main--wrapper\">\n\n      <mat-card class=\"main--card\">\n        <mat-card-header>\n          <mat-grid-list cols=\"3\" rowHeight=\"6vh\" class=\"info\">\n            <mat-grid-tile colspan=\"3\">\n              <mat-card-title>{{epargne.nom}}</mat-card-title>\n            </mat-grid-tile>\n            <mat-grid-tile>\n              <mat-card-subtitle>Cassation le {{epargne.dateCassation|date:\"yyyy-MM-dd\"}} </mat-card-subtitle>\n            </mat-grid-tile>\n            <mat-grid-tile>\n              <mat-card-subtitle>Plafond de pret: capital X{{epargne.coefPret}}</mat-card-subtitle>\n            </mat-grid-tile>\n            <mat-grid-tile>\n              <mat-card-subtitle>Cree le {{epargne.dateCreation|date:\"yyyy-MM-dd\"}} </mat-card-subtitle>\n            </mat-grid-tile>\n            <mat-grid-tile>Taux d'intert sur pret : {{epargne.tauxInteretPret}}%</mat-grid-tile>\n            <mat-grid-tile>\n              <mat-card-title>Caisse: {{getCaisseMontant()}} F </mat-card-title>\n            </mat-grid-tile>\n            <mat-grid-tile>\n              <mat-card-title>Dettes: {{getPretMontant()}} F </mat-card-title>\n            </mat-grid-tile>\n\n<!--            <mat-grid-tile></mat-grid-tile>-->\n<!--            <mat-grid-tile></mat-grid-tile>-->\n<!--            <mat-grid-tile></mat-grid-tile>-->\n\n          </mat-grid-list>\n\n          <mat-card-subtitle></mat-card-subtitle>\n<!--          <mat-card-title>{{getCaisseMontant()}}</mat-card-title>-->\n<!--          <mat-card-subtitle>A Rembourser</mat-card-subtitle>-->\n\n        </mat-card-header>\n        <mat-card-content>\n        </mat-card-content>\n\n      </mat-card>\n\n    </mat-grid-tile>\n\n    <mat-grid-tile colspan=\"3\" rowspan=\"13\" class=\"rigth--form--wapper\">\n\n\n    </mat-grid-tile>\n\n    <mat-grid-tile colspan=\"7\" [rowspan]=\"nbrowSpan\" class=\"table--wrapper\">\n\n\n      <mat-card class=\"table--card\">\n        <mat-card-header>\n          <mat-card-title>Liste des epargnants</mat-card-title>\n          <mat-card-subtitle>...</mat-card-subtitle>\n\n\n        </mat-card-header>\n        <mat-card-content class=\"table--card--content\">\n\n          <table  mat-table [dataSource]= \"capitaux.slice()\"  class = \"mat-elevation-z8\" >\n\n            <!--- Notez que ces colonnes peuvent être définies dans n'importe quel ordre.\n                  Les colonnes réellement rendues sont définies en tant que propriété dans la définition de ligne\" -->\n\n            <!-- Position Column -->\n            <ng-container  matColumnDef = \"no\" sticky>\n              <th  mat-header-cell *matHeaderCellDef class=\"sticky--columns\"> No. </th >\n              <td  mat-cell *matCellDef = \"let element, index as i\" class=\"sticky--columns\"> {{i+1}} </td>\n            </ng-container>\n\n            <!-- Nom Colonne -->\n            <ng-container  matColumnDef = \"epargnants\" sticky>\n              <th  mat-header-cell *matHeaderCellDef class=\"sticky--columns\"> Epargnants </th>\n              <td  mat-cell *matCellDef = \"let element\" class=\"sticky--columns\"> {{element.epargnant?.membre.nom}} </td>\n            </ng-container>\n\n              <!-- Symbol Column -->\n              <ng-container *ngFor=\"let columns of daysColumns\"  matColumnDef = \"{{columns}}\">\n                  <th  mat-header-cell *matHeaderCellDef class=\"D--columns\">\n                      <span class=\"header\">{{columns}}</span></th>\n                  <td  mat-cell *matCellDef = \"let element\" class=\"D--columns\"></td>\n              </ng-container>\n\n\n            <!-- Colonne de poids -->\n            <ng-container  matColumnDef = \"total\" stickyEnd>\n              <th  mat-header-cell *matHeaderCellDef class=\"sticky--columns\"> Total </th>\n              <td  mat-cell *matCellDef = \"let element, index as i\" class=\"sticky--columns\">{{element.capital}}</td>\n            </ng-container>\n\n\n\n            <tr  mat-header-row *matHeaderRowDef = \"displayedColumns\"> </tr>\n            <tr  mat-row *matRowDef=\"let row; columns: displayedColumns;\"> </tr>\n          </table>\n\n        </mat-card-content>\n\n      </mat-card>\n\n    </mat-grid-tile>\n\n\n\n\n  </mat-grid-list>\n\n\n  <div class=\"pan\" *ngIf=\"authService.role.includes('BUREAU')\">\n    <mat-card class=\"pret--card\">\n      <mat-card-header>\n        <mat-card-subtitle>Effectuer une Operation</mat-card-subtitle>\n        <mat-card-title>Operation</mat-card-title>\n\n      </mat-card-header>\n      <mat-card-content>\n        <mat-form (submit)=\"deposit()\" [formGroup]=\"formDep\">\n          <mat-tab-group [(selectedIndex)]=\"index\">\n            <mat-tab label=\"Pret\">\n              <div class=\"pret--wrapper\">\n                <mat-grid-list cols=\"4\" rowHeight=\"85px\" >\n\n                  <mat-grid-tile colspan=\"4\">\n                    <mat-form-field floatLabel=\"always\" appearance=\"outline\">\n                      <mat-label>Membre</mat-label>\n                      <mat-select required [(ngModel)]=\"emprunteurId\" [ngModelOptions]=\"{standalone: true}\" (ngModelChange)=\"checkTontine()\">\n                        <mat-option *ngFor=\"let epargnant of dataSource\" value=\"{{epargnant.id}}\">{{epargnant.membre?.nom}}</mat-option>\n                      </mat-select>\n                    </mat-form-field>\n                  </mat-grid-tile>\n\n\n                  <mat-grid-tile colspan=\"4\">\n                    <mat-form-field floatLabel=\"always\" appearance=\"outline\">\n                      <mat-label>Montant</mat-label>\n                      <input matInput type=\"number\" class=\"example-right-align\" placeholder=\"0\" formControlName=\"montantPret\">\n                    </mat-form-field>\n                  </mat-grid-tile>\n\n                  <mat-grid-tile colspan=\"4\" *ngIf=\"epargne.type?.code==2\">\n                    <mat-form-field appearance=\"outline\" floatLabel=\"always\">\n                      <mat-label>delais</mat-label>\n                      <input matInput  type=\"number\"  class=\"example-right-align\" placeholder=\"\" formControlName=\"delais\" required>\n                      <span matTextSuffix>Mois</span>\n                    </mat-form-field>\n                  </mat-grid-tile>\n\n                  <mat-grid-tile *ngFor=\"let gage of garranties\" colspan=\"4\" rowspan=\"2\">\n\n                    <div class=\"garrantie--element\">\n                      <mat-label>type garrantie</mat-label>\n\n                      <mat-radio-group aria-label=\"Select an option\" [(ngModel)]=\"gage.type\" [ngModelOptions]=\"{standalone: true}\">\n                        <mat-radio-button value=1>Tontine</mat-radio-button>\n                        <mat-radio-button value=2>Membre</mat-radio-button>\n                        <mat-radio-button value=3>Autre</mat-radio-button>\n                      </mat-radio-group>\n\n\n                      <mat-form-field *ngIf=\"gage.type==1\" floatLabel=\"always\" appearance=\"outline\">\n                        <mat-label>Tontine</mat-label>\n                        <mat-select required [(ngModel)]=\"gage.tontineId\" [ngModelOptions]=\"{standalone: true}\">\n                          <mat-option *ngFor=\"let tontine of tontinesGageble\" value=\"{{tontine.id}}\">{{tontine.nom.slice(15)}}</mat-option>\n                        </mat-select>\n                      </mat-form-field>\n\n                      <mat-form-field *ngIf=\"gage.type==2\" floatLabel=\"always\" appearance=\"outline\">\n                        <mat-label>Membre</mat-label>\n                        <mat-select required [(ngModel)]=\"gage.epargnantId\" [ngModelOptions]=\"{standalone: true}\">\n                          <mat-option *ngFor=\"let epargnant of dataSource\" value=\"{{epargnant.id}}\">{{epargnant.membre?.nom}}</mat-option>\n                        </mat-select>\n                      </mat-form-field>\n\n                      <mat-form-field *ngIf=\"gage.type==3\" appearance=\"outline\">\n                        <mat-label>Autre</mat-label>\n                        <input matInput  type=\"text\" placeholder=\"Garrantie\" [(ngModel)]=\"gage.autres\" [ngModelOptions]=\"{standalone: true}\">\n                      </mat-form-field>\n\n                    </div>\n                  </mat-grid-tile>\n\n                  <mat-grid-tile colspan=\"4\">\n                    <button mat-flat-button color=\"primary\" (click)=\"addGage()\"> Ajouter une garrantie</button>\n                  </mat-grid-tile>\n                </mat-grid-list>\n              </div>\n\n            </mat-tab>\n            <mat-tab label=\"Depot\">\n              <mat-grid-list cols=\"4\" rowHeight=\"85px\">\n\n                <mat-grid-tile colspan=\"4\">\n\n                  <mat-form-field class=\"example-full-width\" appearance=\"outline\">\n                    <mat-label>Membre</mat-label>\n                    <input type=\"text\"\n                           placeholder=\"Membre\"\n                           aria-label=\"Number\"\n                           matInput\n                           formControlName=\"membre\"\n                           (keyup)=\"applyFilter($event)\"\n                           [matAutocomplete]=\"auto\">\n                    <mat-autocomplete #auto=\"matAutocomplete\">\n                      <mat-option *ngFor=\"let member of dataS\" [value]=\"member.nom\">{{member.nom}}</mat-option>\n                    </mat-autocomplete>\n\n                  </mat-form-field>\n                </mat-grid-tile>\n\n                <mat-grid-tile colspan=\"4\">\n                  <mat-form-field floatLabel=\"always\" appearance=\"outline\">\n                    <mat-label>Montant</mat-label>\n                    <input matInput type=\"number\" class=\"example-right-align\" placeholder=\"0\" formControlName=\"montant\">\n                  </mat-form-field>\n                </mat-grid-tile>\n              </mat-grid-list>\n\n            </mat-tab>\n          </mat-tab-group>\n        </mat-form>\n\n        <mat-divider></mat-divider>\n      </mat-card-content>\n      <mat-card-actions>\n        <button mat-flat-button color=\"primary\" (click)=\"deposit()\" [disabled]=\"!btnIsDiable()\">Confirmer</button>\n      </mat-card-actions>\n      <mat-card-footer>\n      </mat-card-footer>\n    </mat-card>\n  </div>\n\n\n\n</div>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}