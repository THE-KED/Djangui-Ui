{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../Services/tontine-service.service\";\nimport * as i3 from \"../../Services/data.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/table\";\nfunction SeanceListComponent_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 11);\n    i0.ɵɵtext(1, \" Intitule \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SeanceListComponent_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r8.nom, \" \");\n  }\n}\nfunction SeanceListComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 11);\n    i0.ɵɵtext(1, \" seance \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SeanceListComponent_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r9.rang, \" \");\n  }\n}\nfunction SeanceListComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 11);\n    i0.ɵɵtext(1, \" Cotisation \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SeanceListComponent_td_14_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function SeanceListComponent_td_14_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const element_r10 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.selectCotisation(element_r10));\n    });\n    i0.ɵɵtext(1, \" Afficher \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate3(\"routerLink\", \"\", ctx_r11.nextRoute, \"\", ctx_r11.idTontine, \"/\", element_r10.id, \"\");\n  }\n}\nfunction SeanceListComponent_td_14_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function SeanceListComponent_td_14_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const element_r10 = i0.ɵɵnextContext().$implicit;\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.endCotisation(element_r10));\n    });\n    i0.ɵɵtext(1, \" Terminer \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SeanceListComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 12)(1, \"span\");\n    i0.ɵɵtemplate(2, SeanceListComponent_td_14_button_2_Template, 2, 3, \"button\", 13);\n    i0.ɵɵtemplate(3, SeanceListComponent_td_14_button_3_Template, 2, 0, \"button\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", element_r10.statut >= 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r10.statut < 2);\n  }\n}\nfunction SeanceListComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 17);\n  }\n}\nfunction SeanceListComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 18);\n  }\n}\nclass SeanceListComponent {\n  constructor(router, route, tontineService, dataService) {\n    this.router = router;\n    this.route = route;\n    this.tontineService = tontineService;\n    this.dataService = dataService;\n    this.displayedColumns = ['intitule', 'seance', 'tontine'];\n    this.dataSource = [];\n    this.nextRoute = \"/public/tontine/affiche/\";\n  }\n  ngOnInit() {\n    this.tontine = this.dataService.actualTontine;\n    if (this.route.url.slice(0, 22) == \"/public/echec/seances/\") {\n      this.nextRoute = \"/public/echec/seances/\";\n    }\n    this.idTontine = this.router.snapshot.params[\"id\"];\n    this.router.snapshot.params;\n    this.tontineService.getCotisation(this.idTontine).subscribe(data => {\n      this.dataSource = data;\n      this.dataSource.sort((a, b) => {\n        if (a.rang > b.rang) return -1;else if (a.rang < b.rang) return 1;else return 0;\n      });\n    });\n  }\n  endCotisation(cot) {\n    cot.statut = 3;\n    cot.tontine = this.tontine;\n    this.tontineService.saveCotisation(cot).subscribe(data => {\n      console.log(\"end\", data);\n    });\n  }\n  selectCotisation(cot) {\n    this.dataService.actualCotisation = cot;\n  }\n  static #_ = this.ɵfac = function SeanceListComponent_Factory(t) {\n    return new (t || SeanceListComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TontineServiceService), i0.ɵɵdirectiveInject(i3.DataService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SeanceListComponent,\n    selectors: [[\"app-seance-list\"]],\n    decls: 17,\n    vars: 3,\n    consts: [[1, \"content\"], [1, \"tab\"], [1, \"pan\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"intitule\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"seance\"], [\"matColumnDef\", \"tontine\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"routerLink\", \"click\", 4, \"ngIf\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"routerLink\", \"click\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function SeanceListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"span\", 2)(3, \"h4\");\n        i0.ɵɵtext(4, \" TONTINE VENTE \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"table\", 3);\n        i0.ɵɵelementContainerStart(6, 4);\n        i0.ɵɵtemplate(7, SeanceListComponent_th_7_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(8, SeanceListComponent_td_8_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(9, 7);\n        i0.ɵɵtemplate(10, SeanceListComponent_th_10_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(11, SeanceListComponent_td_11_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(12, 8);\n        i0.ɵɵtemplate(13, SeanceListComponent_th_13_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(14, SeanceListComponent_td_14_Template, 4, 2, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(15, SeanceListComponent_tr_15_Template, 1, 0, \"tr\", 9);\n        i0.ɵɵtemplate(16, SeanceListComponent_tr_16_Template, 1, 0, \"tr\", 10);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n      }\n    },\n    dependencies: [i4.NgIf, i1.RouterLink, i5.MatButton, i6.MatTable, i6.MatHeaderCellDef, i6.MatHeaderRowDef, i6.MatColumnDef, i6.MatCellDef, i6.MatRowDef, i6.MatHeaderCell, i6.MatCell, i6.MatHeaderRow, i6.MatRow],\n    styles: [\".content[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: auto;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.tab[_ngcontent-%COMP%] {\\n  width: 50%;\\n  margin: 45px 0 75px 0;\\n}\\n\\n.pan[_ngcontent-%COMP%] {\\n  padding-top: 20px;\\n  background-color: rgba(0, 0, 0, 0.1);\\n  -webkit-backdrop-filter: blur(10px);\\n          backdrop-filter: blur(10px);\\n  color: #efefef;\\n  border: 1px solid rgba(255, 255, 255, 0.7);\\n  border-radius: 1%;\\n  box-shadow: 0 25px 35px rgba(38, 38, 38, 0.8);\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  width: 50%;\\n  height: 50%;\\n  background-color: rgba(255, 255, 255, 0.2);\\n  -webkit-backdrop-filter: blur(10px);\\n          backdrop-filter: blur(10px);\\n  color: #efefef;\\n  border: 1px solid rgba(255, 255, 255, 0.7);\\n  border-radius: 1%;\\n  box-shadow: 0 25px 35px rgba(38, 38, 38, 0.8);\\n}\\n\\n.echec[_ngcontent-%COMP%] {\\n  display: inline-flex;\\n  min-width: 35px;\\n}\\n\\n.pan[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-direction: column;\\n}\\n.pan[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  width: 95%;\\n  margin: 10px;\\n}\\n.pan[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%] {\\n  margin-top: 25px;\\n  width: 95%;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-evenly;\\n}\\n\\n.mat-column-tontine[_ngcontent-%COMP%] {\\n  width: 32px;\\n  padding-right: 24px;\\n  text-align: center;\\n}\\n\\n.mat-column-seance[_ngcontent-%COMP%] {\\n  width: 32px;\\n  padding-right: 24px;\\n  text-align: center;\\n}\\n\\n@media screen and (max-width: 600px) {\\n  .tab[_ngcontent-%COMP%] {\\n    width: 80%;\\n  }\\n}\\n@media screen and (max-width: 420px) {\\n  .tab[_ngcontent-%COMP%] {\\n    width: 96%;\\n  }\\n  .mat-column-seance[_ngcontent-%COMP%] {\\n    width: 22px;\\n    padding-right: 4px;\\n  }\\n  .mat-column-tontine[_ngcontent-%COMP%] {\\n    width: 32px;\\n    padding-right: 4px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvdGVjdGVkL3NlYW5jZS1saXN0L3NlYW5jZS1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9CQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUFuQkY7O0FBcUJBO0VBQ0UsVUFBQTtFQUNBLHFCQUFBO0FBbEJGOztBQXFCQTtFQUNFLGlCQUFBO0VBL0JFLG9DQUFBO0VBQ0EsbUNBQUE7VUFBQSwyQkFBQTtFQUNBLGNBQUE7RUFDQSwwQ0FBQTtFQUNBLGlCQUFBO0VBQ0EsNkNBQUE7QUFjSjs7QUFlQTtFQUNFLFVBQUE7RUFDQSxXQUFBO0VBM0JFLDBDQUFBO0VBQ0EsbUNBQUE7VUFBQSwyQkFBQTtFQUNBLGNBQUE7RUFDQSwwQ0FBQTtFQUNBLGlCQUFBO0VBQ0EsNkNBQUE7QUFnQko7O0FBVUE7RUFDRSxvQkFBQTtFQUNBLGVBQUE7QUFQRjs7QUFTQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0FBTkY7QUFRRTtFQUNFLFVBQUE7RUFDQSxZQUFBO0FBTko7QUFTRTtFQUNFLGdCQUFBO0VBQ0EsVUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0FBUEo7O0FBaUJBO0VBQ0UsV0FBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFkRjs7QUFnQkE7RUFDRSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQWJGOztBQWdCQTtFQUVFO0lBQ0UsVUFBQTtFQWRGO0FBQ0Y7QUFpQkE7RUFFRTtJQUNFLFVBQUE7RUFoQkY7RUFrQkE7SUFDRSxXQUFBO0lBQ0Esa0JBQUE7RUFoQkY7RUFtQkE7SUFDRSxXQUFBO0lBQ0Esa0JBQUE7RUFqQkY7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIkBtaXhpbiBnbGFzcy1tb3JwaCgkdHlwZSl7XHJcbiAgQGlmICR0eXBlID09IDF7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7XHJcbiAgICBjb2xvcjogI2VmZWZlZjtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDElO1xyXG4gICAgYm94LXNoYWRvdzogMCAyNXB4IDM1cHggIzI2MjYyNmNjO1xyXG5cclxuICB9XHJcbiAgQGlmICR0eXBlID09IDJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XHJcbiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7XHJcbiAgICBjb2xvcjogI2VmZWZlZjtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDElO1xyXG4gICAgYm94LXNoYWRvdzogMCAyNXB4IDM1cHggIzI2MjYyNmNjO1xyXG5cclxuICB9XHJcbn1cclxuLmNvbnRlbnR7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG4udGFie1xyXG4gIHdpZHRoOiA1MCU7XHJcbiAgbWFyZ2luOiA0NXB4IDAgNzVweCAwO1xyXG4gIC8vYmFja2dyb3VuZC1jb2xvcjogI2VmZWZlZjtcclxufVxyXG4ucGFue1xyXG4gIHBhZGRpbmctdG9wOiAyMHB4O1xyXG4gIEBpbmNsdWRlIGdsYXNzLW1vcnBoKDEpO1xyXG59XHJcbnRhYmxle1xyXG4gIHdpZHRoOiA1MCU7XHJcbiAgaGVpZ2h0OiA1MCU7XHJcbiAgLy9iYWNrZ3JvdW5kOiAjZWZlZmVmO1xyXG4gIEBpbmNsdWRlIGdsYXNzLW1vcnBoKDIpO1xyXG59XHJcbi5lY2hlY3tcclxuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICBtaW4td2lkdGg6IDM1cHg7XHJcbn1cclxuLnBhbntcclxuICB3aWR0aDogMTAwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgYnV0dG9ue1xyXG4gICAgd2lkdGg6IDk1JTtcclxuICAgIG1hcmdpbjogMTBweDtcclxuICB9XHJcblxyXG4gIHRmb290e1xyXG4gICAgbWFyZ2luLXRvcDogMjVweDtcclxuICAgIHdpZHRoOiA5NSU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xyXG4gIH1cclxufVxyXG50cntcclxuICAvL2JhY2tncm91bmQtY29sb3I6IHJnYmEoMjIwLCAyMCwgNjAsIDAuMik7XHJcbiAgLy9iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDI1NSwgMTI3LCAwLjEpO1xyXG59XHJcbnRyOmhvdmVye1xyXG4gIC8vYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMjAsIDIwLCA2MCwgMC4yKTtcclxufVxyXG4ubWF0LWNvbHVtbi10b250aW5lIHtcclxuICB3aWR0aDogMzJweDtcclxuICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4ubWF0LWNvbHVtbi1zZWFuY2Uge1xyXG4gIHdpZHRoOiAzMnB4O1xyXG4gIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2MDBweCl7XHJcblxyXG4gIC50YWJ7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gIH1cclxuXHJcbn1cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDIwcHgpe1xyXG5cclxuICAudGFie1xyXG4gICAgd2lkdGg6IDk2JTtcclxuICB9XHJcbiAgLm1hdC1jb2x1bW4tc2VhbmNlIHtcclxuICAgIHdpZHRoOiAyMnB4O1xyXG4gICAgcGFkZGluZy1yaWdodDogNHB4O1xyXG4gIH1cclxuXHJcbiAgLm1hdC1jb2x1bW4tdG9udGluZSB7XHJcbiAgICB3aWR0aDogMzJweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDRweDtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}\nexport { SeanceListComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","element_r8","nom","element_r9","rang","ɵɵlistener","SeanceListComponent_td_14_button_2_Template_button_click_0_listener","ɵɵrestoreView","_r15","element_r10","ɵɵnextContext","$implicit","ctx_r13","ɵɵresetView","selectCotisation","ɵɵpropertyInterpolate3","ctx_r11","nextRoute","idTontine","id","SeanceListComponent_td_14_button_3_Template_button_click_0_listener","_r19","ctx_r17","endCotisation","ɵɵtemplate","SeanceListComponent_td_14_button_2_Template","SeanceListComponent_td_14_button_3_Template","ɵɵproperty","statut","ɵɵelement","SeanceListComponent","constructor","router","route","tontineService","dataService","displayedColumns","dataSource","ngOnInit","tontine","actualTontine","url","slice","snapshot","params","getCotisation","subscribe","data","sort","a","b","cot","saveCotisation","console","log","actualCotisation","_","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","TontineServiceService","i3","DataService","_2","selectors","decls","vars","consts","template","SeanceListComponent_Template","rf","ctx","ɵɵelementContainerStart","SeanceListComponent_th_7_Template","SeanceListComponent_td_8_Template","ɵɵelementContainerEnd","SeanceListComponent_th_10_Template","SeanceListComponent_td_11_Template","SeanceListComponent_th_13_Template","SeanceListComponent_td_14_Template","SeanceListComponent_tr_15_Template","SeanceListComponent_tr_16_Template"],"sources":["/home/ked/backups/Angular/DanguiUi/src/app/protected/seance-list/seance-list.component.ts","/home/ked/backups/Angular/DanguiUi/src/app/protected/seance-list/seance-list.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {TontineServiceService} from \"../../Services/tontine-service.service\";\nimport {Cotisation} from \"../../../Models/Entitys/Cotisation\";\nimport {Tontine} from \"../../../Models/Abstracts/Tontine\";\nimport {DataService} from \"../../Services/data.service\";\n\n@Component({\n  selector: 'app-seance-list',\n  templateUrl: './seance-list.component.html',\n  styleUrls: ['./seance-list.component.scss']\n})\nexport class SeanceListComponent implements OnInit{\n\n  displayedColumns: string[] = ['intitule', 'seance', 'tontine'];\n  dataSource : Cotisation[] = [];\n  idTontine!:number;\n  nextRoute:string =\"/public/tontine/affiche/\";\n  tontine!:Tontine\n  constructor(private router:ActivatedRoute,\n              private route:Router,\n              private tontineService:TontineServiceService,\n              private dataService:DataService) {\n  }\n  ngOnInit() {\n    this.tontine=this.dataService.actualTontine;\n    if(this.route.url.slice(0,22)==\"/public/echec/seances/\"){\n      this.nextRoute=\"/public/echec/seances/\";\n    }\n    this.idTontine=this.router.snapshot.params[\"id\"];\n    this.router.snapshot.params\n        this.tontineService.getCotisation(this.idTontine).subscribe(\n          data =>{\n            this.dataSource = data;\n            this.dataSource.sort((a, b) => {\n              if (a.rang>b.rang)\n                return -1;\n              else if (a.rang<b.rang)\n                return 1;\n              else\n                return 0;\n            });\n          });\n\n  }\n\n  endCotisation(cot:Cotisation){\n    cot.statut=3;\n    cot.tontine=this.tontine;\n    this.tontineService.saveCotisation(cot).subscribe(\n      data =>{\n        console.log(\"end\",data);\n      }\n    );\n  }\n\n  selectCotisation(cot:Cotisation){\n    this.dataService.actualCotisation = cot;\n  }\n\n}\n","<div class=\"content\">\n  <div class=\"tab\">\n    <span class=\"pan\">\n      <h4> TONTINE VENTE  </h4>\n    </span>\n    <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\n\n      <!--- Note that these columns can be defined in any order.\n            The actual rendered columns are set as a property on the row definition\" -->\n\n      <!-- Position Column -->\n      <ng-container matColumnDef=\"intitule\">\n        <th mat-header-cell *matHeaderCellDef> Intitule </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.nom}} </td>\n      </ng-container>\n\n      <!-- Name Column -->\n      <ng-container matColumnDef=\"seance\">\n        <th mat-header-cell *matHeaderCellDef> seance </th>\n        <td mat-cell *matCellDef=\"let element\"> {{element.rang}} </td>\n      </ng-container>\n\n      <!-- Weight Column -->\n      <ng-container matColumnDef=\"tontine\">\n        <th mat-header-cell *matHeaderCellDef> Cotisation </th>\n        <td mat-cell *matCellDef=\"let element\">\n          <span>\n            <button mat-stroked-button color=\"primary\" routerLink=\"{{nextRoute}}{{idTontine}}/{{element.id}}\" *ngIf=\"element.statut >=2\" (click)=\"selectCotisation(element)\"> Afficher </button>\n            <button mat-flat-button color=\"primary\" (click)=\"endCotisation(element)\" *ngIf=\"element.statut <2\"> Terminer </button>\n          </span>\n        </td>\n      </ng-container>\n\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n\n    </table>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}