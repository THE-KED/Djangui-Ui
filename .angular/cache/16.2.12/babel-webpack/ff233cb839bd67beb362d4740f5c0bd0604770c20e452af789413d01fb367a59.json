{"ast":null,"code":"import { DestroyRef, inject } from '@angular/core';\nimport { CotisationDBComponent } from \"../../dialogbox/cotisation-db/cotisation-db.component\";\nimport { Beneficiaire } from \"../../../Models/Entitys/Beneficiaire\";\nimport { Enregistrement } from \"../../../Models/Entitys/Enregistrement\";\nimport { FormControl } from \"@angular/forms\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport { takeUntilDestroyed } from \"@angular/core/rxjs-interop\";\nimport { switchMap, tap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Services/tontine-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../Services/data.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/table\";\nimport * as i9 from \"@angular/material/input\";\nimport * as i10 from \"@angular/material/form-field\";\nimport * as i11 from \"@angular/material/badge\";\nimport * as i12 from \"@angular/material/select\";\nimport * as i13 from \"@angular/material/core\";\nimport * as i14 from \"@angular/material/grid-list\";\nimport * as i15 from \"../../money.pipe\";\nimport * as i16 from \"../../en-number.pipe\";\nfunction TontineDetailComponent_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \" No. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineDetailComponent_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21)(1, \"span\", 22);\n    i0.ɵɵtext(2, \" No :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r19 = ctx.$implicit;\n    const i_r20 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r1.getclass(element_r19.enregistrement.id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i_r20 + 1, \" \");\n  }\n}\nfunction TontineDetailComponent_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1, \" Nom \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineDetailComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21)(1, \"span\", 22);\n    i0.ɵɵtext(2, \" Nom :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"enNumber\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r21 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r3.getclass(element_r21.enregistrement.id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", element_r21.enregistrement.membre.nom, \" \", i0.ɵɵpipeBind1(4, 5, element_r21.enregistrement.rang), \" \");\n  }\n}\nfunction TontineDetailComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Cotisation(\", ctx_r4.cot == null ? null : ctx_r4.cot.tauxTontine, \") \");\n  }\n}\nfunction TontineDetailComponent_td_16_div_3_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\")(1, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function TontineDetailComponent_td_16_div_3_span_1_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const element_r22 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.openDialogBox(300, 200, element_r22));\n    });\n    i0.ɵɵtext(2, \" Cotiser \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TontineDetailComponent_td_16_div_3_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 26);\n    i0.ɵɵtext(1, \"Rejeter\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineDetailComponent_td_16_div_3_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtext(1, \" Oui \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineDetailComponent_td_16_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TontineDetailComponent_td_16_div_3_span_1_Template, 3, 0, \"span\", 15);\n    i0.ɵɵtemplate(2, TontineDetailComponent_td_16_div_3_span_2_Template, 2, 0, \"span\", 23);\n    i0.ɵɵtemplate(3, TontineDetailComponent_td_16_div_3_span_3_Template, 2, 0, \"span\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r32 = i0.ɵɵnextContext();\n    const i_r23 = ctx_r32.index;\n    const element_r22 = ctx_r32.$implicit;\n    const ctx_r24 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r24.echecs[i_r23][1] <= 1 && element_r22.tontine == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r24.echecs[i_r23][1] > 1 && element_r22.tontine == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r22.tontine);\n  }\n}\nfunction TontineDetailComponent_td_16_div_4_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 26);\n    i0.ɵɵtext(1, \"Non\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineDetailComponent_td_16_div_4_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtext(1, \" Oui \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineDetailComponent_td_16_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TontineDetailComponent_td_16_div_4_span_1_Template, 2, 0, \"span\", 23);\n    i0.ɵɵtemplate(2, TontineDetailComponent_td_16_div_4_span_2_Template, 2, 0, \"span\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r22 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !element_r22.tontine);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r22.tontine);\n  }\n}\nfunction TontineDetailComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21)(1, \"span\", 22);\n    i0.ɵɵtext(2, \" Cotisation :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, TontineDetailComponent_td_16_div_3_Template, 4, 3, \"div\", 15);\n    i0.ɵɵtemplate(4, TontineDetailComponent_td_16_div_4_Template, 3, 2, \"div\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r22 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r5.getclass(element_r22.enregistrement.id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.cotisation == null ? null : ctx_r5.cotisation.statut) == 0 || (ctx_r5.cotisation == null ? null : ctx_r5.cotisation.statut) == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.cotisation == null ? null : ctx_r5.cotisation.statut) == 2);\n  }\n}\nfunction TontineDetailComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"money\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Retard (\", i0.ɵɵpipeBind1(2, 1, ctx_r6.cotisation == null ? null : ctx_r6.cotisation.tauxEchec), \") \");\n  }\n}\nfunction TontineDetailComponent_td_19_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 30);\n    i0.ɵɵtext(1, \" Oui \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineDetailComponent_td_19_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 31);\n    i0.ɵɵtext(1, \" Non \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineDetailComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21)(1, \"span\", 22);\n    i0.ɵɵtext(2, \" Retard :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, TontineDetailComponent_td_19_span_3_Template, 2, 0, \"span\", 28);\n    i0.ɵɵtemplate(4, TontineDetailComponent_td_19_span_4_Template, 2, 0, \"span\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r36 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r7.getclass(element_r36.enregistrement.id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", element_r36.retard);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !element_r36.retard);\n  }\n}\nfunction TontineDetailComponent_th_21_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"money\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r39 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Echec (\", i0.ɵɵpipeBind1(2, 1, ctx_r39.cotisation == null ? null : ctx_r39.cotisation.tauxEchec), \")\");\n  }\n}\nfunction TontineDetailComponent_th_21_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"money\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r40 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"Echec (\", i0.ɵɵpipeBind1(2, 2, ctx_r40.cotisation == null ? null : ctx_r40.cotisation.tauxEchec), \" | \", ctx_r40.tontine == null ? null : ctx_r40.tontine.tauxEchecB, \"F)\");\n  }\n}\nfunction TontineDetailComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 20);\n    i0.ɵɵtemplate(1, TontineDetailComponent_th_21_span_1_Template, 3, 3, \"span\", 15);\n    i0.ɵɵtemplate(2, TontineDetailComponent_th_21_span_2_Template, 3, 4, \"span\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r8.tontine == null ? null : ctx_r8.tontine.type == null ? null : ctx_r8.tontine.type.code) == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r8.tontine == null ? null : ctx_r8.tontine.type == null ? null : ctx_r8.tontine.type.code) == 2);\n  }\n}\nfunction TontineDetailComponent_td_22_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33);\n    i0.ɵɵtext(1, \" Oui \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r42 = i0.ɵɵnextContext().index;\n    const ctx_r43 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"matBadge\", ctx_r43.echecs[i_r42][1]);\n  }\n}\nfunction TontineDetailComponent_td_22_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Non \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineDetailComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21)(1, \"span\", 22);\n    i0.ɵɵtext(2, \" Echec :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, TontineDetailComponent_td_22_span_3_Template, 2, 1, \"span\", 32);\n    i0.ɵɵtemplate(4, TontineDetailComponent_td_22_span_4_Template, 2, 0, \"span\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r41 = ctx.$implicit;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r9.getclass(element_r41.enregistrement.id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", element_r41.tontine == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r41.tontine);\n  }\n}\nfunction TontineDetailComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 34);\n  }\n}\nfunction TontineDetailComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 35);\n  }\n}\nfunction TontineDetailComponent_mat_grid_tile_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\")(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"money\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"A beneficier: \", i0.ɵɵpipeBind1(3, 1, ctx_r12.benefMontant), \"\");\n  }\n}\nfunction TontineDetailComponent_form_39_mat_grid_tile_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 40)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"enNumber\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r47 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"B\\u00E9n\\u00E9ficiaire: \", ctx_r47.beneficier == null ? null : ctx_r47.beneficier.membre == null ? null : ctx_r47.beneficier.membre.nom, \" \", i0.ɵɵpipeBind1(3, 2, ctx_r47.beneficier == null ? null : ctx_r47.beneficier.rang), \" \");\n  }\n}\nfunction TontineDetailComponent_form_39_mat_grid_tile_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 16)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r48 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Avalise: \", ctx_r48.avlise == null ? null : ctx_r48.avlise.membre == null ? null : ctx_r48.avlise.membre.nom, \"\");\n  }\n}\nfunction TontineDetailComponent_form_39_mat_grid_tile_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\")(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r49 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Montant de Vente: \", ctx_r49.tv, \"\");\n  }\n}\nfunction TontineDetailComponent_form_39_mat_grid_tile_4_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"enNumber\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r55 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", data_r55);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", data_r55.membre.nom, \" \", i0.ɵɵpipeBind1(2, 3, data_r55.rang), \" \");\n  }\n}\nfunction TontineDetailComponent_form_39_mat_grid_tile_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 41)(1, \"mat-form-field\", 42)(2, \"mat-label\", 43);\n    i0.ɵɵtext(3, \" Beneficier \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-select\", 44);\n    i0.ɵɵtemplate(5, TontineDetailComponent_form_39_mat_grid_tile_4_mat_option_5_Template, 3, 5, \"mat-option\", 45);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r50 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r50.nonBenef);\n  }\n}\nfunction TontineDetailComponent_form_39_mat_grid_tile_5_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"enNumber\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r57 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", data_r57);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", data_r57.membre.nom, \" \", i0.ɵɵpipeBind1(2, 3, data_r57.rang), \" \");\n  }\n}\nfunction TontineDetailComponent_form_39_mat_grid_tile_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 41)(1, \"mat-form-field\", 47)(2, \"mat-label\", 48);\n    i0.ɵɵtext(3, \" Avalise \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-select\", 49);\n    i0.ɵɵtemplate(5, TontineDetailComponent_form_39_mat_grid_tile_5_mat_option_5_Template, 3, 5, \"mat-option\", 45);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r51 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r51.membres);\n  }\n}\nfunction TontineDetailComponent_form_39_mat_grid_tile_6_mat_form_field_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 47)(1, \"mat-label\", 51);\n    i0.ɵɵtext(2, \" Taux Vente \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 52);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineDetailComponent_form_39_mat_grid_tile_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 41);\n    i0.ɵɵtemplate(1, TontineDetailComponent_form_39_mat_grid_tile_6_mat_form_field_1_Template, 4, 0, \"mat-form-field\", 50);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r52 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r52.tontine == null ? null : ctx_r52.tontine.type == null ? null : ctx_r52.tontine.type.nom) == \"Vente\");\n  }\n}\nfunction TontineDetailComponent_form_39_mat_grid_tile_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 53)(1, \"button\", 54);\n    i0.ɵɵtext(2, \"VALIDER\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r53 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r53.benefForm.valid);\n  }\n}\nfunction TontineDetailComponent_form_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 36);\n    i0.ɵɵlistener(\"ngSubmit\", function TontineDetailComponent_form_39_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r59 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r59.valide());\n    });\n    i0.ɵɵtemplate(1, TontineDetailComponent_form_39_mat_grid_tile_1_Template, 4, 4, \"mat-grid-tile\", 18);\n    i0.ɵɵtemplate(2, TontineDetailComponent_form_39_mat_grid_tile_2_Template, 3, 1, \"mat-grid-tile\", 37);\n    i0.ɵɵtemplate(3, TontineDetailComponent_form_39_mat_grid_tile_3_Template, 3, 1, \"mat-grid-tile\", 15);\n    i0.ɵɵtemplate(4, TontineDetailComponent_form_39_mat_grid_tile_4_Template, 6, 1, \"mat-grid-tile\", 38);\n    i0.ɵɵtemplate(5, TontineDetailComponent_form_39_mat_grid_tile_5_Template, 6, 1, \"mat-grid-tile\", 38);\n    i0.ɵɵtemplate(6, TontineDetailComponent_form_39_mat_grid_tile_6_Template, 2, 1, \"mat-grid-tile\", 38);\n    i0.ɵɵtemplate(7, TontineDetailComponent_form_39_mat_grid_tile_7_Template, 3, 1, \"mat-grid-tile\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r13.benefForm);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r13.cotisation == null ? null : ctx_r13.cotisation.statut) == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r13.cotisation == null ? null : ctx_r13.cotisation.statut) == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r13.cotisation == null ? null : ctx_r13.cotisation.statut) == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r13.cotisation == null ? null : ctx_r13.cotisation.statut) == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r13.cotisation == null ? null : ctx_r13.cotisation.statut) == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r13.cotisation == null ? null : ctx_r13.cotisation.statut) == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r13.cotisation == null ? null : ctx_r13.cotisation.statut) == 0);\n  }\n}\nfunction TontineDetailComponent_form_40_mat_grid_tile_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 58)(1, \"mat-form-field\", 47)(2, \"mat-label\", 59);\n    i0.ɵɵtext(3, \" Complement \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 60);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r61 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r61.supl > 0);\n  }\n}\nfunction TontineDetailComponent_form_40_mat_grid_tile_10_h4_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r65 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Supplement: \", ctx_r65.supl, \"\");\n  }\n}\nfunction TontineDetailComponent_form_40_mat_grid_tile_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\");\n    i0.ɵɵtemplate(1, TontineDetailComponent_form_40_mat_grid_tile_10_h4_1_Template, 2, 1, \"h4\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r62 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r62.tontine == null ? null : ctx_r62.tontine.type == null ? null : ctx_r62.tontine.type.code) == 1);\n  }\n}\nfunction TontineDetailComponent_form_40_mat_grid_tile_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-grid-tile\");\n  }\n}\nfunction TontineDetailComponent_form_40_mat_grid_tile_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r67 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 53)(1, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function TontineDetailComponent_form_40_mat_grid_tile_12_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r67);\n      const ctx_r66 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r66.close());\n    });\n    i0.ɵɵtext(2, \"TERMINER\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TontineDetailComponent_form_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r69 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 36);\n    i0.ɵɵlistener(\"ngSubmit\", function TontineDetailComponent_form_40_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r68 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r68.AddComplement());\n    });\n    i0.ɵɵelementStart(1, \"mat-grid-tile\", 55)(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"enNumber\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"mat-grid-tile\", 56)(6, \"h4\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"enNumber\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, TontineDetailComponent_form_40_mat_grid_tile_9_Template, 5, 1, \"mat-grid-tile\", 57);\n    i0.ɵɵtemplate(10, TontineDetailComponent_form_40_mat_grid_tile_10_Template, 2, 1, \"mat-grid-tile\", 15);\n    i0.ɵɵtemplate(11, TontineDetailComponent_form_40_mat_grid_tile_11_Template, 1, 0, \"mat-grid-tile\", 15);\n    i0.ɵɵtemplate(12, TontineDetailComponent_form_40_mat_grid_tile_12_Template, 3, 0, \"mat-grid-tile\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r14.compleForm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"B\\u00E9n\\u00E9ficiaire: \", ctx_r14.beneficier == null ? null : ctx_r14.beneficier.membre == null ? null : ctx_r14.beneficier.membre.nom, \" \", i0.ɵɵpipeBind1(4, 9, ctx_r14.beneficier == null ? null : ctx_r14.beneficier.rang), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"Avalise: \", ctx_r14.avlise == null ? null : ctx_r14.avlise.membre == null ? null : ctx_r14.avlise.membre.nom, \" \", i0.ɵɵpipeBind1(8, 11, ctx_r14.avlise == null ? null : ctx_r14.avlise.rang), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r14.cotisation == null ? null : ctx_r14.cotisation.statut) == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r14.cotisation == null ? null : ctx_r14.cotisation.statut) == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r14.cotisation == null ? null : ctx_r14.cotisation.statut) == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r14.cotisation == null ? null : ctx_r14.cotisation.statut) == 1);\n  }\n}\nfunction TontineDetailComponent_mat_grid_tile_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\")(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"money\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Montant de Vente: \", i0.ɵɵpipeBind1(3, 1, ctx_r15.cotisation == null ? null : ctx_r15.cotisation.tauxVente), \"\");\n  }\n}\nfunction TontineDetailComponent_mat_grid_tile_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 40)(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"money\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Complement: \", i0.ɵɵpipeBind1(3, 1, ctx_r16.complement), \"\");\n  }\n}\nfunction TontineDetailComponent_mat_grid_tile_43_h4_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"money\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r70 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Supplement: \", i0.ɵɵpipeBind1(2, 1, ctx_r70.supl), \"\");\n  }\n}\nfunction TontineDetailComponent_mat_grid_tile_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\");\n    i0.ɵɵtemplate(1, TontineDetailComponent_mat_grid_tile_43_h4_1_Template, 3, 3, \"h4\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r17.tontine == null ? null : ctx_r17.tontine.type == null ? null : ctx_r17.tontine.type.code) == 1);\n  }\n}\nfunction TontineDetailComponent_mat_grid_list_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r72 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-grid-list\", 62)(1, \"mat-grid-tile\", 63)(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"enNumber\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"mat-grid-tile\", 64)(6, \"h4\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"enNumber\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"mat-grid-tile\", 65)(10, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function TontineDetailComponent_mat_grid_list_44_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r72);\n      const ctx_r71 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r71.openPDF());\n    });\n    i0.ɵɵtext(11, \" IMPRIMER \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"B\\u00E9n\\u00E9ficiaire: \", ctx_r18.beneficier == null ? null : ctx_r18.beneficier.membre == null ? null : ctx_r18.beneficier.membre.nom, \" \", i0.ɵɵpipeBind1(4, 4, ctx_r18.beneficier == null ? null : ctx_r18.beneficier.rang), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"Avalise: \", ctx_r18.avlise == null ? null : ctx_r18.avlise.membre == null ? null : ctx_r18.avlise.membre.nom, \" \", i0.ɵɵpipeBind1(8, 6, ctx_r18.avlise == null ? null : ctx_r18.avlise.rang), \"\");\n  }\n}\nclass TontineDetailComponent {\n  constructor(tontineService, route, dialogBox, formBuilder, cd, dataService) {\n    this.tontineService = tontineService;\n    this.route = route;\n    this.dialogBox = dialogBox;\n    this.formBuilder = formBuilder;\n    this.cd = cd;\n    this.dataService = dataService;\n    this.destroyRef = inject(DestroyRef);\n    this.displayedColumns = ['position', 'name', 'weight', 'symbol', 'echec'];\n    this.dataSource = [];\n    this.benefs = new Map();\n    this.echecs = [];\n    this.tontine = null;\n    this.membres = [];\n    this.nonBenef = [];\n    this.complement = 0;\n    this.hadBen = false;\n    this.cotStatu = 0;\n    this.tv = 0;\n    this.supl = 0;\n    this.benefMontant = 0;\n    this.totalEchecs = 0;\n    this.rang = null;\n    this.benefForm = this.formBuilder.group({\n      benef: Enregistrement,\n      aval: Enregistrement,\n      TV: new FormControl(Number(this.taux))\n    });\n    this.compleForm = this.formBuilder.group({\n      compl: new FormControl(0),\n      supl: new FormControl(this.supl)\n    });\n  }\n  ngOnInit() {\n    this.idTontine = this.route.snapshot.params[\"id\"];\n    this.rang = this.dataService.actualSeanceRang;\n    // this.tontineService.getLastNormalCot(this.idTontine).pipe(\n    //     takeUntilDestroyed(this.destroyRef)\n    // ).subscribe(\n    //   data=>{\n    //     console.log(data);\n    //     this.last=data;\n    //\n    //       if(data.createdAt){\n    //         let creatat= new Date(data.createdAt).getTime();\n    //         let actualDate = new Date().getTime();\n    //         console.log(new Date(data.createdAt),new Date())\n    //         console.log(actualDate-creatat);\n    //         if((actualDate-creatat)>=86400000){\n    //           console.log(\"##### new Cot #####\")\n    //           this.cotisation = new Cotisation(null,data.nom,data.rang+1,0,data.tauxEchec,0,0,data.tauxTontine,\n    //             0,data.tontine,null,new Date(),new Date(),0);\n    //           if (this.cotisation.rang==1){\n    //             this.cotisation.nom = new Date().toLocaleString().slice(0,10)+\" \"+this.cotisation.nom;\n    //           }else {\n    //             console.log(\"::::::::::::::\")\n    //             this.cotisation.nom = new Date().toLocaleString().slice(0,10)+\" \"+this.cotisation.nom.slice(10);\n    //           }\n    //           // if(data.id)\n    //           //   this.idCot=data.id;\n    //         }\n    //         else {\n    //           this.cotisation=data;\n    //           this.beneficier= this.cotisation.beneficiaire?.enregistrement;\n    //           this.avlise=this.cotisation.beneficiaire?.avaliste;\n    //           // if(data.id)\n    //           //   this.idCot=data.id;\n    //         }\n    //         this.cotStatu=this.cotisation.statut;\n    //       }\n    //\n    //     this.tontineService.getActualParticipation(this.idTontine,this.cotisation).subscribe(\n    //       data=>{\n    //         console.log(\"getActualParticipation:\",data);\n    //         this.dataSource = data.slice();\n    //         this.cot=this.cotisation;\n    //         this.tontine=data[0].enregistrement.tontine;\n    //         this.benefForm.controls.TV.setValue(Number(this.tontine?.tauxTontine));\n    //         if(this.cot)\n    //         if(this.cot.beneficiaire?.id!=null){\n    //           this.hadBen=true;\n    //         }\n    //           if (this.cotisation)\n    //           if(this.cotisation.rang!=1){\n    //             this.tontineService.checkEchecsCot(this.idTontine,this.idCot).subscribe(\n    //               data =>{\n    //                   console.log(\"checkEchecsCot\",data);\n    //                 let isadd=false;\n    //                 for(let elm of this.dataSource){\n    //                   isadd=false;\n    //                   for (let echec of data){\n    //                     if(echec[0]==elm.enregistrement.id){\n    //                       let ech =[echec[0],echec[1]+1];\n    //                       console.log(ech);\n    //                       this.echecs.push(ech);\n    //                       isadd=true;\n    //                     }\n    //                   }\n    //                   if(!isadd){\n    //                     this.echecs.push([0,1]);\n    //                   }\n    //                 }\n    //\n    //                 this.tontineService.AllLastbenef(this.idTontine).subscribe(\n    //                   data=>{\n    //                     console.log(\"AllLastbenef:\",data);\n    //                     for (let ben of data){\n    //                       if(ben.enregistrement)\n    //                         this.benefs.set(ben.enregistrement.id,ben);\n    //                     }\n    //\n    //                     for (let part of this.dataSource){\n    //                       this.membres.push(part.enregistrement);\n    //                       if(!(this.benefs.has(part.enregistrement.id))){\n    //                         this.nonBenef.push(part.enregistrement);\n    //                       }\n    //                     }\n    //                   });\n    //\n    //               });\n    //\n    //\n    //           }else {\n    //             for (let echec of data){\n    //               this.echecs.push([0,1]);\n    //             }\n    //\n    //             for (let part of this.dataSource){\n    //               this.membres.push(part.enregistrement);\n    //               this.nonBenef.push(part.enregistrement);\n    //             }\n    //\n    //           }\n    //\n    //       }\n    //     );\n    //\n    // });\n    this.tontineService.startCotisation(this.idTontine, 0, this.rang).pipe(takeUntilDestroyed(this.destroyRef), tap(data => {\n      this.cotisation = data[0];\n      this.dataSource = data[1].slice();\n      this.beneficier = this.cotisation.beneficiaire?.enregistrement;\n      this.avlise = this.cotisation.beneficiaire?.avaliste;\n      this.cotStatu = this.cotisation.statut;\n      this.cot = this.cotisation;\n      this.tontine = this.dataSource[0].enregistrement.tontine;\n      this.benefForm.controls.TV.setValue(Number(this.tontine?.tauxTontine));\n      if (this.cot) {\n        if (this.cot.beneficiaire?.id != null) {\n          this.hadBen = true;\n        }\n        if (data[2] && data[3]) {\n          let isadd = false;\n          for (let elm of this.dataSource) {\n            isadd = false;\n            for (let echec of data[2]) {\n              if (echec[0] == elm.enregistrement.id) {\n                let ech = [echec[0], echec[1] + 1];\n                this.echecs.push(ech);\n                isadd = true;\n              }\n            }\n            if (!isadd) this.echecs.push([0, 1]);\n          }\n          for (let ben of data[3]) {\n            if (ben.enregistrement) this.benefs.set(ben.enregistrement.id, ben);\n          }\n          for (let part of this.dataSource) {\n            this.membres.push(part.enregistrement);\n            if (!this.benefs.has(part.enregistrement.id)) {\n              this.nonBenef.push(part.enregistrement);\n            }\n          }\n        }\n      }\n    })).subscribe(data => {\n      console.log(\"Success :\", data);\n      this.cd.markForCheck();\n    });\n  }\n  getclass(id) {\n    if (this.benefs.has(id)) return \"ben\";\n    return \"nonBen\";\n  }\n  openDialogBox(enterDuration, exitDuration, part) {\n    console.log(part);\n    if (this.cotisation && this.tontine) {\n      part.cotisation = this.cotisation;\n      part.cotisation.tontine = this.tontine;\n    }\n    this.dialogBox.open(CotisationDBComponent, {\n      width: '400px',\n      enterAnimationDuration: enterDuration,\n      exitAnimationDuration: exitDuration,\n      data: part\n    }).afterClosed().subscribe(data => {\n      if (data && data.data) {\n        console.log(\"close\", data.data);\n        this.cotisation = data.data.cotisation;\n        this.tontineService.getActualParticipation(this.idTontine, this.cotisation).subscribe(data => {\n          console.log(\"getActualParticipation\", data);\n        });\n      }\n      this.cd.markForCheck();\n    });\n  }\n  getNbEchec() {\n    let total = 0;\n    this.totalEchecs = 0;\n    for (let data of this.dataSource) {\n      if (data.echec) {\n        total++;\n        if (this.tontine && this.cotisation) {\n          if (this.tontine.type.code == 2) {\n            if (this.getclass(data.enregistrement.id) == \"ben\") {\n              this.totalEchecs += Number(this.tontine.tauxEchecB) + this.tontine.tauxTontine;\n            } else {\n              this.totalEchecs += Number(this.tontine.tauxEchec) + this.tontine.tauxTontine;\n            }\n          } else if (this.tontine.type.code == 1) {\n            this.totalEchecs += Number(this.cotisation.tauxEchec + this.cotisation.tauxTontine);\n          }\n        }\n      }\n    }\n    return total;\n  }\n  getTotal() {\n    let total = 0;\n    for (let data of this.dataSource) {\n      if (data.tontine) {\n        total++;\n      }\n    }\n    if (this.tontine) {\n      if (this.tontine.type.code == 1) {\n        if (total > this.tontine.nbSeances) {\n          this.supl = (total - this.tontine.nbSeances) * this.tontine?.tauxTontine;\n          this.benefMontant = this.tontine.nbSeances * this.tontine?.tauxTontine;\n        } else {\n          this.supl = 0;\n          this.benefMontant = total * this.tontine?.tauxTontine;\n        }\n      } else {\n        this.supl = 0;\n        this.benefMontant = total * this.tontine?.tauxTontine;\n      }\n      this.compleForm.value.supl = this.supl;\n      return total * this.tontine?.tauxTontine;\n    }\n    return total;\n  }\n  getMax() {\n    if (this.tontine) return this.dataSource.length * this.tontine?.tauxTontine;\n    return 0;\n  }\n  valide() {\n    if (this.cotisation) {\n      this.cotisation.statut = 1;\n      this.cotStatu = 1;\n      this.cotisation.supplement = this.supl;\n    }\n    console.log(this.cotisation);\n    // @ts-ignore\n    this.beneficier = this.benefForm.value.benef;\n    // @ts-ignore\n    this.avlise = this.benefForm.value.aval;\n    // @ts-ignore\n    this.tv = Number(this.benefForm.value.TV);\n    let ben = new Beneficiaire(null, this.benefMontant, this.benefMontant, this.benefMontant, 0, this.beneficier, this.avlise, new Date(), new Date());\n    if (this.tontine) if (this.cotisation) {\n      this.cotisation.beneficiaire = ben;\n      this.cotisation.statut = 1;\n      this.cotisation.tontine = this.tontine;\n      this.cotisation.tauxVente = this.tv;\n      console.log(this.cotisation);\n      // console.log(JSON.stringify(this.cotisation));\n      this.tontineService.saveCotisation(this.cotisation).subscribe(data => {\n        console.log(\"save\", data);\n      });\n    }\n    if (this.tontine && this.cotisation) if (this.tontine.type.nom == \"Vente\") {\n      let tauxE = 500;\n      if (Math.round(this.tv / this.dataSource.length) > 500) {\n        tauxE = Math.round(this.tv / this.dataSource.length);\n      }\n      this.cotisation.tauxEchec = tauxE;\n    }\n  }\n  AddComplement() {\n    console.log(\"####################addComplements###################\");\n    if (this.cotisation) {\n      this.cotisation.statut = 2;\n      this.cotStatu = 2;\n      this.cotisation.supplement = this.supl;\n    }\n    console.log(this.cotisation);\n    // @ts-ignore\n    this.complement = this.compleForm.value.compl;\n    if (this.cotisation && this.tontine) {\n      this.cotisation.complement = this.complement;\n      this.cotisation.tontine = this.tontine;\n      let echecs = [];\n      let ec;\n      let ben = this.cotisation.beneficiaire;\n      if (ben) {\n        ben.tauxCotise = this.benefMontant;\n        ben.tauxRemis = this.benefMontant;\n        ben.tauxDu = this.benefMontant;\n        this.cotisation.beneficiaire = ben;\n      }\n      this.tontineService.saveCotisation(this.cotisation).pipe(takeUntilDestroyed(this.destroyRef), switchMap(data => {\n        this.cotisation = data;\n        console.log(data);\n        for (let i = 0; i < this.dataSource.length; i++) {\n          if (this.echecs[i][1] >= 1) {\n            ec = this.dataSource[i];\n            ec.cotisation = this.cotisation;\n            if (ec.echec) echecs.push(ec);\n          }\n        }\n        return this.tontineService.saveParticipationList(echecs);\n      })).subscribe(data => {\n        console.log(\"saveParticipationList\", data);\n        for (let i = 0; i < this.dataSource.length; i++) {\n          for (let j = 0; j < data.length; j++) {\n            if (data[j].enregistrement.id == this.dataSource[i].enregistrement.id) {\n              this.dataSource[i] = data[j];\n            }\n          }\n        }\n        console.log(\"dataSource\", this.dataSource);\n        this.cd.markForCheck();\n      });\n    }\n  }\n  close() {\n    if (this.nonBenef.length <= 1) {\n      if (this.tontine) {\n        this.tontine.actif = false;\n        this.tontineService.saveTontine(this.tontine).pipe(takeUntilDestroyed(this.destroyRef), tap(data => {\n          console.log(\"saved Tontine\", data);\n          if (this.cotisation) this.cotisation.tontine = data;\n          if (this.cot) this.cot.tontine = data;\n          this.AddComplement();\n        })).subscribe(() => {\n          this.cd.markForCheck();\n        });\n      }\n    }\n  }\n  openPDF() {\n    var part = [];\n    let i = 0;\n    const options = {\n      startY: 20,\n      startX: 20\n    };\n    const doc = new jsPDF();\n    if (this.cot && this.cot.createdAt) doc.text(\"Tontine : \" + String(this.tontine?.nom).slice(16) + \"       Le : \" + this.cot.createdAt.toString(), 10, 7);\n    if (this.tontine?.type.id == 1) doc.text(\"Total de cotisation : \" + this.getTotal() + \"/\" + this.getMax() + \" Fcfa    taux de vente:\" + this.cot?.tauxVente + \" Fcfa\", 10, 21);else doc.text(\"Total de cotisation : \" + this.getTotal() + \"/\" + this.getMax() + \" Fcfa\", 10, 21);\n    doc.text(\"Beneficier : \" + this.cot?.beneficiaire?.enregistrement?.membre.nom + \"        Montant : \" + this.cot?.beneficiaire?.tauxRemis + \" Fcfa\", 10, 28);\n    doc.text(\"Avalise : \" + this.cot?.beneficiaire?.avaliste?.membre.nom + \"     Suplement : \" + this.cot?.supplement + \" Fcfa\", 10, 35);\n    doc.text(\"Echec : \" + this.getNbEchec() + \"   (\" + this.totalEchecs + \" Fcfa)\", 10, 42);\n    autoTable(doc, {\n      html: '#htmlData',\n      startY: 49\n    });\n    doc.save('Cotisation ' + this.cot?.nom + '.pdf');\n  }\n  static #_ = this.ɵfac = function TontineDetailComponent_Factory(t) {\n    return new (t || TontineDetailComponent)(i0.ɵɵdirectiveInject(i1.TontineServiceService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.MatDialog), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i5.DataService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TontineDetailComponent,\n    selectors: [[\"app-tontine-start\"]],\n    decls: 45,\n    vars: 22,\n    consts: [[1, \"content\"], [1, \"tab\"], [1, \"pan\"], [\"mat-table\", \"\", \"id\", \"htmlData\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"position\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 3, \"class\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"matColumnDef\", \"weight\"], [\"matColumnDef\", \"symbol\"], [\"matColumnDef\", \"echec\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [1, \"footer-form\"], [\"cols\", \"3\", \"rowHeight\", \"45px\", 1, \"letf\"], [4, \"ngIf\"], [1, \"right\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [\"class\", \"letf\", 4, \"ngIf\"], [\"cols\", \"2\", \"rowHeight\", \"50px\", 4, \"ngIf\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [1, \"mobile-label\"], [\"class\", \"rejeter\", 4, \"ngIf\"], [\"class\", \"tonine\", 4, \"ngIf\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 1, \"btn-cot\", 3, \"click\"], [1, \"rejeter\"], [1, \"tonine\"], [\"matBadge\", \"1\", \"class\", \"echec\", \"matBadgeColor\", \"accent\", 4, \"ngIf\"], [\"class\", \"retard\", 4, \"ngIf\"], [\"matBadge\", \"1\", \"matBadgeColor\", \"accent\", 1, \"echec\"], [1, \"retard\"], [\"class\", \"echec\", \"matBadgeColor\", \"warn\", 3, \"matBadge\", 4, \"ngIf\"], [\"matBadgeColor\", \"warn\", 1, \"echec\", 3, \"matBadge\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [3, \"formGroup\", \"ngSubmit\"], [\"class\", \"right\", 4, \"ngIf\"], [\"rowspan\", \"2\", 4, \"ngIf\"], [\"colspan\", \"3\", 4, \"ngIf\"], [1, \"letf\"], [\"rowspan\", \"2\"], [\"appearance\", \"outline\", 1, \"letf\"], [\"for\", \"benef\"], [\"id\", \"benef\", \"formControlName\", \"benef\", \"required\", \"true\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"appearance\", \"outline\"], [\"for\", \"aval\"], [\"id\", \"aval\", \"formControlName\", \"aval\", \"required\", \"true\"], [\"appearance\", \"outline\", 4, \"ngIf\"], [\"for\", \"TV\"], [\"id\", \"TV\", \"matInput\", \"\", \"placeholder\", \"Taux Vente\", \"formControlName\", \"TV\"], [\"colspan\", \"3\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 3, \"disabled\"], [\"rowspan\", \"2\", 1, \"letf\", \"bot1\"], [\"rowspan\", \"2\", 1, \"rigth\", \"bot2\"], [\"rowspan\", \"2\", \"class\", \"letf\", 4, \"ngIf\"], [\"rowspan\", \"2\", 1, \"letf\"], [\"for\", \"compl\"], [\"id\", \"compl\", \"matInput\", \"\", \"placeholder\", \"Complement\", \"formControlName\", \"compl\", 3, \"disabled\"], [\"type\", \"submit\", \"mat-flat-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"cols\", \"2\", \"rowHeight\", \"50px\"], [1, \"letf\", \"bot1\"], [1, \"rigth\", \"bot2\"], [\"colspan\", \"2\"], [\"mat-flat-button\", \"\", 1, \"impr--btn\", 3, \"click\"]],\n    template: function TontineDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"span\", 2)(3, \"h4\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"h1\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"table\", 3);\n        i0.ɵɵelementContainerStart(8, 4);\n        i0.ɵɵtemplate(9, TontineDetailComponent_th_9_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(10, TontineDetailComponent_td_10_Template, 4, 4, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(11, 7);\n        i0.ɵɵtemplate(12, TontineDetailComponent_th_12_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(13, TontineDetailComponent_td_13_Template, 5, 7, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(14, 8);\n        i0.ɵɵtemplate(15, TontineDetailComponent_th_15_Template, 2, 1, \"th\", 5);\n        i0.ɵɵtemplate(16, TontineDetailComponent_td_16_Template, 5, 5, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(17, 9);\n        i0.ɵɵtemplate(18, TontineDetailComponent_th_18_Template, 3, 3, \"th\", 5);\n        i0.ɵɵtemplate(19, TontineDetailComponent_td_19_Template, 5, 5, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(20, 10);\n        i0.ɵɵtemplate(21, TontineDetailComponent_th_21_Template, 3, 2, \"th\", 5);\n        i0.ɵɵtemplate(22, TontineDetailComponent_td_22_Template, 5, 5, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(23, TontineDetailComponent_tr_23_Template, 1, 0, \"tr\", 11);\n        i0.ɵɵtemplate(24, TontineDetailComponent_tr_24_Template, 1, 0, \"tr\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"span\", 2)(26, \"section\", 13);\n        i0.ɵɵelement(27, \"div\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"mat-grid-list\", 14)(29, \"mat-grid-tile\")(30, \"h4\");\n        i0.ɵɵtext(31);\n        i0.ɵɵpipe(32, \"money\");\n        i0.ɵɵpipe(33, \"money\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(34, TontineDetailComponent_mat_grid_tile_34_Template, 4, 3, \"mat-grid-tile\", 15);\n        i0.ɵɵelementStart(35, \"mat-grid-tile\", 16)(36, \"h4\");\n        i0.ɵɵtext(37);\n        i0.ɵɵpipe(38, \"money\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(39, TontineDetailComponent_form_39_Template, 8, 8, \"form\", 17);\n        i0.ɵɵtemplate(40, TontineDetailComponent_form_40_Template, 13, 13, \"form\", 17);\n        i0.ɵɵtemplate(41, TontineDetailComponent_mat_grid_tile_41_Template, 4, 3, \"mat-grid-tile\", 15);\n        i0.ɵɵtemplate(42, TontineDetailComponent_mat_grid_tile_42_Template, 4, 3, \"mat-grid-tile\", 18);\n        i0.ɵɵtemplate(43, TontineDetailComponent_mat_grid_tile_43_Template, 2, 1, \"mat-grid-tile\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(44, TontineDetailComponent_mat_grid_list_44_Template, 12, 8, \"mat-grid-list\", 19);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.cotisation == null ? null : ctx.cotisation.nom, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"-- SEANCE \", ctx.cotisation == null ? null : ctx.cotisation.rang, \" --\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource.slice());\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate2(\"Total: \", i0.ɵɵpipeBind1(32, 16, ctx.getTotal()), \" / \", i0.ɵɵpipeBind1(33, 18, ctx.getMax()), \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", (ctx.tontine == null ? null : ctx.tontine.type == null ? null : ctx.tontine.type.code) == 1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\" Echecs: \", i0.ɵɵpipeBind1(38, 20, ctx.totalEchecs), \" (\", ctx.getNbEchec(), \")\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.cotStatu == 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.cotStatu == 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.cotisation == null ? null : ctx.cotisation.statut) == 2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.cotisation == null ? null : ctx.cotisation.statut) == 2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.cotisation == null ? null : ctx.cotisation.statut) == 2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.cotisation == null ? null : ctx.cotisation.statut) == 2);\n      }\n    },\n    dependencies: [i6.NgForOf, i6.NgIf, i7.MatButton, i8.MatTable, i8.MatHeaderCellDef, i8.MatHeaderRowDef, i8.MatColumnDef, i8.MatCellDef, i8.MatRowDef, i8.MatHeaderCell, i8.MatCell, i8.MatHeaderRow, i8.MatRow, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i9.MatInput, i10.MatFormField, i10.MatLabel, i11.MatBadge, i12.MatSelect, i13.MatOption, i4.FormGroupDirective, i4.FormControlName, i14.MatGridList, i14.MatGridTile, i15.MoneyPipe, i16.EnNumberPipe],\n    styles: [\".content[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: auto;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.tab[_ngcontent-%COMP%] {\\n  width: 70%;\\n  margin: 45px 0 75px 0;\\n  padding: 50px;\\n  background-color: rgba(255, 255, 255, 0.6);\\n  -webkit-backdrop-filter: blur(10px);\\n          backdrop-filter: blur(10px);\\n  border: 1px solid rgba(255, 255, 255, 0.7);\\n  border-radius: 10px;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  width: 55%;\\n  height: 50%;\\n  background: none;\\n  box-shadow: none;\\n  border-bottom: 1px solid #17a2b8;\\n}\\n\\ntr[_ngcontent-%COMP%] {\\n  background: none;\\n}\\n\\n.echec[_ngcontent-%COMP%] {\\n  display: inline-flex;\\n  min-width: 35px;\\n}\\n\\n.pan[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-direction: column;\\n  margin-top: 20px;\\n}\\n.pan[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  width: 95%;\\n  margin: 10px;\\n}\\n.pan[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%] {\\n  width: 95%;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-evenly;\\n}\\n\\n.mat-mdc-row[_ngcontent-%COMP%]   .ben[_ngcontent-%COMP%] {\\n  background-color: rgba(255, 223, 126, 0.45) !important;\\n}\\n\\n.rejeter[_ngcontent-%COMP%] {\\n  color: crimson;\\n}\\n\\n.tonine[_ngcontent-%COMP%] {\\n  color: #17a2b8;\\n}\\n\\n.footer-form[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: space-evenly;\\n}\\n\\n.footer-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-evenly;\\n}\\n\\n.footer--inf[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.bot[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-evenly;\\n  flex-direction: row;\\n}\\n.bot[_ngcontent-%COMP%]   .footer-inf[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin: 1em 2em;\\n}\\n.bot[_ngcontent-%COMP%]   .footer-inf[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  height: 100%;\\n  margin: 0;\\n}\\n\\n@media screen and (max-width: 768px) {\\n  .tab[_ngcontent-%COMP%] {\\n    width: 80%;\\n  }\\n}\\nmat-grid-list[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.mobile-label[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n\\n@media (max-width: 600px) {\\n  .tab[_ngcontent-%COMP%] {\\n    width: 95%;\\n  }\\n  .mobile-label[_ngcontent-%COMP%] {\\n    width: 80px !important;\\n    display: inline-block;\\n    font-weight: bold !important;\\n    margin-right: 2em;\\n  }\\n  .mat-mdc-header-row[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n  .mat-mdc-row[_ngcontent-%COMP%] {\\n    width: 100%;\\n    display: flex !important;\\n    flex-direction: column !important;\\n    align-items: flex-start;\\n    padding: 8px 24px;\\n    height: auto;\\n    border-bottom: 1px solid #464646;\\n  }\\n  .mdc-data-table__cell[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: row;\\n    padding: 0.7em;\\n    border: none;\\n    width: 100%;\\n  }\\n}\\n.impr--btn[_ngcontent-%COMP%] {\\n  background: #17a2b8;\\n  color: white;\\n}\\n\\n.bot1[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.btn-cot[_ngcontent-%COMP%] {\\n  border-color: #3f51b5;\\n}\\n\\n.left[_ngcontent-%COMP%]   mat-grid-tile-content[_ngcontent-%COMP%] {\\n  display: flex !important;\\n  align-items: center !important;\\n  justify-content: flex-start !important;\\n  background: burlywood;\\n}\\n\\n.right[_ngcontent-%COMP%]   div.mat-grid-tile-content[_ngcontent-%COMP%], .rigth[_ngcontent-%COMP%]   div.mat-grid-tile-content[_ngcontent-%COMP%] {\\n  display: flex !important;\\n  align-items: center !important;\\n  justify-content: flex-end !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvdGVjdGVkL3RvbnRpbmUtc3RhcnQvdG9udGluZS1kZXRhaWwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb0JBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtBQW5CRjs7QUFxQkE7RUFDRSxVQUFBO0VBQ0EscUJBQUE7RUFDQSxhQUFBO0VBbkJFLDBDQUFBO0VBQ0EsbUNBQUE7VUFBQSwyQkFBQTtFQUVBLDBDQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFrQkE7RUFDRSxVQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQ0FBQTtBQWZGOztBQWlCQTtFQUNFLGdCQUFBO0FBZEY7O0FBZ0JBO0VBQ0Usb0JBQUE7RUFDQSxlQUFBO0FBYkY7O0FBZUE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0FBWkY7QUFjRTtFQUNFLFVBQUE7RUFDQSxZQUFBO0FBWko7QUFlRTtFQUNFLFVBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw2QkFBQTtBQWJKOztBQWlCRTtFQUNFLHNEQUFBO0FBZEo7O0FBaUJBO0VBQ0UsY0FBQTtBQWRGOztBQWdCQTtFQUNFLGNBQUE7QUFiRjs7QUFlQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0FBWkY7O0FBY0E7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsNkJBQUE7QUFYRjs7QUFhQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQVZGOztBQWFBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0EsbUJBQUE7QUFWRjtBQVdFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7QUFUSjtBQVVJO0VBQ0UsWUFBQTtFQUNBLFNBQUE7QUFSTjs7QUFhQTtFQUVFO0lBQ0UsVUFBQTtFQVhGO0FBQ0Y7QUFhQTtFQUNFLFdBQUE7QUFYRjs7QUFlQTtFQUNFLGFBQUE7QUFaRjs7QUFlQTtFQUVFO0lBQ0UsVUFBQTtFQWJGO0VBaUJBO0lBQ0Usc0JBQUE7SUFDQSxxQkFBQTtJQUNBLDRCQUFBO0lBQ0EsaUJBQUE7RUFmRjtFQW1CQTtJQUNFLGFBQUE7RUFqQkY7RUFxQkE7SUFDRSxXQUFBO0lBQ0Esd0JBQUE7SUFDQSxpQ0FBQTtJQUNBLHVCQUFBO0lBQ0EsaUJBQUE7SUFDQSxZQUFBO0lBQ0EsZ0NBQUE7RUFuQkY7RUFxQkE7SUFDRSxhQUFBO0lBQ0EsbUJBQUE7SUFDQSxjQUFBO0lBQ0EsWUFBQTtJQUNBLFdBQUE7RUFuQkY7QUFDRjtBQXNCQTtFQUNFLG1CQUFBO0VBQ0EsWUFBQTtBQXBCRjs7QUF5QkU7RUFDRSxXQUFBO0FBdEJKOztBQXlCQTtFQUNFLHFCQUFBO0FBdEJGOztBQXlCQTtFQUNFLHdCQUFBO0VBQ0EsOEJBQUE7RUFDQSxzQ0FBQTtFQUNBLHFCQUFBO0FBdEJGOztBQXdCQTtFQUNFLHdCQUFBO0VBQ0EsOEJBQUE7RUFDQSxvQ0FBQTtBQXJCRiIsInNvdXJjZXNDb250ZW50IjpbIkBtaXhpbiBnbGFzcy1tb3JwaCgkdHlwZSl7XHJcbiAgQGlmICR0eXBlID09IDF7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7XHJcbiAgICBjb2xvcjogI2VmZWZlZjtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDElO1xyXG4gICAgYm94LXNoYWRvdzogMCAyNXB4IDM1cHggIzI2MjYyNmNjO1xyXG5cclxuICB9XHJcbiAgQGlmICR0eXBlID09IDJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNik7XHJcbiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7XHJcbiAgICAvL2NvbG9yOiAjZWZlZmVmO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIC8vYm94LXNoYWRvdzogMCAyNXB4IDM1cHggIzI2MjYyNmNjO1xyXG5cclxuICB9XHJcbn1cclxuLmNvbnRlbnR7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG4udGFie1xyXG4gIHdpZHRoOiA3MCU7XHJcbiAgbWFyZ2luOiA0NXB4IDAgNzVweCAwO1xyXG4gIHBhZGRpbmc6IDUwcHg7XHJcbiAgQGluY2x1ZGUgZ2xhc3MtbW9ycGgoMik7XHJcbn1cclxuXHJcbnRhYmxle1xyXG4gIHdpZHRoOiA1NSU7XHJcbiAgaGVpZ2h0OiA1MCU7XHJcbiAgYmFja2dyb3VuZDogbm9uZTtcclxuICBib3gtc2hhZG93OiBub25lO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMTdhMmI4O1xyXG59XHJcbnRye1xyXG4gIGJhY2tncm91bmQ6IG5vbmU7XHJcbn1cclxuLmVjaGVje1xyXG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG4gIG1pbi13aWR0aDogMzVweDtcclxufVxyXG4ucGFue1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcblxyXG4gIGJ1dHRvbntcclxuICAgIHdpZHRoOiA5NSU7XHJcbiAgICBtYXJnaW46IDEwcHg7XHJcbiAgfVxyXG5cclxuICB0Zm9vdHtcclxuICAgIHdpZHRoOiA5NSU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xyXG4gIH1cclxufVxyXG4ubWF0LW1kYy1yb3d7XHJcbiAgLmJlbntcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyMjMsIDEyNiwgMC40NSkgIWltcG9ydGFudDtcclxuICB9XHJcbn1cclxuLnJlamV0ZXJ7XHJcbiAgY29sb3I6IGNyaW1zb247XHJcbn1cclxuLnRvbmluZXtcclxuICBjb2xvcjogIzE3YTJiODtcclxufVxyXG4uZm9vdGVyLWZvcm17XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XHJcbn1cclxuLmZvb3Rlci1mb3JtIGRpdntcclxuICB3aWR0aDogMTAwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XHJcbn1cclxuLmZvb3Rlci0taW5me1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxufVxyXG5cclxuLmJvdHtcclxuICB3aWR0aDogMTAwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAuZm9vdGVyLWluZntcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIG1hcmdpbjogMWVtIDJlbTtcclxuICAgIGg0e1xyXG4gICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgIG1hcmdpbjogMDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KXtcclxuXHJcbiAgLnRhYiB7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gIH1cclxufVxyXG5tYXQtZ3JpZC1saXN0e1xyXG4gIHdpZHRoOiAxMDAlO1xyXG5cclxufVxyXG5cclxuLm1vYmlsZS1sYWJlbCB7XHJcbiAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuQG1lZGlhKG1heC13aWR0aDogNjAwcHgpIHtcclxuXHJcbiAgLnRhYiB7XHJcbiAgICB3aWR0aDogOTUlO1xyXG4gIH1cclxuXHJcbiAgLy8gQ3VzdG9tIGhlYWRlciBsYWJlbCB0aGF0IHNob3dzIGluIGVhY2ggY29sdW1uLCB3aXRoIGEgc2V0IHdpZHRoIGFuZCBib2xkIGZvbnRcclxuICAubW9iaWxlLWxhYmVsIHtcclxuICAgIHdpZHRoOiA4MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyZW07XHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgdGhlIGhlYWRlciByb3cgYWx0b2dldGhlclxyXG4gIC5tYXQtbWRjLWhlYWRlci1yb3cge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICB9XHJcblxyXG4gIC8vIFRoZSByb3cgY2VsbHMgc2hvdWxkIGRpc3BsYXkgYXMgYSBjb2x1bW4sIGp1c3RpZmllZCBsZWZ0LCB3aXRoIGEgYml0IG9mIGV4dHJhIHBhZGRpbmdcclxuICAubWF0LW1kYy1yb3cge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uICFpbXBvcnRhbnQ7XHJcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxuICAgIHBhZGRpbmc6IDhweCAyNHB4O1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM0NjQ2NDY7XHJcbiAgfVxyXG4gIC5tZGMtZGF0YS10YWJsZV9fY2VsbHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAgcGFkZGluZzogMC43ZW07XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgfVxyXG59XHJcbi5pbXByLS1idG57XHJcbiAgYmFja2dyb3VuZDogIzE3YTJiODtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcblxyXG4uYm90MXtcclxuICBoNHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxufVxyXG4uYnRuLWNvdHtcclxuICBib3JkZXItY29sb3I6ICMzZjUxYjU7XHJcblxyXG59XHJcbi5sZWZ0IG1hdC1ncmlkLXRpbGUtY29udGVudHtcclxuICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydCAhaW1wb3J0YW50O1xyXG4gIGJhY2tncm91bmQ6IGJ1cmx5d29vZDtcclxufVxyXG4ucmlnaHQgZGl2Lm1hdC1ncmlkLXRpbGUtY29udGVudCwucmlndGggZGl2Lm1hdC1ncmlkLXRpbGUtY29udGVudHtcclxuICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQgIWltcG9ydGFudDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n    changeDetection: 0\n  });\n}\nexport { TontineDetailComponent };","map":{"version":3,"names":["DestroyRef","inject","CotisationDBComponent","Beneficiaire","Enregistrement","FormControl","jsPDF","autoTable","takeUntilDestroyed","switchMap","tap","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵclassMap","ctx_r1","getclass","element_r19","enregistrement","id","ɵɵadvance","ɵɵtextInterpolate1","i_r20","ctx_r3","element_r21","ɵɵtextInterpolate2","membre","nom","ɵɵpipeBind1","rang","ctx_r4","cot","tauxTontine","ɵɵlistener","TontineDetailComponent_td_16_div_3_span_1_Template_button_click_1_listener","ɵɵrestoreView","_r31","element_r22","ɵɵnextContext","$implicit","ctx_r29","ɵɵresetView","openDialogBox","ɵɵtemplate","TontineDetailComponent_td_16_div_3_span_1_Template","TontineDetailComponent_td_16_div_3_span_2_Template","TontineDetailComponent_td_16_div_3_span_3_Template","ɵɵproperty","ctx_r24","echecs","i_r23","tontine","TontineDetailComponent_td_16_div_4_span_1_Template","TontineDetailComponent_td_16_div_4_span_2_Template","TontineDetailComponent_td_16_div_3_Template","TontineDetailComponent_td_16_div_4_Template","ctx_r5","cotisation","statut","ctx_r6","tauxEchec","TontineDetailComponent_td_19_span_3_Template","TontineDetailComponent_td_19_span_4_Template","ctx_r7","element_r36","retard","ctx_r39","ctx_r40","tauxEchecB","TontineDetailComponent_th_21_span_1_Template","TontineDetailComponent_th_21_span_2_Template","ctx_r8","type","code","ɵɵpropertyInterpolate","ctx_r43","i_r42","TontineDetailComponent_td_22_span_3_Template","TontineDetailComponent_td_22_span_4_Template","ctx_r9","element_r41","ɵɵelement","ctx_r12","benefMontant","ctx_r47","beneficier","ctx_r48","avlise","ctx_r49","tv","data_r55","TontineDetailComponent_form_39_mat_grid_tile_4_mat_option_5_Template","ctx_r50","nonBenef","data_r57","TontineDetailComponent_form_39_mat_grid_tile_5_mat_option_5_Template","ctx_r51","membres","TontineDetailComponent_form_39_mat_grid_tile_6_mat_form_field_1_Template","ctx_r52","ctx_r53","benefForm","valid","TontineDetailComponent_form_39_Template_form_ngSubmit_0_listener","_r60","ctx_r59","valide","TontineDetailComponent_form_39_mat_grid_tile_1_Template","TontineDetailComponent_form_39_mat_grid_tile_2_Template","TontineDetailComponent_form_39_mat_grid_tile_3_Template","TontineDetailComponent_form_39_mat_grid_tile_4_Template","TontineDetailComponent_form_39_mat_grid_tile_5_Template","TontineDetailComponent_form_39_mat_grid_tile_6_Template","TontineDetailComponent_form_39_mat_grid_tile_7_Template","ctx_r13","ctx_r61","supl","ctx_r65","TontineDetailComponent_form_40_mat_grid_tile_10_h4_1_Template","ctx_r62","TontineDetailComponent_form_40_mat_grid_tile_12_Template_button_click_1_listener","_r67","ctx_r66","close","TontineDetailComponent_form_40_Template_form_ngSubmit_0_listener","_r69","ctx_r68","AddComplement","TontineDetailComponent_form_40_mat_grid_tile_9_Template","TontineDetailComponent_form_40_mat_grid_tile_10_Template","TontineDetailComponent_form_40_mat_grid_tile_11_Template","TontineDetailComponent_form_40_mat_grid_tile_12_Template","ctx_r14","compleForm","ctx_r15","tauxVente","ctx_r16","complement","ctx_r70","TontineDetailComponent_mat_grid_tile_43_h4_1_Template","ctx_r17","TontineDetailComponent_mat_grid_list_44_Template_button_click_10_listener","_r72","ctx_r71","openPDF","ctx_r18","TontineDetailComponent","constructor","tontineService","route","dialogBox","formBuilder","cd","dataService","destroyRef","displayedColumns","dataSource","benefs","Map","hadBen","cotStatu","totalEchecs","group","benef","aval","TV","Number","taux","compl","ngOnInit","idTontine","snapshot","params","actualSeanceRang","startCotisation","pipe","data","slice","beneficiaire","avaliste","controls","setValue","isadd","elm","echec","ech","push","ben","set","part","has","subscribe","console","log","markForCheck","enterDuration","exitDuration","open","width","enterAnimationDuration","exitAnimationDuration","afterClosed","getActualParticipation","getNbEchec","total","getTotal","nbSeances","value","getMax","length","supplement","Date","saveCotisation","tauxE","Math","round","ec","tauxCotise","tauxRemis","tauxDu","i","saveParticipationList","j","actif","saveTontine","options","startY","startX","doc","createdAt","text","String","toString","html","save","_","ɵɵdirectiveInject","i1","TontineServiceService","i2","ActivatedRoute","i3","MatDialog","i4","FormBuilder","ChangeDetectorRef","i5","DataService","_2","selectors","decls","vars","consts","template","TontineDetailComponent_Template","rf","ctx","ɵɵelementContainerStart","TontineDetailComponent_th_9_Template","TontineDetailComponent_td_10_Template","ɵɵelementContainerEnd","TontineDetailComponent_th_12_Template","TontineDetailComponent_td_13_Template","TontineDetailComponent_th_15_Template","TontineDetailComponent_td_16_Template","TontineDetailComponent_th_18_Template","TontineDetailComponent_td_19_Template","TontineDetailComponent_th_21_Template","TontineDetailComponent_td_22_Template","TontineDetailComponent_tr_23_Template","TontineDetailComponent_tr_24_Template","TontineDetailComponent_mat_grid_tile_34_Template","TontineDetailComponent_form_39_Template","TontineDetailComponent_form_40_Template","TontineDetailComponent_mat_grid_tile_41_Template","TontineDetailComponent_mat_grid_tile_42_Template","TontineDetailComponent_mat_grid_tile_43_Template","TontineDetailComponent_mat_grid_list_44_Template"],"sources":["/home/ked/backups/Angular/DanguiUi/src/app/protected/tontine-start/tontine-detail.component.ts","/home/ked/backups/Angular/DanguiUi/src/app/protected/tontine-start/tontine-detail.component.html"],"sourcesContent":["import {ChangeDetectionStrategy, ChangeDetectorRef, Component, DestroyRef, inject, OnInit} from '@angular/core';\nimport {MatDialog} from \"@angular/material/dialog\";\nimport {CotisationDBComponent} from \"../../dialogbox/cotisation-db/cotisation-db.component\";\nimport {TontineServiceService} from \"../../Services/tontine-service.service\";\nimport {ActivatedRoute} from \"@angular/router\";\nimport {Participation} from \"../../../Models/Entitys/Participation\";\nimport {Beneficiaire} from \"../../../Models/Entitys/Beneficiaire\";\nimport {Tontine} from \"../../../Models/Abstracts/Tontine\";\nimport {Cotisation} from \"../../../Models/Entitys/Cotisation\";\nimport {Enregistrement} from \"../../../Models/Entitys/Enregistrement\";\nimport {FormBuilder, FormControl} from \"@angular/forms\";\nimport jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport {takeUntilDestroyed} from \"@angular/core/rxjs-interop\";\nimport {switchMap, tap} from \"rxjs\";\nimport {DataService} from \"../../Services/data.service\";\n\n\n@Component({\n  selector: 'app-tontine-start',\n  templateUrl: './tontine-detail.component.html',\n  styleUrls: ['./tontine-detail.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TontineDetailComponent implements OnInit{\n\n  destroyRef = inject(DestroyRef);\n  displayedColumns: string[] = ['position', 'name', 'weight', 'symbol', 'echec'];\n  dataSource:Participation[]=[];\n  benefs:Map<number,Beneficiaire> = new Map<number, Beneficiaire>();\n  echecs:number[][]= [];\n  // idCot!:number;\n  idTontine!:number;\n  tontine:Tontine | null = null;\n  cot:Cotisation|undefined;\n  last:Cotisation|undefined;\n  cotisation:Cotisation|undefined;\n  beneficier: Enregistrement|undefined;\n  avlise: Enregistrement|undefined;\n  membres: Enregistrement[]=[];\n  nonBenef: Enregistrement[]=[];\n  complement: number = 0;\n  hadBen:boolean=false;\n  cotStatu:number=0;\n  tv:number=0;\n  supl=0;\n  benefMontant=0;\n  totalEchecs:number = 0;\n  taux!:number;\n  rang:number|null = null;\n\n  benefForm=this.formBuilder.group({\n    benef:Enregistrement,\n    aval:Enregistrement,\n    TV:new FormControl(Number(this.taux))\n  });\n\n  compleForm=this.formBuilder.group({\n    compl:new FormControl(0),\n    supl: new FormControl(this.supl)\n  });\n\n  constructor(private tontineService:TontineServiceService,\n              private route:ActivatedRoute,\n              private dialogBox:MatDialog,\n              private formBuilder:FormBuilder,\n              private cd:ChangeDetectorRef,\n              private dataService:DataService){\n\n  }\n\n  ngOnInit() {\n\n    this.idTontine=this.route.snapshot.params[\"id\"];\n    this.rang = this.dataService.actualSeanceRang;\n    // this.tontineService.getLastNormalCot(this.idTontine).pipe(\n    //     takeUntilDestroyed(this.destroyRef)\n    // ).subscribe(\n    //   data=>{\n    //     console.log(data);\n    //     this.last=data;\n    //\n    //       if(data.createdAt){\n    //         let creatat= new Date(data.createdAt).getTime();\n    //         let actualDate = new Date().getTime();\n    //         console.log(new Date(data.createdAt),new Date())\n    //         console.log(actualDate-creatat);\n    //         if((actualDate-creatat)>=86400000){\n    //           console.log(\"##### new Cot #####\")\n    //           this.cotisation = new Cotisation(null,data.nom,data.rang+1,0,data.tauxEchec,0,0,data.tauxTontine,\n    //             0,data.tontine,null,new Date(),new Date(),0);\n    //           if (this.cotisation.rang==1){\n    //             this.cotisation.nom = new Date().toLocaleString().slice(0,10)+\" \"+this.cotisation.nom;\n    //           }else {\n    //             console.log(\"::::::::::::::\")\n    //             this.cotisation.nom = new Date().toLocaleString().slice(0,10)+\" \"+this.cotisation.nom.slice(10);\n    //           }\n    //           // if(data.id)\n    //           //   this.idCot=data.id;\n    //         }\n    //         else {\n    //           this.cotisation=data;\n    //           this.beneficier= this.cotisation.beneficiaire?.enregistrement;\n    //           this.avlise=this.cotisation.beneficiaire?.avaliste;\n    //           // if(data.id)\n    //           //   this.idCot=data.id;\n    //         }\n    //         this.cotStatu=this.cotisation.statut;\n    //       }\n    //\n    //     this.tontineService.getActualParticipation(this.idTontine,this.cotisation).subscribe(\n    //       data=>{\n    //         console.log(\"getActualParticipation:\",data);\n    //         this.dataSource = data.slice();\n    //         this.cot=this.cotisation;\n    //         this.tontine=data[0].enregistrement.tontine;\n    //         this.benefForm.controls.TV.setValue(Number(this.tontine?.tauxTontine));\n    //         if(this.cot)\n    //         if(this.cot.beneficiaire?.id!=null){\n    //           this.hadBen=true;\n    //         }\n    //           if (this.cotisation)\n    //           if(this.cotisation.rang!=1){\n    //             this.tontineService.checkEchecsCot(this.idTontine,this.idCot).subscribe(\n    //               data =>{\n    //                   console.log(\"checkEchecsCot\",data);\n    //                 let isadd=false;\n    //                 for(let elm of this.dataSource){\n    //                   isadd=false;\n    //                   for (let echec of data){\n    //                     if(echec[0]==elm.enregistrement.id){\n    //                       let ech =[echec[0],echec[1]+1];\n    //                       console.log(ech);\n    //                       this.echecs.push(ech);\n    //                       isadd=true;\n    //                     }\n    //                   }\n    //                   if(!isadd){\n    //                     this.echecs.push([0,1]);\n    //                   }\n    //                 }\n    //\n    //                 this.tontineService.AllLastbenef(this.idTontine).subscribe(\n    //                   data=>{\n    //                     console.log(\"AllLastbenef:\",data);\n    //                     for (let ben of data){\n    //                       if(ben.enregistrement)\n    //                         this.benefs.set(ben.enregistrement.id,ben);\n    //                     }\n    //\n    //                     for (let part of this.dataSource){\n    //                       this.membres.push(part.enregistrement);\n    //                       if(!(this.benefs.has(part.enregistrement.id))){\n    //                         this.nonBenef.push(part.enregistrement);\n    //                       }\n    //                     }\n    //                   });\n    //\n    //               });\n    //\n    //\n    //           }else {\n    //             for (let echec of data){\n    //               this.echecs.push([0,1]);\n    //             }\n    //\n    //             for (let part of this.dataSource){\n    //               this.membres.push(part.enregistrement);\n    //               this.nonBenef.push(part.enregistrement);\n    //             }\n    //\n    //           }\n    //\n    //       }\n    //     );\n    //\n    // });\n\n\n    this.tontineService.startCotisation(this.idTontine,0,this.rang).pipe(\n        takeUntilDestroyed(this.destroyRef),\n        tap( data => {\n          this.cotisation = data[0];\n          this.dataSource = data[1].slice();\n\n          this.beneficier = this.cotisation.beneficiaire?.enregistrement;\n          this.avlise = this.cotisation.beneficiaire?.avaliste;\n          this.cotStatu = this.cotisation.statut;\n\n          this.cot = this.cotisation;\n          this.tontine = this.dataSource[0].enregistrement.tontine;\n          this.benefForm.controls.TV.setValue(Number(this.tontine?.tauxTontine));\n          if (this.cot) {\n            if (this.cot.beneficiaire?.id != null) {\n              this.hadBen = true;\n            }\n            if (data[2] && data[3]) {\n              let isadd = false;\n              for (let elm of this.dataSource) {\n                isadd = false;\n                for (let echec of data[2]) {\n                  if (echec[0] == elm.enregistrement.id) {\n                    let ech = [echec[0], echec[1] + 1];\n                    this.echecs.push(ech);\n                    isadd = true;\n                  }\n                }\n                if (!isadd)\n                  this.echecs.push([0, 1]);\n              }\n\n\n              for (let ben of data[3]) {\n                if (ben.enregistrement)\n                  this.benefs.set(ben.enregistrement.id, ben);\n              }\n\n              for (let part of this.dataSource) {\n                this.membres.push(part.enregistrement);\n                if (!(this.benefs.has(part.enregistrement.id))) {\n                  this.nonBenef.push(part.enregistrement);\n                }\n              }\n\n\n            }\n          }\n        })\n    ).subscribe(\n        data =>{\n          console.log(\"Success :\",data);\n          this.cd.markForCheck();\n        }\n    );\n\n\n  }\n\n\n  getclass(id:number):string{\n\n    if(this.benefs.has(id))\n      return \"ben\";\n    return \"nonBen\";\n  }\n\n\n  openDialogBox(enterDuration:number,exitDuration:number,part:Participation){\n    console.log(part);\n    if(this.cotisation && this.tontine){\n      part.cotisation=this.cotisation;\n      part.cotisation.tontine=this.tontine;\n\n    }\n    this.dialogBox.open(CotisationDBComponent,{\n      width:'400px',\n      enterAnimationDuration:enterDuration,\n      exitAnimationDuration:exitDuration,\n      data:part,\n    }).afterClosed().subscribe(\n      data =>{\n        if (data && data.data) {\n          console.log(\"close\",data.data);\n          this.cotisation=data.data.cotisation;\n          this.tontineService.getActualParticipation(this.idTontine,this.cotisation).subscribe(data=>{\n            console.log(\"getActualParticipation\",data);\n          });\n        }\n        this.cd.markForCheck();\n      }\n    );\n\n  }\n  getNbEchec(){\n    let total=0;\n    this.totalEchecs=0;\n    for (let data of this.dataSource){\n      if(data.echec){\n        total++;\n\n        if(this.tontine && this.cotisation){\n          if(this.tontine.type.code==2){\n            if (this.getclass(data.enregistrement.id)==\"ben\"){\n              this.totalEchecs+=Number(this.tontine.tauxEchecB)+ this.tontine.tauxTontine;\n            }else {\n              this.totalEchecs+=Number(this.tontine.tauxEchec)+ this.tontine.tauxTontine;\n            }\n          }else if(this.tontine.type.code==1){\n            this.totalEchecs+=Number(this.cotisation.tauxEchec+this.cotisation.tauxTontine);\n\n          }\n        }\n      }\n    }\n    return total;\n  }\n  getTotal(){\n    let total=0;\n    for (let data of this.dataSource){\n      if(data.tontine){\n        total++;\n      }\n    }\n    if(this.tontine){\n      if(this.tontine.type.code==1){\n        if(total>this.tontine.nbSeances){\n          this.supl=(total-this.tontine.nbSeances)*this.tontine?.tauxTontine;\n          this.benefMontant=this.tontine.nbSeances*this.tontine?.tauxTontine;\n        }\n        else {\n          this.supl=0;\n          this.benefMontant=total*this.tontine?.tauxTontine;\n        }\n      }else {\n        this.supl=0;\n        this.benefMontant=total*this.tontine?.tauxTontine;\n      }\n\n      this.compleForm.value.supl=this.supl;\n\n\n      return total*this.tontine?.tauxTontine;\n\n    }\n    return total;\n  }\n  getMax(){\n    if(this.tontine)\n    return this.dataSource.length*(this.tontine?.tauxTontine);\n\n    return 0;\n  }\n\n  valide(){\n    if(this.cotisation){\n      this.cotisation.statut=1;\n      this.cotStatu=1;\n      this.cotisation.supplement=this.supl;\n    }\n    console.log(this.cotisation);\n\n    // @ts-ignore\n    this.beneficier=this.benefForm.value.benef;\n    // @ts-ignore\n    this.avlise=this.benefForm.value.aval;\n    // @ts-ignore\n    this.tv=Number(this.benefForm.value.TV);\n\n    let ben = new Beneficiaire(null,this.benefMontant,this.benefMontant,\n      this.benefMontant,0,this.beneficier,this.avlise,\n      new Date(),new Date());\n\n\n    if(this.tontine)\n    if(this.cotisation){\n      this.cotisation.beneficiaire=ben;\n      this.cotisation.statut=1;\n      this.cotisation.tontine=this.tontine;\n      this.cotisation.tauxVente=this.tv;\n      console.log(this.cotisation);\n      // console.log(JSON.stringify(this.cotisation));\n      this.tontineService.saveCotisation(this.cotisation).subscribe(\n        data=>{\n          console.log(\"save\",data);\n        }\n\n      );\n    }\n    if(this.tontine && this.cotisation)\n    if(this.tontine.type.nom==\"Vente\"){\n      let tauxE=500;\n      if(Math.round(this.tv/this.dataSource.length)>500){\n        tauxE = Math.round(this.tv/this.dataSource.length);\n      }\n      this.cotisation.tauxEchec= tauxE;\n\n    }\n\n\n  }\n\n  AddComplement(){\n    console.log(\"####################addComplements###################\");\n    if(this.cotisation){\n      this.cotisation.statut=2;\n      this.cotStatu=2;\n      this.cotisation.supplement=this.supl;\n    }\n    console.log(this.cotisation);\n    // @ts-ignore\n    this.complement=this.compleForm.value.compl;\n\n    if(this.cotisation && this.tontine){\n      this.cotisation.complement=this.complement;\n      this.cotisation.tontine=this.tontine;\n      let echecs:Participation[]=[];\n      let ec:Participation;\n      let ben = this.cotisation.beneficiaire;\n      if(ben){\n        ben.tauxCotise=this.benefMontant;\n        ben.tauxRemis=this.benefMontant;\n        ben.tauxDu=this.benefMontant;\n        this.cotisation.beneficiaire=ben;\n      }\n\n      this.tontineService.saveCotisation(this.cotisation).pipe(\n          takeUntilDestroyed(this.destroyRef),\n          switchMap(data=>{\n              this.cotisation=data;\n              console.log(data);\n              for (let i=0 ;i<this.dataSource.length;i++) {\n                if (this.echecs[i][1] >= 1) {\n                  ec = this.dataSource[i];\n                  ec.cotisation = this.cotisation;\n                  if (ec.echec)\n                    echecs.push(ec);\n                }\n              }\n                return this.tontineService.saveParticipationList(echecs);\n          })\n      ).subscribe(\n        data=>{\n          console.log(\"saveParticipationList\",data);\n          for(let i=0 ;i<this.dataSource.length;i++){\n            for(let j=0 ;j<data.length;j++){\n              if(data[j].enregistrement.id==this.dataSource[i].enregistrement.id){\n                this.dataSource[i]=data[j];\n              }\n            }\n          }\n          console.log(\"dataSource\",this.dataSource);\n          this.cd.markForCheck();\n        }\n      );\n    }\n  }\n\n\n  close(){\n    if(this.nonBenef.length<=1){\n      if (this.tontine){\n        this.tontine.actif=false;\n        this.tontineService.saveTontine(this.tontine).pipe(\n            takeUntilDestroyed(this.destroyRef),\n            tap( data => {\n              console.log(\"saved Tontine\",data);\n              if (this.cotisation)\n                this.cotisation.tontine=data;\n              if (this.cot)\n                this.cot.tontine=data;\n              this.AddComplement();\n\n            })\n        ).subscribe(() =>{\n            this.cd.markForCheck()\n      });\n      }\n    }\n  }\n\n  public openPDF(): void {\n\n    var part=[];\n    let i =0;\n\n    const options = {\n      startY: 20, // Vertical position to start the table (in mm)\n      startX:20,\n    };\n    const doc = new jsPDF();\n    if (this.cot && this.cot.createdAt)\n      doc.text(\"Tontine : \"+String(this.tontine?.nom).slice(16)+\"       Le : \"+this.cot.createdAt.toString(), 10, 7);\n    if(this.tontine?.type.id==1)\n      doc.text(\"Total de cotisation : \"+this.getTotal()+\"/\"+this.getMax()+\" Fcfa    taux de vente:\"+this.cot?.tauxVente+\" Fcfa\", 10, 21);\n    else\n      doc.text(\"Total de cotisation : \"+this.getTotal()+\"/\"+this.getMax()+\" Fcfa\", 10, 21);\n\n    doc.text(\"Beneficier : \"+this.cot?.beneficiaire?.enregistrement?.membre.nom+\"        Montant : \"+this.cot?.beneficiaire?.tauxRemis+\" Fcfa\", 10,28);\n    doc.text(\"Avalise : \"+this.cot?.beneficiaire?.avaliste?.membre.nom+\"     Suplement : \"+this.cot?.supplement+\" Fcfa\", 10,35);\n    doc.text(\"Echec : \"+this.getNbEchec()+\"   (\"+this.totalEchecs+\" Fcfa)\", 10,42);\n\n    autoTable(doc,{html:'#htmlData',startY:49});\n\n\n    doc.save('Cotisation '+this.cot?.nom+'.pdf');\n  }\n}\n","<div class=\"content\">\n  <div class=\"tab\">\n    <span class=\"pan\">\n      <h4> {{cotisation?.nom}} </h4>\n      <h1>-- SEANCE {{cotisation?.rang}} --</h1>\n    </span>\n    <table mat-table [dataSource]=\"dataSource.slice()\" class=\"mat-elevation-z8\" id=\"htmlData\">\n\n      <!--- Note that these columns can be defined in any order.\n            The actual rendered columns are set as a property on the row definition\" -->\n\n      <!-- Position Column -->\n      <ng-container matColumnDef=\"position\">\n        <th mat-header-cell *matHeaderCellDef> No. </th>\n        <td mat-cell *matCellDef=\"let element,let i = index\" class=\"{{getclass(element.enregistrement.id)}}\">\n          <span class=\"mobile-label\"> No :</span>\n          {{i+1}} </td>\n      </ng-container>\n\n      <!-- Name Column -->\n      <ng-container matColumnDef=\"name\">\n        <th mat-header-cell *matHeaderCellDef> Nom </th>\n        <td mat-cell *matCellDef=\"let element\" class=\"{{getclass(element.enregistrement.id)}}\">\n          <span class=\"mobile-label\"> Nom :</span>\n          {{element.enregistrement.membre.nom}} {{element.enregistrement.rang|enNumber}} </td>\n      </ng-container>\n\n      <!-- Weight Column -->\n      <ng-container matColumnDef=\"weight\">\n        <th mat-header-cell *matHeaderCellDef> Cotisation({{cot?.tauxTontine}}) </th>\n        <td mat-cell *matCellDef=\"let element ;index as i\" class=\"{{getclass(element.enregistrement.id)}}\">\n          <span class=\"mobile-label\"> Cotisation :</span>\n\n          <div *ngIf=\"cotisation?.statut==0 || cotisation?.statut==1\">\n              <span *ngIf=\"echecs[i][1]<=1 && element.tontine==false\">\n                <button mat-stroked-button color=\"primary\" class=\"btn-cot\" (click)=\"openDialogBox(300,200,element)\"> Cotiser </button>\n              </span>\n              <span *ngIf=\"echecs[i][1]>1 && element.tontine==false\" class=\"rejeter\">Rejeter</span>\n              <span *ngIf=\"element.tontine\" class=\"tonine\"> Oui </span>\n          </div>\n\n          <div *ngIf=\"cotisation?.statut==2\">\n            <span *ngIf=\"!element.tontine\" class=\"rejeter\">Non</span>\n            <span *ngIf=\"element.tontine\" class=\"tonine\"> Oui </span>\n          </div>\n        </td>\n      </ng-container>\n\n      <!-- Symbol Column -->\n      <ng-container matColumnDef=\"symbol\">\n        <th mat-header-cell *matHeaderCellDef> Retard ({{cotisation?.tauxEchec|money}}) </th>\n        <td mat-cell *matCellDef=\"let element\" class=\"{{getclass(element.enregistrement.id)}}\">\n          <span class=\"mobile-label\"> Retard :</span>\n          <span *ngIf=\"element.retard\" matBadge=\"1\" class=\"echec\" matBadgeColor=\"accent\"> Oui </span>\n          <span *ngIf=\"!element.retard\" class=\"retard\"> Non </span>\n        </td>\n      </ng-container>\n\n      <ng-container matColumnDef=\"echec\">\n        <th mat-header-cell *matHeaderCellDef>\n          <span *ngIf=\"tontine?.type?.code==1\">Echec ({{cotisation?.tauxEchec|money}})</span>\n          <span *ngIf=\"tontine?.type?.code==2\">Echec ({{cotisation?.tauxEchec|money}} | {{tontine?.tauxEchecB}}F)</span>\n        </th>\n        <td mat-cell *matCellDef=\"let element ;index as i\" class=\"{{getclass(element.enregistrement.id)}}\">\n          <span class=\"mobile-label\"> Echec :</span>\n          <span *ngIf=\" element.tontine==false\" matBadge=\"{{echecs[i][1]}}\" class=\"echec\" matBadgeColor=\"warn\"> Oui </span>\n          <span *ngIf=\"element.tontine\"> Non </span>\n        </td>\n      </ng-container>\n\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n\n    </table>\n    <span class=\"pan\">\n      <section class=\"footer-form\">\n        <div>\n        </div>\n      </section>\n\n      <mat-grid-list cols=\"3\" rowHeight=\"45px\" class=\"letf\">\n        <mat-grid-tile>\n                  <h4>Total: {{getTotal()|money}} / {{getMax()|money}}</h4>\n        </mat-grid-tile>\n        <mat-grid-tile *ngIf=\"tontine?.type?.code==1\">\n                    <h4>A beneficier: {{benefMontant|money}}</h4>\n        </mat-grid-tile>\n        <mat-grid-tile  class=\"right\">\n                    <h4> Echecs: {{totalEchecs|money}} ({{getNbEchec()}})</h4>\n        </mat-grid-tile>\n\n        <!--cotstatu est a 0 lorsque le capital n'a pas encore ete vendu-->\n        <form [formGroup]=\"benefForm\" (ngSubmit)=\"valide()\" *ngIf=\"cotStatu==0\">\n\n          <mat-grid-tile *ngIf=\"cotisation?.statut==1\"  class=\"letf\">\n            <h4>Bénéficiaire: {{beneficier?.membre?.nom}} {{beneficier?.rang|enNumber}} </h4>\n          </mat-grid-tile>\n          <mat-grid-tile *ngIf=\"cotisation?.statut==1\"  class=\"right\">\n            <h4>Avalise: {{avlise?.membre?.nom}}</h4>\n          </mat-grid-tile>\n          <mat-grid-tile *ngIf=\"cotisation?.statut==1\">\n            <h4>Montant de Vente: {{tv}}</h4>\n          </mat-grid-tile>\n\n          <mat-grid-tile rowspan=\"2\" *ngIf=\"cotisation?.statut==0\">\n            <mat-form-field appearance=\"outline\"  class=\"letf\">\n              <mat-label for=\"benef\"> Beneficier </mat-label>\n              <mat-select id=\"benef\" formControlName=\"benef\" required=\"true\">\n                <mat-option *ngFor=\"let data of nonBenef\" [value]= \"data\">\n                  {{data.membre.nom}} {{data.rang|enNumber}}\n                </mat-option >\n              </mat-select >\n            </mat-form-field >\n          </mat-grid-tile>\n\n          <mat-grid-tile rowspan=\"2\" *ngIf=\"cotisation?.statut==0\">\n            <mat-form-field appearance=\"outline\">\n              <mat-label for=\"aval\"> Avalise </mat-label>\n              <mat-select id=\"aval\" formControlName=\"aval\" required=\"true\">\n                <mat-option *ngFor=\"let data of membres\" [value]= \"data\">\n                  {{data.membre.nom}} {{data.rang|enNumber}}\n                </mat-option >\n              </mat-select >\n            </mat-form-field >\n          </mat-grid-tile>\n\n          <mat-grid-tile rowspan=\"2\" *ngIf=\"cotisation?.statut==0\">\n            <mat-form-field *ngIf=\"tontine?.type?.nom=='Vente'\" appearance=\"outline\">\n              <mat-label for=\"TV\"> Taux Vente </mat-label>\n              <input id=\"TV\" matInput placeholder=\"Taux Vente\" formControlName=\"TV\">\n            </mat-form-field >\n          </mat-grid-tile>\n\n          <mat-grid-tile colspan=\"3\" *ngIf=\"cotisation?.statut==0\">\n            <button [disabled]=\"!benefForm.valid\" mat-flat-button color=\"primary\">VALIDER</button>\n          </mat-grid-tile>\n        </form>\n\n        <!--cotstatu est a 1 lorsque le capital ete vendu mais la seance pas terminer-->\n        <form [formGroup]=\"compleForm\" (ngSubmit)=\"AddComplement()\" *ngIf=\"cotStatu==1\">\n          <mat-grid-tile  class=\"letf bot1\" rowspan=\"2\">\n            <h4>Bénéficiaire: {{beneficier?.membre?.nom}} {{beneficier?.rang|enNumber}}</h4>\n          </mat-grid-tile>\n          <mat-grid-tile  class=\"rigth bot2\" rowspan=\"2\">\n            <h4>Avalise: {{avlise?.membre?.nom}} {{avlise?.rang|enNumber}}</h4>\n          </mat-grid-tile>\n\n          <mat-grid-tile *ngIf=\"cotisation?.statut==1\" rowspan=\"2\"  class=\"letf\">\n            <mat-form-field appearance=\"outline\">\n              <mat-label for=\"compl\"> Complement </mat-label>\n              <input [disabled]=\"supl>0\" id=\"compl\" matInput placeholder=\"Complement\" formControlName=\"compl\">\n            </mat-form-field>\n          </mat-grid-tile>\n\n          <mat-grid-tile *ngIf=\"cotisation?.statut==1\">\n            <h4 *ngIf=\"tontine?.type?.code==1\"> Supplement: {{supl}}</h4>\n          </mat-grid-tile>\n\n          <mat-grid-tile *ngIf=\"cotisation?.statut==1\">\n          </mat-grid-tile>\n\n          <mat-grid-tile *ngIf=\"cotisation?.statut==1\" colspan=\"3\">\n                    <button type=\"submit\" mat-flat-button color=\"primary\" (click)=\"close()\">TERMINER</button>\n          </mat-grid-tile>\n        </form>\n\n\n        <mat-grid-tile *ngIf=\"cotisation?.statut==2\">\n          <h4>Montant de Vente: {{cotisation?.tauxVente|money}}</h4>\n        </mat-grid-tile>\n        <mat-grid-tile *ngIf=\"cotisation?.statut==2\"  class=\"letf\">\n          <h4>Complement: {{complement|money}}</h4>\n        </mat-grid-tile>\n        <mat-grid-tile *ngIf=\"cotisation?.statut==2\">\n          <h4 *ngIf=\"tontine?.type?.code==1\">Supplement: {{supl|money}}</h4>\n        </mat-grid-tile>\n\n\n      </mat-grid-list>\n\n      <mat-grid-list *ngIf=\"cotisation?.statut==2\" cols=\"2\" rowHeight=\"50px\">\n        <mat-grid-tile  class=\"letf bot1\">\n          <h4>Bénéficiaire: {{beneficier?.membre?.nom}} {{beneficier?.rang|enNumber}}</h4>\n        </mat-grid-tile>\n        <mat-grid-tile class=\"rigth bot2\">\n          <h4>Avalise: {{avlise?.membre?.nom}} {{avlise?.rang|enNumber}}</h4>\n        </mat-grid-tile>\n\n        <mat-grid-tile colspan=\"2\">\n          <button class=\"impr--btn\" mat-flat-button (click)=\"openPDF()\"> IMPRIMER </button>\n        </mat-grid-tile>\n      </mat-grid-list>\n\n    </span>\n  </div>\n</div>\n"],"mappings":"AAAA,SAA+DA,UAAU,EAAEC,MAAM,QAAe,eAAe;AAE/G,SAAQC,qBAAqB,QAAO,uDAAuD;AAI3F,SAAQC,YAAY,QAAO,sCAAsC;AAGjE,SAAQC,cAAc,QAAO,wCAAwC;AACrE,SAAqBC,WAAW,QAAO,gBAAgB;AACvD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,iBAAiB;AACvC,SAAQC,kBAAkB,QAAO,4BAA4B;AAC7D,SAAQC,SAAS,EAAEC,GAAG,QAAO,MAAM;;;;;;;;;;;;;;;;;;;;ICD3BC,EAAA,CAAAC,cAAA,aAAsC;IAACD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;;IAChDH,EAAA,CAAAC,cAAA,aAAqG;IACvED,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACvCH,EAAA,CAAAE,MAAA,GAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;;;IAFsCH,EAAA,CAAAI,UAAA,CAAAC,MAAA,CAAAC,QAAA,CAAAC,WAAA,CAAAC,cAAA,CAAAC,EAAA,EAA+C;IAElGT,EAAA,CAAAU,SAAA,GAAQ;IAARV,EAAA,CAAAW,kBAAA,MAAAC,KAAA,UAAQ;;;;;IAKVZ,EAAA,CAAAC,cAAA,aAAsC;IAACD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;;IAChDH,EAAA,CAAAC,cAAA,aAAuF;IACzDD,EAAA,CAAAE,MAAA,aAAK;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACxCH,EAAA,CAAAE,MAAA,GAA+E;;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;;IAF/CH,EAAA,CAAAI,UAAA,CAAAS,MAAA,CAAAP,QAAA,CAAAQ,WAAA,CAAAN,cAAA,CAAAC,EAAA,EAA+C;IAEpFT,EAAA,CAAAU,SAAA,GAA+E;IAA/EV,EAAA,CAAAe,kBAAA,MAAAD,WAAA,CAAAN,cAAA,CAAAQ,MAAA,CAAAC,GAAA,OAAAjB,EAAA,CAAAkB,WAAA,OAAAJ,WAAA,CAAAN,cAAA,CAAAW,IAAA,OAA+E;;;;;IAKjFnB,EAAA,CAAAC,cAAA,aAAsC;IAACD,EAAA,CAAAE,MAAA,GAAiC;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAAtCH,EAAA,CAAAU,SAAA,GAAiC;IAAjCV,EAAA,CAAAW,kBAAA,iBAAAS,MAAA,CAAAC,GAAA,kBAAAD,MAAA,CAAAC,GAAA,CAAAC,WAAA,OAAiC;;;;;;IAKlEtB,EAAA,CAAAC,cAAA,WAAwD;IACKD,EAAA,CAAAuB,UAAA,mBAAAC,2EAAA;MAAAxB,EAAA,CAAAyB,aAAA,CAAAC,IAAA;MAAA,MAAAC,WAAA,GAAA3B,EAAA,CAAA4B,aAAA,IAAAC,SAAA;MAAA,MAAAC,OAAA,GAAA9B,EAAA,CAAA4B,aAAA;MAAA,OAAS5B,EAAA,CAAA+B,WAAA,CAAAD,OAAA,CAAAE,aAAA,CAAc,GAAG,EAAC,GAAG,EAAAL,WAAA,CAAS;IAAA,EAAC;IAAE3B,EAAA,CAAAE,MAAA,gBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;;IAExHH,EAAA,CAAAC,cAAA,eAAuE;IAAAD,EAAA,CAAAE,MAAA,cAAO;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IACrFH,EAAA,CAAAC,cAAA,eAA6C;IAACD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IAL7DH,EAAA,CAAAC,cAAA,UAA4D;IACxDD,EAAA,CAAAiC,UAAA,IAAAC,kDAAA,mBAEO;IACPlC,EAAA,CAAAiC,UAAA,IAAAE,kDAAA,mBAAqF;IACrFnC,EAAA,CAAAiC,UAAA,IAAAG,kDAAA,mBAAyD;IAC7DpC,EAAA,CAAAG,YAAA,EAAM;;;;;;;IALKH,EAAA,CAAAU,SAAA,GAA+C;IAA/CV,EAAA,CAAAqC,UAAA,SAAAC,OAAA,CAAAC,MAAA,CAAAC,KAAA,aAAAb,WAAA,CAAAc,OAAA,UAA+C;IAG/CzC,EAAA,CAAAU,SAAA,GAA8C;IAA9CV,EAAA,CAAAqC,UAAA,SAAAC,OAAA,CAAAC,MAAA,CAAAC,KAAA,YAAAb,WAAA,CAAAc,OAAA,UAA8C;IAC9CzC,EAAA,CAAAU,SAAA,GAAqB;IAArBV,EAAA,CAAAqC,UAAA,SAAAV,WAAA,CAAAc,OAAA,CAAqB;;;;;IAI9BzC,EAAA,CAAAC,cAAA,eAA+C;IAAAD,EAAA,CAAAE,MAAA,UAAG;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IACzDH,EAAA,CAAAC,cAAA,eAA6C;IAACD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IAF3DH,EAAA,CAAAC,cAAA,UAAmC;IACjCD,EAAA,CAAAiC,UAAA,IAAAS,kDAAA,mBAAyD;IACzD1C,EAAA,CAAAiC,UAAA,IAAAU,kDAAA,mBAAyD;IAC3D3C,EAAA,CAAAG,YAAA,EAAM;;;;IAFGH,EAAA,CAAAU,SAAA,GAAsB;IAAtBV,EAAA,CAAAqC,UAAA,UAAAV,WAAA,CAAAc,OAAA,CAAsB;IACtBzC,EAAA,CAAAU,SAAA,GAAqB;IAArBV,EAAA,CAAAqC,UAAA,SAAAV,WAAA,CAAAc,OAAA,CAAqB;;;;;IAbhCzC,EAAA,CAAAC,cAAA,aAAmG;IACrED,EAAA,CAAAE,MAAA,oBAAY;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAE/CH,EAAA,CAAAiC,UAAA,IAAAW,2CAAA,kBAMM;IAEN5C,EAAA,CAAAiC,UAAA,IAAAY,2CAAA,kBAGM;IACR7C,EAAA,CAAAG,YAAA,EAAK;;;;;IAf8CH,EAAA,CAAAI,UAAA,CAAA0C,MAAA,CAAAxC,QAAA,CAAAqB,WAAA,CAAAnB,cAAA,CAAAC,EAAA,EAA+C;IAG1FT,EAAA,CAAAU,SAAA,GAAoD;IAApDV,EAAA,CAAAqC,UAAA,UAAAS,MAAA,CAAAC,UAAA,kBAAAD,MAAA,CAAAC,UAAA,CAAAC,MAAA,WAAAF,MAAA,CAAAC,UAAA,kBAAAD,MAAA,CAAAC,UAAA,CAAAC,MAAA,OAAoD;IAQpDhD,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAS,MAAA,CAAAC,UAAA,kBAAAD,MAAA,CAAAC,UAAA,CAAAC,MAAA,OAA2B;;;;;IASnChD,EAAA,CAAAC,cAAA,aAAsC;IAACD,EAAA,CAAAE,MAAA,GAAyC;;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAA9CH,EAAA,CAAAU,SAAA,GAAyC;IAAzCV,EAAA,CAAAW,kBAAA,cAAAX,EAAA,CAAAkB,WAAA,OAAA+B,MAAA,CAAAF,UAAA,kBAAAE,MAAA,CAAAF,UAAA,CAAAG,SAAA,QAAyC;;;;;IAG9ElD,EAAA,CAAAC,cAAA,eAA+E;IAACD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IAC3FH,EAAA,CAAAC,cAAA,eAA6C;IAACD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IAH3DH,EAAA,CAAAC,cAAA,aAAuF;IACzDD,EAAA,CAAAE,MAAA,gBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC3CH,EAAA,CAAAiC,UAAA,IAAAkB,4CAAA,mBAA2F;IAC3FnD,EAAA,CAAAiC,UAAA,IAAAmB,4CAAA,mBAAyD;IAC3DpD,EAAA,CAAAG,YAAA,EAAK;;;;;IAJkCH,EAAA,CAAAI,UAAA,CAAAiD,MAAA,CAAA/C,QAAA,CAAAgD,WAAA,CAAA9C,cAAA,CAAAC,EAAA,EAA+C;IAE7ET,EAAA,CAAAU,SAAA,GAAoB;IAApBV,EAAA,CAAAqC,UAAA,SAAAiB,WAAA,CAAAC,MAAA,CAAoB;IACpBvD,EAAA,CAAAU,SAAA,GAAqB;IAArBV,EAAA,CAAAqC,UAAA,UAAAiB,WAAA,CAAAC,MAAA,CAAqB;;;;;IAM5BvD,EAAA,CAAAC,cAAA,WAAqC;IAAAD,EAAA,CAAAE,MAAA,GAAuC;;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;IAA9CH,EAAA,CAAAU,SAAA,GAAuC;IAAvCV,EAAA,CAAAW,kBAAA,YAAAX,EAAA,CAAAkB,WAAA,OAAAsC,OAAA,CAAAT,UAAA,kBAAAS,OAAA,CAAAT,UAAA,CAAAG,SAAA,OAAuC;;;;;IAC5ElD,EAAA,CAAAC,cAAA,WAAqC;IAAAD,EAAA,CAAAE,MAAA,GAAkE;;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;IAAzEH,EAAA,CAAAU,SAAA,GAAkE;IAAlEV,EAAA,CAAAe,kBAAA,YAAAf,EAAA,CAAAkB,WAAA,OAAAuC,OAAA,CAAAV,UAAA,kBAAAU,OAAA,CAAAV,UAAA,CAAAG,SAAA,UAAAO,OAAA,CAAAhB,OAAA,kBAAAgB,OAAA,CAAAhB,OAAA,CAAAiB,UAAA,OAAkE;;;;;IAFzG1D,EAAA,CAAAC,cAAA,aAAsC;IACpCD,EAAA,CAAAiC,UAAA,IAAA0B,4CAAA,mBAAmF;IACnF3D,EAAA,CAAAiC,UAAA,IAAA2B,4CAAA,mBAA8G;IAChH5D,EAAA,CAAAG,YAAA,EAAK;;;;IAFIH,EAAA,CAAAU,SAAA,GAA4B;IAA5BV,EAAA,CAAAqC,UAAA,UAAAwB,MAAA,CAAApB,OAAA,kBAAAoB,MAAA,CAAApB,OAAA,CAAAqB,IAAA,kBAAAD,MAAA,CAAApB,OAAA,CAAAqB,IAAA,CAAAC,IAAA,OAA4B;IAC5B/D,EAAA,CAAAU,SAAA,GAA4B;IAA5BV,EAAA,CAAAqC,UAAA,UAAAwB,MAAA,CAAApB,OAAA,kBAAAoB,MAAA,CAAApB,OAAA,CAAAqB,IAAA,kBAAAD,MAAA,CAAApB,OAAA,CAAAqB,IAAA,CAAAC,IAAA,OAA4B;;;;;IAInC/D,EAAA,CAAAC,cAAA,eAAqG;IAACD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IAA3EH,EAAA,CAAAgE,qBAAA,aAAAC,OAAA,CAAA1B,MAAA,CAAA2B,KAAA,KAA2B;;;;;IACjElE,EAAA,CAAAC,cAAA,WAA8B;IAACD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IAH5CH,EAAA,CAAAC,cAAA,aAAmG;IACrED,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC1CH,EAAA,CAAAiC,UAAA,IAAAkC,4CAAA,mBAAiH;IACjHnE,EAAA,CAAAiC,UAAA,IAAAmC,4CAAA,mBAA0C;IAC5CpE,EAAA,CAAAG,YAAA,EAAK;;;;;IAJ8CH,EAAA,CAAAI,UAAA,CAAAiE,MAAA,CAAA/D,QAAA,CAAAgE,WAAA,CAAA9D,cAAA,CAAAC,EAAA,EAA+C;IAEzFT,EAAA,CAAAU,SAAA,GAA8B;IAA9BV,EAAA,CAAAqC,UAAA,SAAAiC,WAAA,CAAA7B,OAAA,UAA8B;IAC9BzC,EAAA,CAAAU,SAAA,GAAqB;IAArBV,EAAA,CAAAqC,UAAA,SAAAiC,WAAA,CAAA7B,OAAA,CAAqB;;;;;IAIhCzC,EAAA,CAAAuE,SAAA,aAA4D;;;;;IAC5DvE,EAAA,CAAAuE,SAAA,aAAkE;;;;;IAahEvE,EAAA,CAAAC,cAAA,oBAA8C;IAC9BD,EAAA,CAAAE,MAAA,GAAoC;;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAAzCH,EAAA,CAAAU,SAAA,GAAoC;IAApCV,EAAA,CAAAW,kBAAA,mBAAAX,EAAA,CAAAkB,WAAA,OAAAsD,OAAA,CAAAC,YAAA,MAAoC;;;;;IASlDzE,EAAA,CAAAC,cAAA,wBAA2D;IACrDD,EAAA,CAAAE,MAAA,GAAwE;;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAA7EH,EAAA,CAAAU,SAAA,GAAwE;IAAxEV,EAAA,CAAAe,kBAAA,6BAAA2D,OAAA,CAAAC,UAAA,kBAAAD,OAAA,CAAAC,UAAA,CAAA3D,MAAA,kBAAA0D,OAAA,CAAAC,UAAA,CAAA3D,MAAA,CAAAC,GAAA,OAAAjB,EAAA,CAAAkB,WAAA,OAAAwD,OAAA,CAAAC,UAAA,kBAAAD,OAAA,CAAAC,UAAA,CAAAxD,IAAA,OAAwE;;;;;IAE9EnB,EAAA,CAAAC,cAAA,wBAA4D;IACtDD,EAAA,CAAAE,MAAA,GAAgC;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAArCH,EAAA,CAAAU,SAAA,GAAgC;IAAhCV,EAAA,CAAAW,kBAAA,cAAAiE,OAAA,CAAAC,MAAA,kBAAAD,OAAA,CAAAC,MAAA,CAAA7D,MAAA,kBAAA4D,OAAA,CAAAC,MAAA,CAAA7D,MAAA,CAAAC,GAAA,KAAgC;;;;;IAEtCjB,EAAA,CAAAC,cAAA,oBAA6C;IACvCD,EAAA,CAAAE,MAAA,GAAwB;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAA7BH,EAAA,CAAAU,SAAA,GAAwB;IAAxBV,EAAA,CAAAW,kBAAA,uBAAAmE,OAAA,CAAAC,EAAA,KAAwB;;;;;IAOxB/E,EAAA,CAAAC,cAAA,qBAA0D;IACxDD,EAAA,CAAAE,MAAA,GACF;;IAAAF,EAAA,CAAAG,YAAA,EAAc;;;;IAF4BH,EAAA,CAAAqC,UAAA,UAAA2C,QAAA,CAAe;IACvDhF,EAAA,CAAAU,SAAA,GACF;IADEV,EAAA,CAAAe,kBAAA,MAAAiE,QAAA,CAAAhE,MAAA,CAAAC,GAAA,OAAAjB,EAAA,CAAAkB,WAAA,OAAA8D,QAAA,CAAA7D,IAAA,OACF;;;;;IANNnB,EAAA,CAAAC,cAAA,wBAAyD;IAE7BD,EAAA,CAAAE,MAAA,mBAAW;IAAAF,EAAA,CAAAG,YAAA,EAAY;IAC/CH,EAAA,CAAAC,cAAA,qBAA+D;IAC7DD,EAAA,CAAAiC,UAAA,IAAAgD,oEAAA,yBAEc;IAChBjF,EAAA,CAAAG,YAAA,EAAc;;;;IAHiBH,EAAA,CAAAU,SAAA,GAAW;IAAXV,EAAA,CAAAqC,UAAA,YAAA6C,OAAA,CAAAC,QAAA,CAAW;;;;;IAWxCnF,EAAA,CAAAC,cAAA,qBAAyD;IACvDD,EAAA,CAAAE,MAAA,GACF;;IAAAF,EAAA,CAAAG,YAAA,EAAc;;;;IAF2BH,EAAA,CAAAqC,UAAA,UAAA+C,QAAA,CAAe;IACtDpF,EAAA,CAAAU,SAAA,GACF;IADEV,EAAA,CAAAe,kBAAA,MAAAqE,QAAA,CAAApE,MAAA,CAAAC,GAAA,OAAAjB,EAAA,CAAAkB,WAAA,OAAAkE,QAAA,CAAAjE,IAAA,OACF;;;;;IANNnB,EAAA,CAAAC,cAAA,wBAAyD;IAE9BD,EAAA,CAAAE,MAAA,gBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAY;IAC3CH,EAAA,CAAAC,cAAA,qBAA6D;IAC3DD,EAAA,CAAAiC,UAAA,IAAAoD,oEAAA,yBAEc;IAChBrF,EAAA,CAAAG,YAAA,EAAc;;;;IAHiBH,EAAA,CAAAU,SAAA,GAAU;IAAVV,EAAA,CAAAqC,UAAA,YAAAiD,OAAA,CAAAC,OAAA,CAAU;;;;;IAQ3CvF,EAAA,CAAAC,cAAA,yBAAyE;IAClDD,EAAA,CAAAE,MAAA,mBAAW;IAAAF,EAAA,CAAAG,YAAA,EAAY;IAC5CH,EAAA,CAAAuE,SAAA,gBAAsE;IACxEvE,EAAA,CAAAG,YAAA,EAAkB;;;;;IAJpBH,EAAA,CAAAC,cAAA,wBAAyD;IACvDD,EAAA,CAAAiC,UAAA,IAAAuD,wEAAA,6BAGkB;IACpBxF,EAAA,CAAAG,YAAA,EAAgB;;;;IAJGH,EAAA,CAAAU,SAAA,GAAiC;IAAjCV,EAAA,CAAAqC,UAAA,UAAAoD,OAAA,CAAAhD,OAAA,kBAAAgD,OAAA,CAAAhD,OAAA,CAAAqB,IAAA,kBAAA2B,OAAA,CAAAhD,OAAA,CAAAqB,IAAA,CAAA7C,GAAA,aAAiC;;;;;IAMpDjB,EAAA,CAAAC,cAAA,wBAAyD;IACeD,EAAA,CAAAE,MAAA,cAAO;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAA9EH,EAAA,CAAAU,SAAA,GAA6B;IAA7BV,EAAA,CAAAqC,UAAA,cAAAqD,OAAA,CAAAC,SAAA,CAAAC,KAAA,CAA6B;;;;;;IA1CzC5F,EAAA,CAAAC,cAAA,eAAwE;IAA1CD,EAAA,CAAAuB,UAAA,sBAAAsE,iEAAA;MAAA7F,EAAA,CAAAyB,aAAA,CAAAqE,IAAA;MAAA,MAAAC,OAAA,GAAA/F,EAAA,CAAA4B,aAAA;MAAA,OAAY5B,EAAA,CAAA+B,WAAA,CAAAgE,OAAA,CAAAC,MAAA,EAAQ;IAAA,EAAC;IAEjDhG,EAAA,CAAAiC,UAAA,IAAAgE,uDAAA,4BAEgB;IAChBjG,EAAA,CAAAiC,UAAA,IAAAiE,uDAAA,4BAEgB;IAChBlG,EAAA,CAAAiC,UAAA,IAAAkE,uDAAA,4BAEgB;IAEhBnG,EAAA,CAAAiC,UAAA,IAAAmE,uDAAA,4BASgB;IAEhBpG,EAAA,CAAAiC,UAAA,IAAAoE,uDAAA,4BASgB;IAEhBrG,EAAA,CAAAiC,UAAA,IAAAqE,uDAAA,4BAKgB;IAEhBtG,EAAA,CAAAiC,UAAA,IAAAsE,uDAAA,4BAEgB;IAClBvG,EAAA,CAAAG,YAAA,EAAO;;;;IA5CDH,EAAA,CAAAqC,UAAA,cAAAmE,OAAA,CAAAb,SAAA,CAAuB;IAEX3F,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAmE,OAAA,CAAAzD,UAAA,kBAAAyD,OAAA,CAAAzD,UAAA,CAAAC,MAAA,OAA2B;IAG3BhD,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAmE,OAAA,CAAAzD,UAAA,kBAAAyD,OAAA,CAAAzD,UAAA,CAAAC,MAAA,OAA2B;IAG3BhD,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAmE,OAAA,CAAAzD,UAAA,kBAAAyD,OAAA,CAAAzD,UAAA,CAAAC,MAAA,OAA2B;IAIfhD,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAmE,OAAA,CAAAzD,UAAA,kBAAAyD,OAAA,CAAAzD,UAAA,CAAAC,MAAA,OAA2B;IAW3BhD,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAmE,OAAA,CAAAzD,UAAA,kBAAAyD,OAAA,CAAAzD,UAAA,CAAAC,MAAA,OAA2B;IAW3BhD,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAmE,OAAA,CAAAzD,UAAA,kBAAAyD,OAAA,CAAAzD,UAAA,CAAAC,MAAA,OAA2B;IAO3BhD,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAmE,OAAA,CAAAzD,UAAA,kBAAAyD,OAAA,CAAAzD,UAAA,CAAAC,MAAA,OAA2B;;;;;IAcvDhD,EAAA,CAAAC,cAAA,wBAAuE;IAE3CD,EAAA,CAAAE,MAAA,mBAAW;IAAAF,EAAA,CAAAG,YAAA,EAAY;IAC/CH,EAAA,CAAAuE,SAAA,gBAAgG;IAClGvE,EAAA,CAAAG,YAAA,EAAiB;;;;IADRH,EAAA,CAAAU,SAAA,GAAmB;IAAnBV,EAAA,CAAAqC,UAAA,aAAAoE,OAAA,CAAAC,IAAA,KAAmB;;;;;IAK5B1G,EAAA,CAAAC,cAAA,SAAmC;IAACD,EAAA,CAAAE,MAAA,GAAoB;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAAzBH,EAAA,CAAAU,SAAA,GAAoB;IAApBV,EAAA,CAAAW,kBAAA,kBAAAgG,OAAA,CAAAD,IAAA,KAAoB;;;;;IAD1D1G,EAAA,CAAAC,cAAA,oBAA6C;IAC3CD,EAAA,CAAAiC,UAAA,IAAA2E,6DAAA,iBAA6D;IAC/D5G,EAAA,CAAAG,YAAA,EAAgB;;;;IADTH,EAAA,CAAAU,SAAA,GAA4B;IAA5BV,EAAA,CAAAqC,UAAA,UAAAwE,OAAA,CAAApE,OAAA,kBAAAoE,OAAA,CAAApE,OAAA,CAAAqB,IAAA,kBAAA+C,OAAA,CAAApE,OAAA,CAAAqB,IAAA,CAAAC,IAAA,OAA4B;;;;;IAGnC/D,EAAA,CAAAuE,SAAA,oBACgB;;;;;;IAEhBvE,EAAA,CAAAC,cAAA,wBAAyD;IACOD,EAAA,CAAAuB,UAAA,mBAAAuF,iFAAA;MAAA9G,EAAA,CAAAyB,aAAA,CAAAsF,IAAA;MAAA,MAAAC,OAAA,GAAAhH,EAAA,CAAA4B,aAAA;MAAA,OAAS5B,EAAA,CAAA+B,WAAA,CAAAiF,OAAA,CAAAC,KAAA,EAAO;IAAA,EAAC;IAACjH,EAAA,CAAAE,MAAA,eAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;;;IAvBrGH,EAAA,CAAAC,cAAA,eAAgF;IAAjDD,EAAA,CAAAuB,UAAA,sBAAA2F,iEAAA;MAAAlH,EAAA,CAAAyB,aAAA,CAAA0F,IAAA;MAAA,MAAAC,OAAA,GAAApH,EAAA,CAAA4B,aAAA;MAAA,OAAY5B,EAAA,CAAA+B,WAAA,CAAAqF,OAAA,CAAAC,aAAA,EAAe;IAAA,EAAC;IACzDrH,EAAA,CAAAC,cAAA,wBAA8C;IACxCD,EAAA,CAAAE,MAAA,GAAuE;;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAElFH,EAAA,CAAAC,cAAA,wBAA+C;IACzCD,EAAA,CAAAE,MAAA,GAA0D;;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAGrEH,EAAA,CAAAiC,UAAA,IAAAqF,uDAAA,4BAKgB;IAEhBtH,EAAA,CAAAiC,UAAA,KAAAsF,wDAAA,4BAEgB;IAEhBvH,EAAA,CAAAiC,UAAA,KAAAuF,wDAAA,4BACgB;IAEhBxH,EAAA,CAAAiC,UAAA,KAAAwF,wDAAA,4BAEgB;IAClBzH,EAAA,CAAAG,YAAA,EAAO;;;;IAzBDH,EAAA,CAAAqC,UAAA,cAAAqF,OAAA,CAAAC,UAAA,CAAwB;IAEtB3H,EAAA,CAAAU,SAAA,GAAuE;IAAvEV,EAAA,CAAAe,kBAAA,6BAAA2G,OAAA,CAAA/C,UAAA,kBAAA+C,OAAA,CAAA/C,UAAA,CAAA3D,MAAA,kBAAA0G,OAAA,CAAA/C,UAAA,CAAA3D,MAAA,CAAAC,GAAA,OAAAjB,EAAA,CAAAkB,WAAA,OAAAwG,OAAA,CAAA/C,UAAA,kBAAA+C,OAAA,CAAA/C,UAAA,CAAAxD,IAAA,MAAuE;IAGvEnB,EAAA,CAAAU,SAAA,GAA0D;IAA1DV,EAAA,CAAAe,kBAAA,cAAA2G,OAAA,CAAA7C,MAAA,kBAAA6C,OAAA,CAAA7C,MAAA,CAAA7D,MAAA,kBAAA0G,OAAA,CAAA7C,MAAA,CAAA7D,MAAA,CAAAC,GAAA,OAAAjB,EAAA,CAAAkB,WAAA,QAAAwG,OAAA,CAAA7C,MAAA,kBAAA6C,OAAA,CAAA7C,MAAA,CAAA1D,IAAA,MAA0D;IAGhDnB,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAqF,OAAA,CAAA3E,UAAA,kBAAA2E,OAAA,CAAA3E,UAAA,CAAAC,MAAA,OAA2B;IAO3BhD,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAqF,OAAA,CAAA3E,UAAA,kBAAA2E,OAAA,CAAA3E,UAAA,CAAAC,MAAA,OAA2B;IAI3BhD,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAqF,OAAA,CAAA3E,UAAA,kBAAA2E,OAAA,CAAA3E,UAAA,CAAAC,MAAA,OAA2B;IAG3BhD,EAAA,CAAAU,SAAA,GAA2B;IAA3BV,EAAA,CAAAqC,UAAA,UAAAqF,OAAA,CAAA3E,UAAA,kBAAA2E,OAAA,CAAA3E,UAAA,CAAAC,MAAA,OAA2B;;;;;IAM7ChD,EAAA,CAAAC,cAAA,oBAA6C;IACvCD,EAAA,CAAAE,MAAA,GAAiD;;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAAtDH,EAAA,CAAAU,SAAA,GAAiD;IAAjDV,EAAA,CAAAW,kBAAA,uBAAAX,EAAA,CAAAkB,WAAA,OAAA0G,OAAA,CAAA7E,UAAA,kBAAA6E,OAAA,CAAA7E,UAAA,CAAA8E,SAAA,MAAiD;;;;;IAEvD7H,EAAA,CAAAC,cAAA,wBAA2D;IACrDD,EAAA,CAAAE,MAAA,GAAgC;;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAArCH,EAAA,CAAAU,SAAA,GAAgC;IAAhCV,EAAA,CAAAW,kBAAA,iBAAAX,EAAA,CAAAkB,WAAA,OAAA4G,OAAA,CAAAC,UAAA,MAAgC;;;;;IAGpC/H,EAAA,CAAAC,cAAA,SAAmC;IAAAD,EAAA,CAAAE,MAAA,GAA0B;;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAA/BH,EAAA,CAAAU,SAAA,GAA0B;IAA1BV,EAAA,CAAAW,kBAAA,iBAAAX,EAAA,CAAAkB,WAAA,OAAA8G,OAAA,CAAAtB,IAAA,MAA0B;;;;;IAD/D1G,EAAA,CAAAC,cAAA,oBAA6C;IAC3CD,EAAA,CAAAiC,UAAA,IAAAgG,qDAAA,iBAAkE;IACpEjI,EAAA,CAAAG,YAAA,EAAgB;;;;IADTH,EAAA,CAAAU,SAAA,GAA4B;IAA5BV,EAAA,CAAAqC,UAAA,UAAA6F,OAAA,CAAAzF,OAAA,kBAAAyF,OAAA,CAAAzF,OAAA,CAAAqB,IAAA,kBAAAoE,OAAA,CAAAzF,OAAA,CAAAqB,IAAA,CAAAC,IAAA,OAA4B;;;;;;IAMrC/D,EAAA,CAAAC,cAAA,wBAAuE;IAE/DD,EAAA,CAAAE,MAAA,GAAuE;;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAElFH,EAAA,CAAAC,cAAA,wBAAkC;IAC5BD,EAAA,CAAAE,MAAA,GAA0D;;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAGrEH,EAAA,CAAAC,cAAA,wBAA2B;IACiBD,EAAA,CAAAuB,UAAA,mBAAA4G,0EAAA;MAAAnI,EAAA,CAAAyB,aAAA,CAAA2G,IAAA;MAAA,MAAAC,OAAA,GAAArI,EAAA,CAAA4B,aAAA;MAAA,OAAS5B,EAAA,CAAA+B,WAAA,CAAAsG,OAAA,CAAAC,OAAA,EAAS;IAAA,EAAC;IAAEtI,EAAA,CAAAE,MAAA,kBAAS;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAP7EH,EAAA,CAAAU,SAAA,GAAuE;IAAvEV,EAAA,CAAAe,kBAAA,6BAAAwH,OAAA,CAAA5D,UAAA,kBAAA4D,OAAA,CAAA5D,UAAA,CAAA3D,MAAA,kBAAAuH,OAAA,CAAA5D,UAAA,CAAA3D,MAAA,CAAAC,GAAA,OAAAjB,EAAA,CAAAkB,WAAA,OAAAqH,OAAA,CAAA5D,UAAA,kBAAA4D,OAAA,CAAA5D,UAAA,CAAAxD,IAAA,MAAuE;IAGvEnB,EAAA,CAAAU,SAAA,GAA0D;IAA1DV,EAAA,CAAAe,kBAAA,cAAAwH,OAAA,CAAA1D,MAAA,kBAAA0D,OAAA,CAAA1D,MAAA,CAAA7D,MAAA,kBAAAuH,OAAA,CAAA1D,MAAA,CAAA7D,MAAA,CAAAC,GAAA,OAAAjB,EAAA,CAAAkB,WAAA,OAAAqH,OAAA,CAAA1D,MAAA,kBAAA0D,OAAA,CAAA1D,MAAA,CAAA1D,IAAA,MAA0D;;;ADvKxE,MAMaqH,sBAAsB;EAsCjCC,YAAoBC,cAAoC,EACpCC,KAAoB,EACpBC,SAAmB,EACnBC,WAAuB,EACvBC,EAAoB,EACpBC,WAAuB;IALvB,KAAAL,cAAc,GAAdA,cAAc;IACd,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,SAAS,GAATA,SAAS;IACT,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,EAAE,GAAFA,EAAE;IACF,KAAAC,WAAW,GAAXA,WAAW;IAzC/B,KAAAC,UAAU,GAAG1J,MAAM,CAACD,UAAU,CAAC;IAC/B,KAAA4J,gBAAgB,GAAa,CAAC,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAC;IAC9E,KAAAC,UAAU,GAAiB,EAAE;IAC7B,KAAAC,MAAM,GAA4B,IAAIC,GAAG,EAAwB;IACjE,KAAA7G,MAAM,GAAa,EAAE;IAGrB,KAAAE,OAAO,GAAkB,IAAI;IAM7B,KAAA8C,OAAO,GAAmB,EAAE;IAC5B,KAAAJ,QAAQ,GAAmB,EAAE;IAC7B,KAAA4C,UAAU,GAAW,CAAC;IACtB,KAAAsB,MAAM,GAAS,KAAK;IACpB,KAAAC,QAAQ,GAAQ,CAAC;IACjB,KAAAvE,EAAE,GAAQ,CAAC;IACX,KAAA2B,IAAI,GAAC,CAAC;IACN,KAAAjC,YAAY,GAAC,CAAC;IACd,KAAA8E,WAAW,GAAU,CAAC;IAEtB,KAAApI,IAAI,GAAe,IAAI;IAEvB,KAAAwE,SAAS,GAAC,IAAI,CAACkD,WAAW,CAACW,KAAK,CAAC;MAC/BC,KAAK,EAAChK,cAAc;MACpBiK,IAAI,EAACjK,cAAc;MACnBkK,EAAE,EAAC,IAAIjK,WAAW,CAACkK,MAAM,CAAC,IAAI,CAACC,IAAI,CAAC;KACrC,CAAC;IAEF,KAAAlC,UAAU,GAAC,IAAI,CAACkB,WAAW,CAACW,KAAK,CAAC;MAChCM,KAAK,EAAC,IAAIpK,WAAW,CAAC,CAAC,CAAC;MACxBgH,IAAI,EAAE,IAAIhH,WAAW,CAAC,IAAI,CAACgH,IAAI;KAChC,CAAC;EASF;EAEAqD,QAAQA,CAAA;IAEN,IAAI,CAACC,SAAS,GAAC,IAAI,CAACrB,KAAK,CAACsB,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;IAC/C,IAAI,CAAC/I,IAAI,GAAG,IAAI,CAAC4H,WAAW,CAACoB,gBAAgB;IAC7C;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAGA,IAAI,CAACzB,cAAc,CAAC0B,eAAe,CAAC,IAAI,CAACJ,SAAS,EAAC,CAAC,EAAC,IAAI,CAAC7I,IAAI,CAAC,CAACkJ,IAAI,CAChExK,kBAAkB,CAAC,IAAI,CAACmJ,UAAU,CAAC,EACnCjJ,GAAG,CAAEuK,IAAI,IAAG;MACV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"},"metadata":{},"sourceType":"module","externalDependencies":[]}