{"ast":null,"code":"import { MAT_DIALOG_DATA } from \"@angular/material/dialog\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../../Services/tontine-service.service\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"../../../Models/Entitys/Participation\";\nclass CotisationDBComponent {\n  constructor(dialogRef, participation, tontineService) {\n    this.dialogRef = dialogRef;\n    this.participation = participation;\n    this.tontineService = tontineService;\n  }\n  cotiser() {\n    if (this.participation.cotisation.statut == 0) {\n      this.participation.echec = false;\n      this.participation.tontine = true;\n    } else if (this.participation.cotisation.statut == 1) {\n      this.participation.echec = false;\n      this.participation.tontine = true;\n      this.participation.retard = true;\n    }\n    if (this.participation.cotisation.id == null) {\n      this.tontineService.saveCotisation(this.participation.cotisation).subscribe(data => {\n        console.log(\"saveCotisation:\", data);\n        this.participation.cotisation = data;\n        this.tontineService.saveParticipation(this.participation).subscribe(data => {\n          console.log(\"save part\", data);\n          this.dialogRef.close({\n            data: this.participation\n          });\n        });\n      });\n    } else {\n      this.tontineService.saveParticipation(this.participation).subscribe(data => {\n        console.log(\"save part\", data);\n        this.dialogRef.close({\n          data: this.participation\n        });\n      });\n    }\n  }\n  static #_ = this.ɵfac = function CotisationDBComponent_Factory(t) {\n    return new (t || CotisationDBComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.TontineServiceService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CotisationDBComponent,\n    selectors: [[\"app-cotisation-db\"]],\n    decls: 11,\n    vars: 2,\n    consts: [[\"mat-dialog-content\", \"\"], [\"mat-dialog-actions\", \"\"], [\"mat-flat-button\", \"\", \"cdkFocusInitial\", \"\", \"mat-button\", \"\", \"color\", \"primary\", 1, \"Btn\", 3, \"click\"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\", \"color\", \"accent\", 1, \"Btn\"]],\n    template: function CotisationDBComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtext(1);\n        i0.ɵɵelementStart(2, \"p\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\");\n        i0.ɵɵtext(5, \" NB: le retard sera pris en compte. \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 1)(7, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function CotisationDBComponent_Template_button_click_7_listener() {\n          return ctx.cotiser();\n        });\n        i0.ɵɵtext(8, \"OUI\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 3);\n        i0.ɵɵtext(10, \"NON\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" Confirmer la cotisation de \", ctx.participation.enregistrement.tontine == null ? null : ctx.participation.enregistrement.tontine.tauxTontine, \" Chez Mr \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.participation.enregistrement.membre.nom, \" \");\n      }\n    },\n    dependencies: [i3.MatButton, i1.MatDialogClose, i1.MatDialogContent, i1.MatDialogActions],\n    styles: [\".mat-mdc-dialog-actions[_ngcontent-%COMP%] {\\n  margin: 0;\\n  justify-content: flex-start;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  width: 100%;\\n}\\n\\n.Btn[_ngcontent-%COMP%] {\\n  margin: 0 !important;\\n  width: 95%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGlhbG9nYm94L2NvdGlzYXRpb24tZGIvY290aXNhdGlvbi1kYi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFNBQUE7RUFDQSwyQkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUNBO0VBQ0Usb0JBQUE7RUFDQSxVQUFBO0FBRUYiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LW1kYy1kaWFsb2ctYWN0aW9ucyB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG4uQnRue1xyXG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xyXG4gIHdpZHRoOiA5NSU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}\nexport { CotisationDBComponent };","map":{"version":3,"names":["MAT_DIALOG_DATA","CotisationDBComponent","constructor","dialogRef","participation","tontineService","cotiser","cotisation","statut","echec","tontine","retard","id","saveCotisation","subscribe","data","console","log","saveParticipation","close","_","i0","ɵɵdirectiveInject","i1","MatDialogRef","i2","TontineServiceService","_2","selectors","decls","vars","consts","template","CotisationDBComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CotisationDBComponent_Template_button_click_7_listener","ɵɵadvance","ɵɵtextInterpolate1","enregistrement","tauxTontine","membre","nom"],"sources":["/home/ked/backups/Angular/DanguiUi/src/app/dialogbox/cotisation-db/cotisation-db.component.ts","/home/ked/backups/Angular/DanguiUi/src/app/dialogbox/cotisation-db/cotisation-db.component.html"],"sourcesContent":["import {Component, Inject} from '@angular/core';\nimport {MAT_DIALOG_DATA, MatDialogRef} from \"@angular/material/dialog\";\nimport {Participation} from \"../../../Models/Entitys/Participation\";\nimport {Cotisation} from \"../../../Models/Entitys/Cotisation\";\nimport {TontineServiceService} from \"../../Services/tontine-service.service\";\n\n@Component({\n  selector: 'app-cotisation-db',\n  templateUrl: './cotisation-db.component.html',\n  styleUrls: ['./cotisation-db.component.scss']\n})\nexport class CotisationDBComponent {\n\n\n  constructor(public dialogRef:MatDialogRef<CotisationDBComponent>,\n              @Inject(MAT_DIALOG_DATA) public participation:Participation,\n              private tontineService:TontineServiceService) {\n\n  }\n\n  cotiser(){\n    if(this.participation.cotisation.statut==0){\n      this.participation.echec=false;\n      this.participation.tontine=true;\n    }else if(this.participation.cotisation.statut==1){\n      this.participation.echec=false;\n      this.participation.tontine=true;\n      this.participation.retard=true;\n    }\n    if(this.participation.cotisation.id==null){\n      this.tontineService.saveCotisation(this.participation.cotisation).subscribe(\n        data =>{\n          console.log(\"saveCotisation:\",data);\n          this.participation.cotisation=data;\n\n          this.tontineService.saveParticipation(this.participation).subscribe(\n            data=>{\n              console.log(\"save part\",data);\n              this.dialogRef.close({ data: this.participation });\n            }\n          );\n        }\n      );\n\n    }else {\n      this.tontineService.saveParticipation(this.participation).subscribe(\n        data=>{\n          console.log(\"save part\",data);\n          this.dialogRef.close({ data: this.participation });\n        }\n      );\n    }\n  }\n}\n","\n<div mat-dialog-content>\n  Confirmer la cotisation de {{participation.enregistrement.tontine?.tauxTontine}} Chez Mr\n  <p>\n    {{participation.enregistrement.membre.nom}}\n  </p>\n  <p>\n    NB: le retard sera pris en compte.\n  </p>\n</div>\n<div mat-dialog-actions>\n  <button mat-flat-button cdkFocusInitial  mat-button  class=\"Btn\" color=\"primary\" (click)=\"cotiser()\">OUI</button>\n  <button mat-button mat-dialog-close color=\"accent\" class=\"Btn\">NON</button>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}