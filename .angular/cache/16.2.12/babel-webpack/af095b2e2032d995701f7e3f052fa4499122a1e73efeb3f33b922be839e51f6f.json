{"ast":null,"code":"import { DestroyRef, inject } from '@angular/core';\nimport { takeUntilDestroyed } from \"@angular/core/rxjs-interop\";\nimport { switchMap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../Services/tontine-service.service\";\nimport * as i2 from \"../../Services/auth.service\";\nimport * as i3 from \"../../Services/data.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/table\";\nimport * as i8 from \"@angular/material/tabs\";\nfunction TontineBilanListComponent_mat_tab_6_th_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \" No. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r17 = ctx.$implicit;\n    const i_r18 = ctx.index;\n    i0.ɵɵclassMap(element_r17.actif ? \"actif\" : \"inactif\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i_r18 + 1, \" \");\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \" Nom \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r19 = ctx.$implicit;\n    i0.ɵɵclassMap(element_r19.actif ? \"actif\" : \"inactif\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r19.nom, \" \");\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \" Taux \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18)(1, \"span\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r20 = ctx.$implicit;\n    i0.ɵɵclassMap(element_r20.actif ? \"actif\" : \"inactif\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(element_r20.tauxTontine);\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \" Type \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18)(1, \"span\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r21 = ctx.$implicit;\n    i0.ɵɵclassMap(element_r21.actif ? \"actif\" : \"inactif\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(element_r21.type.nom);\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 17);\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 18)(1, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function TontineBilanListComponent_mat_tab_6_td_16_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const element_r22 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.SelectTontine(element_r22));\n    });\n    i0.ɵɵtext(2, \"Afficher\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r22 = ctx.$implicit;\n    i0.ɵɵclassMap(element_r22.actif ? \"actif\" : \"inactif\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/public/tontine/desc/\", element_r22.id, \"\");\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 17);\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_td_19_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵtext(1, \"Ajouter un Membre\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r25 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/public/member/add/\", element_r25.id, \"\");\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtemplate(1, TontineBilanListComponent_mat_tab_6_td_19_button_1_Template, 2, 1, \"button\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r25 = ctx.$implicit;\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(element_r25.actif ? \"actif\" : \"inactif\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r25.actif && ctx_r14.Roles.includes(\"BUREAU\"));\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 23);\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 24);\n  }\n}\nfunction TontineBilanListComponent_mat_tab_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-tab\", 5)(1, \"table\", 6);\n    i0.ɵɵelementContainerStart(2, 7);\n    i0.ɵɵtemplate(3, TontineBilanListComponent_mat_tab_6_th_3_Template, 2, 0, \"th\", 8);\n    i0.ɵɵtemplate(4, TontineBilanListComponent_mat_tab_6_td_4_Template, 2, 4, \"td\", 9);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(5, 10);\n    i0.ɵɵtemplate(6, TontineBilanListComponent_mat_tab_6_th_6_Template, 2, 0, \"th\", 8);\n    i0.ɵɵtemplate(7, TontineBilanListComponent_mat_tab_6_td_7_Template, 2, 4, \"td\", 9);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(8, 11);\n    i0.ɵɵtemplate(9, TontineBilanListComponent_mat_tab_6_th_9_Template, 2, 0, \"th\", 8);\n    i0.ɵɵtemplate(10, TontineBilanListComponent_mat_tab_6_td_10_Template, 3, 4, \"td\", 9);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(11, 12);\n    i0.ɵɵtemplate(12, TontineBilanListComponent_mat_tab_6_th_12_Template, 2, 0, \"th\", 8);\n    i0.ɵɵtemplate(13, TontineBilanListComponent_mat_tab_6_td_13_Template, 3, 4, \"td\", 9);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(14, 13);\n    i0.ɵɵtemplate(15, TontineBilanListComponent_mat_tab_6_th_15_Template, 1, 0, \"th\", 8);\n    i0.ɵɵtemplate(16, TontineBilanListComponent_mat_tab_6_td_16_Template, 3, 4, \"td\", 9);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(17, 14);\n    i0.ɵɵtemplate(18, TontineBilanListComponent_mat_tab_6_th_18_Template, 1, 0, \"th\", 8);\n    i0.ɵɵtemplate(19, TontineBilanListComponent_mat_tab_6_td_19_Template, 2, 4, \"td\", 9);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(20, TontineBilanListComponent_mat_tab_6_tr_20_Template, 1, 0, \"tr\", 15);\n    i0.ɵɵtemplate(21, TontineBilanListComponent_mat_tab_6_tr_21_Template, 1, 0, \"tr\", 16);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const type_r1 = ctx.$implicit;\n    const j_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate1(\"label\", \"Tontines \", type_r1.nom, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataSource\", ctx_r0.tontines[j_r2].slice());\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r0.displayedColumns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r0.displayedColumns);\n  }\n}\nlet TontineBilanListComponent = /*#__PURE__*/(() => {\n  class TontineBilanListComponent {\n    constructor(tontineService, authSrv, dataService, cd) {\n      this.tontineService = tontineService;\n      this.authSrv = authSrv;\n      this.dataService = dataService;\n      this.cd = cd;\n      this.displayedColumns = ['position', 'name', 'cotisation', 'type', 'retard', 'echec'];\n      this.dataSource = [];\n      this.types = [];\n      this.tontines = [];\n      this.Roles = \"\";\n      this.destroyRef = inject(DestroyRef);\n      this.JSON = JSON;\n    }\n    ngOnInit() {\n      this.Roles = this.authSrv.role;\n      this.tontineService.getTypes().pipe(takeUntilDestroyed(this.destroyRef), switchMap(types => {\n        this.types = types;\n        for (let type of this.types) {\n          this.tontines.push(new Array());\n        }\n        if (this.Roles.includes('BUREAU')) return this.tontineService.LoadTontine();\n        return this.tontineService.LoadMyTontine();\n      })).subscribe(data => {\n        for (let i = 0; i < data.length; i++) {\n          for (let j = 0; j < this.types.length; j++) {\n            if (data[i].type.id == this.types[j].id) {\n              this.tontines[j].push(data[i]);\n            }\n          }\n        }\n        for (let i = 0; i < this.types.length; i++) {\n          this.tontines[i].sort((a, b) => {\n            if (a.actif && !b.actif) return -1;else if (!a.actif && b.actif) return 1;\n            return 0;\n          });\n        }\n        this.cd.markForCheck();\n      });\n    }\n    getClass(tontine) {\n      return tontine.actif ? \"actif\" : \"inactif\";\n    }\n    getTontine(j) {\n      return this.tontines[j];\n    }\n    SelectTontine(element) {\n      this.dataService.actualTontine = element;\n    }\n    static #_ = this.ɵfac = function TontineBilanListComponent_Factory(t) {\n      return new (t || TontineBilanListComponent)(i0.ɵɵdirectiveInject(i1.TontineServiceService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.DataService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TontineBilanListComponent,\n      selectors: [[\"app-showtontine\"]],\n      decls: 7,\n      vars: 1,\n      consts: [[1, \"content\"], [1, \"list\"], [1, \"pan\"], [\"animationDuration\", \"750ms\"], [3, \"label\", 4, \"ngFor\", \"ngForOf\"], [3, \"label\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"position\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 3, \"class\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"matColumnDef\", \"cotisation\"], [\"matColumnDef\", \"type\"], [\"matColumnDef\", \"retard\"], [\"matColumnDef\", \"echec\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [1, \"lab\"], [\"mat-flat-button\", \"\", \"color\", \"warn\", 3, \"routerLink\", \"click\"], [\"mat-stroked-button\", \"\", \"disabled\", \"false\", \"color\", \"primary\", 3, \"routerLink\", 4, \"ngIf\"], [\"mat-stroked-button\", \"\", \"disabled\", \"false\", \"color\", \"primary\", 3, \"routerLink\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n      template: function TontineBilanListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"span\", 2)(3, \"h4\");\n          i0.ɵɵtext(4, \" Liste Des Tontines\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"mat-tab-group\", 3);\n          i0.ɵɵtemplate(6, TontineBilanListComponent_mat_tab_6_Template, 22, 4, \"mat-tab\", 4);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", ctx.types);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i5.RouterLink, i6.MatButton, i7.MatTable, i7.MatHeaderCellDef, i7.MatHeaderRowDef, i7.MatColumnDef, i7.MatCellDef, i7.MatRowDef, i7.MatHeaderCell, i7.MatCell, i7.MatHeaderRow, i7.MatRow, i8.MatTab, i8.MatTabGroup],\n      styles: [\".content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.list[_ngcontent-%COMP%]{width:60%;background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#efefef;border:1px solid rgba(255,255,255,.7);border-radius:1%;box-shadow:0 25px 35px #262626cc;background:none;margin:65px 40px}table[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#efefef;border:1px solid rgba(255,255,255,.7);border-radius:1%;box-shadow:0 25px 35px #262626cc;background:none}.pan[_ngcontent-%COMP%]{background:rgba(255,255,255,.5);display:flex;flex-direction:column;align-items:center;justify-content:center}.pan[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#343a40}.mat-column-echec[_ngcontent-%COMP%], .mat-column-retard[_ngcontent-%COMP%]{width:200px;padding-right:5px;text-align:center}.inactif[_ngcontent-%COMP%]{background-color:#dc143c4d}.btn-add[_ngcontent-%COMP%]{color:#673ab7;background-color:#efefef57;border-color:#673ab7}@media screen and (max-width: 940px){.list[_ngcontent-%COMP%]{width:70%}}@media screen and (max-width: 740px){.list[_ngcontent-%COMP%]{width:90%}}@media screen and (max-width: 640px){.list[_ngcontent-%COMP%]{width:95%}.mat-column-echec[_ngcontent-%COMP%], .mat-column-retard[_ngcontent-%COMP%]{width:100px;padding-right:0;text-align:center}}@media screen and (max-width: 500px){.list[_ngcontent-%COMP%]{width:99%}.mat-column-echec[_ngcontent-%COMP%], .mat-column-retard[_ngcontent-%COMP%]{width:100px;padding-right:0;text-align:center}}\"],\n      changeDetection: 0\n    });\n  }\n  return TontineBilanListComponent;\n})();\nexport { TontineBilanListComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}